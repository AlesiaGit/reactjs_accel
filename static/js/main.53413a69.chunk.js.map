{"version":3,"sources":["serviceWorker.js","components/Shared/body-wrapper.js","components/Shared/next-step-button.js","components/Shared/header-menu.js","components/Shared/header-submenu.js","components/Firebase/index.js","components/ReportBumps/favorities-map.js","components/ReportBumps/favorities-list.js","helpers/index.js","components/Shared/bumps-map.js","components/Shared/car.js","components/Shared/drawer.js","components/ReportBumps/index.js","components/CheckTrip/search-menu.js","components/CheckTrip/index.js","components/Start/index.js","components/App.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","navigatorId","timerId","NextStepButton","_this","this","react_default","a","createElement","className","style","backgroundColor","props","color","display","isDisplayed","onClick","toggleButton","disabled","disableCondition","text","Component","HeaderMenu","concat","icon","onMenuToggle","title","HeaderSubmenu","handleEvent","condition","handlerName","camelize","handleSelection","selectedOption","_this2","tabs","options","map","item","index","key","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","FavoritiesMap","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","loadMap","favorities","componentDidUpdate","prevProps","prevState","google","maps","_this$props$favoritie","zoom","path","center","bumps","mapOptions","zoomControl","scaleControl","fullscreenControl","mapTypeControl","streetViewControl","tripOptions","strokeColor","strokeOpacity","strokeWeight","bumpOption","fillColor","fillOpacity","scale","anchor","Point","Map","mapRef","current","trip","Polyline","setMap","forEach","bump","push","Marker","position","lat","lng","animation","Animation","DROP","componenWillUnmount","React","createRef","_this$props$dimention","dimentions","width","height","ref","FavoritiesList","_this$props","selectedTrip","length","favorities_map","i","onTripSelect","start","end","tripdistance","toFixed","EARTH_RADIUS","str","split","word","charAt","toUpperCase","slice","join","compare","obj1","obj2","hasOwnProperty","toRad","num","Math","PI","getDistance","lat1","lng1","lat2","lng2","dLat","dLng","sin","cos","atan2","sqrt","NAVIGATOR_OPTIONS","enableHighAccuracy","timeout","maximumAge","Body","collection","doc","get","exists","data","allBumps","setState","addEventListener","updateWindowDimensions","isRecordingMode","startRecording","stopRecording","isGuidanceMode","componentWillUnmount","removeEventListener","innerHeight","innerWidth","geolocation","watchPosition","updateLocationData","err","DeviceMotionEvent","updateAccelerationData","ev","_ev$acceleration","acceleration","x","y","z","_this$state$accelerat","prev","average","max","ticks","_this$state$currentLo","currentLocation","ax","ay","az","curr","pow","helpers","toConsumableArray","cover","setTimeout","animateBump","clearTimeout","coords","latitude","longitude","timestamp","distance","angle","brng","time","abs","speed","previousLocation","move","convertToReadableAddress","Promise","resolve","reject","addresses","geocoder","Geocoder","geocode","results","status","Error","formatted_address","clearWatch","updateFavoritiesData","_this$state","bounds","arrayOfCoords","maxY","minY","maxX","minX","ne","sw","round","LN2","shift","endpoints","_ref","localStorage","setItem","JSON","stringify","resetMove","onZoomChanged","mapProps","clickEvent","sendBumpsToFirebase","docRef","set","sendTripToFirebase","parse","getItem","canvas","mymap","mymarker","_this$state2","isSearchMode","isFavoritiesView","isCheckTripView","bumps_map","centerAroundCurrentLocation","car","favorities_list","dist","GoogleApiWrapper","process","BumpsMap","getCurrentPosition","pos","isCurrentPositionReceived","buildRoute","directionsDisplay","request","origin","destination","travelMode","directionsService","route","response","directionArray","geometry","encoding","decodePath","routes","overview_polyline","result","bumpsArray","resultingBumps","startAndBump","endAndBump","lengthBtwnPathPoints","n","setBumpsOnMap","databaseBumps","setDirections","convertAddressToCoordinates","address","LatLng","mapConfig","assign","DirectionsService","DirectionsRenderer","e","addListener","event","trigger","recenterMap","panTo","deleteMarkers","markersArray","marker","size","updateCurrent","tripBumps","renderChildren","children","Children","c","cloneElement","mapCenter","_props$initialCenter","initialCenter","temp","evtName","_this3","defaultProps","elements","fill","Car","renderMarker","removeMarker","_this$props2","undefined","rotation","pref","setZIndex","Drawer","id","react_router_dom","exact","to","replace","markSelection","ReportBumps","setStatusBarColor","onFavoritiesView","isMapView","onMapView","isDrawer","toggleRecording","submenuOptions","header_menu","header_submenu","body_wrapper","next_step_button","isDataFetched","drawer","SearchMenu","displaySearch","type","name","value","placeholder","onFocus","preventResize","onChange","handleChange","clearSearch","CheckTrip","document","querySelector","setAttribute","ratio","onNextStepButtonToggle","onSearchButtonToggle","_e$target","target","defineProperty","drawerDisplay","searchBtnDisplay","search_menu","Start","customHistory","createBrowserHistory","App","history","pushState","noBackExitsApp","currentTarget","react_router","component","components_Start","components_ReportBumps","components_CheckTrip","ready","unregister","ReactDOM","render","src_components_App","getElementById","URL","href","fetch","contentType","headers","indexOf","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.53413a69.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Component } from 'react';\r\nimport '../../styles/report-bumps.css';\r\nimport '../../styles/check-trip.css';\r\nimport '../../styles/shared.css';\r\n\r\nimport { db } from '../Firebase/index';\r\nimport { GoogleApiWrapper, Polyline } from 'google-maps-react';\r\nimport { BumpsMap, Car } from './index';\r\nimport FavoritiesList from '../ReportBumps/favorities-list';\r\nimport * as helpers from '../../helpers/index';\r\n\r\n\r\nlet navigatorId;\r\nlet timerId;\r\n\r\nconst NAVIGATOR_OPTIONS = {\r\n\tenableHighAccuracy: true,\r\n\ttimeout: 5000,\r\n\tmaximumAge: 0\r\n};\r\n\r\nclass Body extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t    this.state = {\r\n\t    \tpath: [],\r\n\t    \tcurrentLocation: {}, \r\n\t    \tpreviousLocation: {}, \r\n\t    \tacceleration: {prev: { x: 0, y: 0, z: 0}, average: 0, max: 0, ticks: 0}, \r\n\t    \tzoom: 16, \r\n\t    \tangle: 0, \r\n\t    \tmove: 0, \r\n\t    \ttripdistance: 0,\r\n\t    \tdimentions: { height: window.innerHeight, width: window.innerWidth },\r\n\t    \tfavorities: JSON.parse(localStorage.getItem(\"favorities\")) || [], //заменить на данные с Firestore\r\n\t    \tbumps: [],\r\n\t    \tallBumps: [],\r\n\t    \tcover: false\r\n\t    };\r\n\r\n\t    this.canvas = React.createRef();\r\n\t    this.mymap = React.createRef();\r\n\t    this.mymarker = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tvar docRef = db.collection('limit').doc('result');\r\n\t\tdocRef.get().then(doc =>{\r\n\t\t    if (doc.exists) {\r\n\t\t        return doc.data().data;\r\n\t\t    }\r\n\t\t}).then(allBumps => {\r\n\t\t\tthis.setState({allBumps});\r\n\t\t\t//localStorage.setItem(\"bumps\", JSON.stringify(allBumps));\r\n\t\t})\r\n\r\n\t\twindow.addEventListener('resize', this.updateWindowDimensions);\r\n\t}\r\n\r\n\tcomponentDidUpdate = (prevProps, prevState) => {\r\n\t   \tif (prevProps.isRecordingMode !== this.props.isRecordingMode) {\r\n\t\t   \tif (this.props.isRecordingMode === true) {\r\n\t\t\t\tthis.startRecording();\r\n\t\t\t} else {\r\n\t\t\t\tthis.stopRecording();\r\n\t\t\t}\r\n\t   \t}\r\n\r\n\t   \tif (prevProps.isGuidanceMode !== this.props.isGuidanceMode) {\r\n\t\t   \tif (this.props.isGuidanceMode === true) {\r\n\t\t\t\tthis.startRecording();\r\n\t\t\t} else {\r\n\t\t\t\tthis.stopRecording();\r\n\t\t\t}\r\n\t   \t}\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t\twindow.removeEventListener('resize', this.updateWindowDimensions);\r\n\t}\r\n\r\n\tupdateWindowDimensions = () => {\r\n\t  \tthis.setState({ \r\n\t  \t\tdimentions: {\r\n\t    \t\theight: window.innerHeight,\r\n\t    \t\twidth: window.innerWidth\r\n\t    \t} \r\n\t    });\r\n\t}\r\n\r\n\tstartRecording = () => {\r\n\t\tthis.setState({\r\n\t\t\tpath: [],\r\n\t\t\tbumps: [],\r\n\t\t\ttripdistance: 0\r\n\t\t});\r\n\r\n\t\tif (navigator && navigator.geolocation) { // обработка отсутствия\r\n\t\t\tnavigatorId = navigator.geolocation.watchPosition(this.updateLocationData, this.err, NAVIGATOR_OPTIONS);\r\n\t    }\t\r\n\r\n\t    if (window.DeviceMotionEvent) { //обработка отсутствия\r\n\t    \t\twindow.addEventListener(\"devicemotion\", this.updateAccelerationData); \r\n\t    }\r\n\t}\r\n\r\n\terr = () => {\r\n\t\tconsole.log(\"error\");\r\n\t}\r\n\r\n\tupdateAccelerationData = (ev) => {\r\n\t\tlet { x, y, z } = ev.acceleration;\r\n\t\tlet { prev, average, max, ticks } = this.state.acceleration;\r\n\t\tlet { lat, lng } = this.state.currentLocation;\r\n\t\tlet bumps = this.state.bumps;\r\n\r\n\t\tif (x !== null && y !== null && z !== null) {\r\n\t\t\tlet ax = x - prev.x;\r\n\t\t\tlet ay = y - prev.y;\r\n\t\t\tlet az = z - prev.z;\r\n\t\t\tlet curr = Math.pow((ax * ax + ay * ay + az * az), 1 / 3); //current level of acceleration with existing phone position\r\n\t\t\t\r\n\t\t\tif (curr > 2.829226039) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tbumps: (bumps.length === 0 || !helpers.compare(bumps[bumps.length - 1], {lat, lng})) ? [...bumps, {lat, lng}] : bumps,\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tthis.setState({cover: true})\r\n\t\t\t\t\ttimerId = setTimeout(this.animateBump, 800);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tmax = max > curr ? max : curr;\r\n\r\n\t\t\tthis.setState({acceleration: {prev: { x, y, z }, average, max, ticks}})\r\n\t\t}\r\n\t}\r\n\r\n\tanimateBump = () => {\r\n\t\tthis.setState({cover: false})\r\n\t\tclearTimeout(timerId);\r\n\t}\t\r\n\r\n\tupdateLocationData = location => {\r\n\t\tvar prev = this.state.currentLocation;\r\n\t\tlet path = this.state.path;\r\n\r\n\t\tvar lat = location.coords.latitude;\r\n\t\tvar lng = location.coords.longitude;\r\n\t\tvar timestamp = location.timestamp;\r\n\r\n\t\tvar distance = helpers.getDistance(prev.lat, prev.lng, lat, lng); // в метрах\r\n\t\tvar angle = helpers.getAngle(prev.lat, prev.lng, lat, lng);\r\n\t\tvar time = Math.abs(prev.timestamp - timestamp)/ 1000; // в секундах\r\n\t\tvar speed = (distance/time) ? (distance/time * 3600 / 1000) : 0; //в км/час\r\n\r\n\t\tthis.setState({\t\r\n\t\t\tpreviousLocation: prev,\r\n\t\t\tcurrentLocation: { lat,\tlng, speed,\ttimestamp },\r\n\t\t\tpath: (path.length === 0 || !helpers.compare(path[path.length - 1], {lat, lng})) ? [...this.state.path, {lat, lng}] : path,\r\n\t\t\tangle: (Math.abs(angle - this.state.angle) > 22) ? angle : this.state.angle,\r\n\t\t\tmove: this.state.move + distance,\r\n\t\t\ttripdistance: this.state.tripdistance + distance / 1000\r\n\t\t});\r\n\t}\r\n\r\n\tconvertToReadableAddress = coords => {\r\n\t\treturn new Promise ((resolve, reject) => {\r\n\t\t\tlet maps = this.props.google.maps;\r\n\t\t\tlet addresses = [];\r\n\t\t\tlet geocoder = new maps.Geocoder();\r\n\r\n\t\t\tfor (var i = 0; i < coords.length; i++) {\r\n\t\t\t\tgeocoder.geocode({'location': coords[i]}, (results, status) => {\r\n\t\t\t\t\tif (status !== 'OK') reject(new Error('Geocoder failed due to: ' + status));\r\n\t\t\t\t\tif (!results[0]) reject(new Error('No results'));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\taddresses.push(results[0].formatted_address);\r\n\t\t\t\t\tif (coords.length === addresses.length) resolve({start: addresses[0], end: addresses[1]});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tstopRecording = () => {\r\n\t\tnavigator.geolocation.clearWatch(navigatorId);\r\n\t\twindow.removeEventListener(\"devicemotion\", this.updateAccelerationData);\r\n\r\n\t\tthis.updateFavoritiesData();\r\n\t}\r\n\r\n\tupdateFavoritiesData = () => {\r\n\t\tlet { favorities, bumps, tripdistance } = this.state;\r\n\t\tlet path = this.state.path;\r\n\t\tlet bounds = helpers.getBounds(path);\r\n\t\tlet center = helpers.getCenter(bounds);\r\n\t\tlet { ne, sw } = bounds;\r\n\t\t\r\n\t\tvar distance = helpers.getDistance(sw.lat, sw.lng, ne.lat, ne.lng);\r\n\t\tvar zoom = helpers.getZoom(distance);\r\n\t\t\r\n\t\tif (path.length <= 1) return;\r\n\t\tif (favorities.length === 5) favorities.shift();\r\n\r\n\t\tlet endpoints = [path[0], path[path.length - 1]];\r\n\t\tthis.convertToReadableAddress(endpoints).then(({start, end}) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tfavorities: [...favorities, { start, end, path, zoom, center, bumps, tripdistance }]\r\n\t\t\t}, () => localStorage.setItem('favorities', JSON.stringify(this.state.favorities)));\r\n\t\t});\r\n\t}\r\n\r\n\tresetMove = () => {\r\n\t\tthis.setState({\r\n\t\t\tmove: 0\r\n\t\t})\r\n\t}\r\n\r\n\tonZoomChanged = (mapProps, map, clickEvent) => {\r\n\t\t//console.log(map.getZoom());\r\n\t}\r\n\r\n\tsendBumpsToFirebase = () => {\r\n\t\tlet bumps = this.state.bumps;\r\n\t\tlet docRef = db.collection('limit').doc('result');\r\n\t\tdocRef.get()\r\n\t\t.then(doc => {\r\n\t\t    if (doc.exists) return doc.data().data;\r\n\t\t})\r\n\t\t.then(allBumps => docRef.set({data: allBumps.concat(bumps)}));\r\n\t}\r\n\r\n\tsendTripToFirebase = () => {\r\n\t\tlet path = db.collection('trip').doc('path');\r\n\t\tpath.set({path: this.state.path});\r\n\t\tlet bumps = db.collection('trip').doc('bumps');\r\n\t\tbumps.set({bumps: this.state.bumps});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { bumps, angle, move, path, allBumps, favorities, dimentions, currentLocation } = this.state;\r\n\t\tlet { google, isSearchMode, start, end, isFavoritiesView, isCheckTripView, isRecordingMode, selectedTrip, isGuidanceMode } = this.props;\r\n\r\n\t\t\r\n\t\tif (isCheckTripView) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"map\">\r\n\t\t\t\t\t<BumpsMap \r\n\t\t\t\t\t\tcenterAroundCurrentLocation\r\n\t\t\t\t\t\tgoogle={google}\r\n\t\t\t\t\t\tupdateLocationData={this.updateLocationData}\r\n\t\t\t\t\t\tcurrentLocation={currentLocation}\r\n\t\t\t\t\t\tisRecordingMode={isGuidanceMode}\r\n\t\t\t\t\t\tonZoomChanged={this.onZoomChanged}\t\t\r\n\t\t\t\t\t\tdimentions={dimentions}\r\n\t\t\t\t\t\tcamelize={helpers.camelize}\t\r\n\t\t\t\t\t\tbumps={bumps}\r\n\t\t\t\t\t\tallBumps={allBumps}\r\n\t\t\t\t\t\tisSearchMode={isSearchMode} \r\n\t\t\t\t\t\tstart={start} \r\n\t\t\t\t\t\tend={end} >\r\n\t\t\t\t\t\t<Car \r\n\t\t\t\t\t\t\tangle={angle}\r\n\t\t\t\t\t\t\tmove={move}\r\n\t\t\t\t\t\t\tresetMove={this.resetMove}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t</BumpsMap>\t\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\r\n\t\tif (isFavoritiesView) {\r\n\t\t\treturn (\r\n\t\t\t\t<FavoritiesList \r\n\t\t\t\t\tfavorities={favorities} \r\n\t\t\t\t\tselectedTrip={selectedTrip}\r\n\t\t\t\t\tgoogle={google} \r\n\t\t\t\t\tdimentions={dimentions}\r\n\t\t\t\t\tonTripSelect={this.props.onTripSelect}\r\n\t\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"map\">\r\n\t\t\t\t<BumpsMap \r\n\t\t\t\t\tcenterAroundCurrentLocation\r\n\t\t\t\t\tgoogle={google}\r\n\t\t\t\t\tupdateLocationData={this.updateLocationData}\r\n\t\t\t\t\tcurrentLocation={currentLocation}\r\n\t\t\t\t\tisRecordingMode={isRecordingMode}\r\n\t\t\t\t\tonZoomChanged={this.onZoomChanged}\t\t\r\n\t\t\t\t\tdimentions={dimentions}\r\n\t\t\t\t\tcamelize={helpers.camelize}\t\r\n\t\t\t\t\tbumps={bumps}\r\n\t\t\t\t\tallBumps={allBumps}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<Car \r\n\t\t\t\t\t\tangle={angle}\r\n\t\t\t\t\t\tmove={move}\r\n\t\t\t\t\t\tresetMove={this.resetMove}\r\n\t\t\t\t\t\t/>\t\r\n\t\t\t\t\t<Polyline\r\n\t\t\t\t\t\tpath={path}\r\n\t\t\t\t\t\tstrokeColor=\"#4D8FAC\"\r\n\t\t\t\t\t\tstrokeOpacity={0.8}\r\n\t\t\t\t\t\tstrokeWeight={4} \r\n\t\t\t\t\t\t/>\t\t\t\t\t\r\n\t\t\t\t</BumpsMap>\r\n\t\t\t\t<div className=\"map-bump-cover\" style={{display: this.state.cover ? \"flex\": \"none\"}}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n \tapiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY\r\n})(Body);\r\n\r\n\r\n//<button onClick={this.sendBumpsToFirebase} style={{ position: 'absolute', top: '17vh', left: 0, height: '5vh'}}>Add bumps to map</button>\r\n//<button onClick={this.sendTripToFirebase} style={{ position: 'absolute', top: '26vh', left: 0, height: '5vh'}}>Save trip to firebase</button>\r\n","import React, { Component } from 'react';\r\nimport '../../styles/shared.css';\r\n\r\nclass NextStepButton extends Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div \r\n\t\t\t\tclassName=\"bottom-ruler-btn\" \r\n\t\t\t\tstyle={{ backgroundColor: this.props.color, display: this.props.isDisplayed ? \"flex\" : \"none\" }} \r\n\t\t\t\tonClick={() => this.props.toggleButton()} \r\n\t\t\t\tdisabled={!this.props.disableCondition}>\r\n\t\t\t\t{this.props.text}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NextStepButton;","import React, { Component } from 'react';\r\n\r\nclass HeaderMenu extends Component {\r\n\trender() {\r\n\t\t//let icon = this.props.icon !== null ? \"back-arrow\" : \"burger-icon\";\r\n\t\t//let title = this.props.title !== null ? \"Back to list\" : \"Report a bump\";\r\n\t\t\r\n\t\treturn (\r\n\t\t\t\t<div className=\"header-menu\">\r\n\t\t\t\t\t<div className=\"header-left-menu\">\r\n\t\t\t\t\t\t<div className={`header-menu-icon ${this.props.icon}`} onClick={() => this.props.onMenuToggle()}></div>\r\n\t\t\t\t\t\t<div className=\"page-title\">{this.props.title}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"header-right-menu\">\r\n\t\t\t\t\t\t<div className=\"header-menu-icon settings-icon\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default HeaderMenu;","import React, { Component } from 'react';\r\n\r\nclass HeaderSubmenu extends Component {\r\n\r\n\thandleEvent = condition => {\r\n\t\tconst handlerName = `on${this.props.camelize(condition)}`;\r\n\t\tthis.props[handlerName]();\r\n\t}\r\n\r\n\thandleSelection = condition => {\r\n\t\tconst selectedOption = `is${this.props.camelize(condition)}`;\r\n\t\treturn this.props[selectedOption];\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet tabs = this.props.options.map((item, index) => (\r\n\t\t\t\t<div className={`header-submenu-tab ${this.handleSelection(item) ? \"tab-active\" : \"\"}`} \r\n\t\t\t\t\tonClick={() => this.handleEvent(item)} key={index}>{item}</div>\r\n\t\t\t\t));\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"header-submenu\">\r\n\t\t\t\t{tabs}\r\n\t\t\t</div>\r\n\t\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default HeaderSubmenu;\r\n","// import app from 'firebase/app';\r\n// import 'firebase/database';\r\n\r\n// const config = {\r\n//     apiKey: \"AIzaSyBexhCuV6JNCsyakFOeBK7NmFb_oM_pgxo\",\r\n//     authDomain: \"bumpyroadsinformer.firebaseapp.com\",\r\n//     databaseURL: \"https://bumpyroadsinformer.firebaseio.com\",\r\n//     projectId: \"bumpyroadsinformer\",\r\n//     storageBucket: \"\",\r\n//     messagingSenderId: \"854546127925\",\r\n//     appId: \"1:854546127925:web:d3c2a81c7c4e9ba6\"\r\n// };\r\n\r\n// class Firebase {\r\n//   constructor() {\r\n//     app.initializeApp(config);\r\n\r\n//     this.db = app.firestore();\r\n//   }\r\n\r\n//   coverage = () => this.db.ref('coverage');\r\n// }\r\n\r\n// export default Firebase;\r\n\r\nimport firebase from \"firebase\";\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n    apiKey: \"AIzaSyBexhCuV6JNCsyakFOeBK7NmFb_oM_pgxo\",\r\n    authDomain: \"bumpyroadsinformer.firebaseapp.com\",\r\n    databaseURL: \"https://bumpyroadsinformer.firebaseio.com\",\r\n    projectId: \"bumpyroadsinformer\",\r\n    storageBucket: \"\",\r\n    messagingSenderId: \"854546127925\",\r\n    appId: \"1:854546127925:web:d3c2a81c7c4e9ba6\"\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\n\r\nexport { db };","import React, { Component } from 'react';\r\n\r\nclass FavoritiesMap extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.mapRef = React.createRef();\r\n\t\tthis.trip = null;\r\n\t\tthis.bumps = [];\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.loadMap();\r\n\r\n\t\tconsole.log(this.props.favorities)\r\n\t}\r\n\r\n\tcomponentDidUpdate = (prevProps, prevState) => {\r\n\t\tif (prevProps.google !== this.props.google || prevProps.favorities !== this.props.favorities) {\r\n\t\t\tthis.loadMap();\r\n\t\t}\r\n\t}\r\n\r\n\tloadMap = () => {\r\n\t\tif (this.props.google) {\r\n\r\n\t\t\tlet maps = this.props.google.maps;\r\n\t\t\tlet { zoom, path, center, bumps } = this.props.favorities;\r\n\r\n\t\t\tconst mapOptions = {\r\n\t\t\t\tcenter,\r\n\t\t\t\tzoom,\r\n\t\t\t\tzoomControl: false,\r\n    \t\t\tscaleControl: false,\r\n    \t\t\tfullscreenControl: false,\r\n    \t\t\tmapTypeControl: false,\r\n    \t\t\tstreetViewControl: false,\r\n\t\t\t};\r\n\r\n\t\t\tlet tripOptions = {\r\n\t\t\t\tpath,\r\n\t\t        strokeColor: '#4D8FAC',\r\n\t\t        strokeOpacity: 0.8,\r\n\t\t        strokeWeight: 4,\r\n\t\t\t};\r\n\r\n\t\t\tlet bumpOption = {\r\n\t\t\t\tpath: \"M-4,0a4,4 0 1,0 8,0a4,4 0 1,0 -8,0\",\r\n\t\t\t\tfillColor: \"red\",\r\n\t\t\t\tstrokeColor: \"red\",\r\n                fillOpacity: 1.0,\r\n                scale: 0.8,\r\n                anchor: new maps.Point(0, 0)\r\n\t\t\t}\r\n\r\n  \t\t\tthis.map = new maps.Map(this.mapRef.current, mapOptions);\r\n\t\t\tthis.trip = new maps.Polyline(tripOptions);\r\n\t\t\t\r\n\t\t\tif (this.map) {\r\n\t\t\t\tthis.trip.setMap(this.map); \r\n\r\n\t\t\t\tbumps.forEach((bump, index) => {\r\n\t\t\t\t\tthis.bumps.push(new maps.Marker({ position: {lat: bump.lat, lng: bump.lng}, icon: bumpOption, map: this.map, animation: maps.Animation.DROP }));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponenWillUnmount = () => {\r\n\t\tthis.trip.setMap(null);\r\n\t\tthis.bumps.forEach(bump => bump.setMap(null));\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (!this.props.favorities) return;\r\n\t\tlet { width, height } = this.props.dimentions;\r\n\r\n\t\tlet style = {\r\n\t\t\twidth: width +\"px\", \r\n\t\t\theight: height +\"px\", \r\n\t\t\tposition: \"relative\"\r\n\t\t};\r\n\r\n\t  \treturn (\r\n\t  \t\t<div className=\"favorities-map\">\r\n\t  \t\t\t<div ref={this.mapRef} style={style} />\r\n\t  \t\t</div>\r\n        );\r\n\t}\r\n}\r\n\r\nexport default FavoritiesMap;\r\n","import React, { Component } from 'react';\r\nimport FavoritiesMap from './favorities-map';\r\n\r\nclass FavoritiesList extends Component {\r\n\r\n\trender() {\r\n\t\tlet { favorities, selectedTrip, google, dimentions } = this.props;\r\n\r\n\t\tif (!favorities.length) return null;\r\n\r\n\t\tif (selectedTrip !== null) return (\r\n\t\t\t<FavoritiesMap \r\n\t\t\t\tgoogle={google} \r\n\t\t\t\tfavorities={favorities[selectedTrip]} \r\n\t\t\t\tdimentions={dimentions} \r\n\t\t\t/>\r\n\t\t);\r\n\t\t\t\r\n\t\treturn (\r\n\t  \t\t<div className=\"fav-list\">\r\n\t  \t\t\t{favorities.map((trip, i) => (\r\n\t\t\t\t\t<div className={`fav-item ${trip.bumps.length < 4 ? \"yellow\" : \"red\"}`} onClick={()=> this.props.onTripSelect(i)} key={i}>\r\n\t\t\t\t\t\t<div className=\"fav-route\">From: {trip.start}</div>\r\n\t\t\t\t\t\t<div className=\"fav-route\">To: {trip.end}</div>\r\n\t\t\t\t\t\t<div className=\"fav-bumps-count\">{trip.bumps.length} bumps per {trip.tripdistance ? trip.tripdistance.toFixed(1) : 0} km</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n        );\r\n\t}\r\n}\r\n\r\nexport default FavoritiesList;\r\n","const EARTH_RADIUS = 6371000;\r\n\r\nfunction camelize(str) {\r\n\tlet separators = [\" \", \"_\"];\r\n\r\n\tseparators.forEach(item => {\r\n\t\tstr = str.split(item).map((word) => {\r\n\t\t\treturn word.charAt(0).toUpperCase() + word.slice(1);\r\n\t\t}).join('');\r\n\t})\r\n\r\n\treturn str;\r\n}\r\n\r\nfunction compare(obj1, obj2) {\r\n\tfor (var key in obj1) {\r\n\t\tif (!obj2.hasOwnProperty(key) || obj1[key] !== obj2[key]) return false; \r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction toRad(num) {\r\n\treturn num * Math.PI/180;\r\n}\r\n\r\nfunction getDistance(lat1, lng1, lat2, lng2) {\r\n\tvar dLat = toRad(lat2 - lat1);\r\n\tvar dLng = toRad(lng2 - lng1);\r\n\r\n\tvar a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\r\n\r\n\tvar distance = EARTH_RADIUS * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\treturn distance; //distance is returned in meters\r\n}\r\n\r\nfunction getZoom(distance) { // distance in meters\r\n\treturn Math.round(14-Math.log(distance / 2000)/Math.LN2);\r\n}\r\n\r\nfunction getAngle(lat1, lng1, lat2, lng2) {\r\n\tvar dLng = (lng2 - lng1);\r\n\r\n\tvar y = Math.sin(dLng) * Math.cos(lat2);\r\n\tvar x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1) * Math.cos(lat2) * Math.cos(dLng);\r\n\r\n\tvar brng = Math.atan2(y, x);\r\n\r\n\tvar pi = Math.PI;\r\n\tbrng = brng * (180/pi);\r\n\tbrng = (brng + 360) % 360;\r\n    brng = 360 - brng; // count degrees counter-clockwise - remove to make clockwise\r\n\r\n    return brng;\r\n}\r\n\r\nfunction getCenter(bounds) {\r\n\tlet {ne, sw} = bounds;\r\n\r\n\tlet lat = (sw.lat + (ne.lat - sw.lat)/2);\r\n\tlet lng = (sw.lng + (ne.lng - sw.lng)/2);\r\n\r\n\treturn {lat, lng};\r\n}\r\n\r\nfunction getBounds(arrayOfCoords) { //sw, ne\r\n\tvar maxY, minY, maxX, minX;\r\n\r\n\tarrayOfCoords.forEach(i => {\r\n\t\tmaxY = maxY > i.lat ? maxY : i.lat;\r\n\t\tminY = minY < i.lat ? minY : i.lat;\r\n\t\tmaxX = maxX > i.lng ? maxX : i.lng;\r\n\t\tminX = minX < i.lng ? minX : i.lng;\r\n\t});\r\n\r\n\tlet bounds = {\r\n\t\tne: {lat: maxY, lng: maxX}, \r\n\t\tsw: {lat: minY, lng: minX}\r\n\t};\r\n\r\n\treturn bounds; \r\n}\r\n\r\nfunction getListOfTripBumps(directionArray, bumpsArray) {\r\n\tlet resultingBumps = [];\r\n\t//let lengthBtwnPathPoints, startAndBump, endAndBump;\r\n\tdirectionArray.forEach((i, index) => {\r\n    if (index < directionArray.length - 1) {\r\n        let lengthBtwnPathPoints = getDistance(i.lat, i.lng, directionArray[index + 1].lat, directionArray[index + 1].lng);\r\n\t\t\r\n\t\tlet startAndBump, endAndBump;\r\n\t\tbumpsArray.forEach(n => { \r\n\t\t\tstartAndBump = getDistance(i.lat, i.lng, n.lat, n.lng);\r\n\t\t\tendAndBump = getDistance(directionArray[index + 1].lat, directionArray[index + 1].lng, n.lat, n.lng);\r\n\t\t\tif ((startAndBump + endAndBump) < lengthBtwnPathPoints + 0.1) resultingBumps.push({lat: n.lat, lng: n.lng}); //console.log(\"directionArray->\", i, \"bump->\", n);\r\n        })\r\n    }});\r\n\r\n    return resultingBumps;\r\n}\r\n\r\nexport { camelize, compare, toRad, getDistance, getAngle, getZoom, getCenter, getBounds, getListOfTripBumps };\r\n\r\n\r\n\r\n// path.forEach((i, index) => {\r\n//     if (index < path.length - 1) {\r\n//         let lengthBtwnPathPoints = getDistance(i.lat, i.lng, path[index +1].lat, path[index + 1].lng);\r\n\t\t\r\n//         let startAndBump, endAndBump;\r\n// \t\tbumps.forEach(n => { \r\n// \t\t\tstartAndBump = getDistance(i.lat, i.lng, n.lat, n.lng);\r\n// \t\t\tendAndBump = getDistance(path[index +1].lat, path[index +1].lng, n.lat, n.lng);\r\n// \t\t\tif ((startAndBump + endAndBump) < lengthBtwnPathPoints + 0.1) console.log(\"path->\", i, \"bump->\", n);\r\n//         })\r\n//     }});","import React, { Component } from 'react';\r\nimport * as helpers from '../../helpers/index';\r\n\r\nclass BumpsMap extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tconst {lat, lng} = props.initialCenter;\r\n\r\n\t\tthis.state = {\r\n\t\t\tcurrentLocation: {lat, lng}, \r\n\t\t\tzoom: 17,\r\n\t\t\tisCurrentPositionReceived: false,\r\n\t\t\ttemp: []\r\n\t\t};\r\n\r\n\t\tthis.mymap = React.createRef();\r\n\t\tthis.mymarker = React.createRef();\r\n\t\tthis.tripBumps = [];\r\n\t\tthis.databaseBumps = [];\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tif (this.props.centerAroundCurrentLocation) {\r\n\t\t\tif (navigator && navigator.geolocation) {\r\n\t\t\t\tnavigator.geolocation.getCurrentPosition((pos) => {\r\n\t\t\t\t\tconst coords = pos.coords;\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tcurrentLocation: {lat: coords.latitude, lng: coords.longitude},\r\n\t\t\t\t\t\tisCurrentPositionReceived: true\r\n\t                }, this.props.updateLocationData(pos)) //update wrapper data\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.loadMap();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.google !== this.props.google) {\r\n\t\t\tthis.loadMap();\r\n\t\t}\r\n\t\tif (prevState.currentLocation !== this.state.currentLocation) {\r\n\t\t\tthis.recenterMap(this.state.currentLocation);\r\n\t\t}\r\n\r\n\t\tif ((prevProps.currentLocation !== this.props.currentLocation) && (this.state.isCurrentPositionReceived && this.props.isRecordingMode)) {\r\n\t\t\tthis.recenterMap(this.props.currentLocation);\r\n\t\t}\r\n\r\n\t\tif (prevProps.bumps !== this.props.bumps) {\r\n\t\t\tthis.setBumpsOnMap(this.props.bumps, this.tripBumps, \"#fbad19\", 0.8);\r\n\t\t}\r\n\r\n\t\tif (prevProps.allBumps !== this.props.allBumps && this.props.isSearchMode !== false) {\r\n\t\t\tthis.setBumpsOnMap(this.props.allBumps, this.databaseBumps, \"#e34929\", 0.8);\r\n\t\t}\r\n\r\n\t\tif (prevProps.isSearchMode !== this.props.isSearchMode && this.props.isSearchMode === false) {\r\n\t\t\tlet { start, end, google } = this.props;\r\n\r\n\t\t\tif (start !== \"\") return this.buildRoute({start, end});\r\n\t\t\tnavigator.geolocation.getCurrentPosition((pos) => this.buildRoute({start: new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude), end}));\r\n\t\t}\r\n\r\n\t\t// if (prevProps.isSearchMode !== this.props.isSearchMode && this.props.isSearchMode === true) {\r\n\t\t// \tthis.clearRoute();\r\n\t\t// }\r\n\t}\r\n\r\n\tbuildRoute = endpoints => {\r\n\t\tlet maps = this.props.google.maps;\r\n\t\tthis.directionsDisplay.setMap(this.map);\r\n\r\n\t\tvar request = {\r\n\t\t\torigin: endpoints.start,\r\n\t\t\tdestination: endpoints.end,\r\n\t\t\ttravelMode: 'DRIVING'\r\n\t\t};\r\n\r\n\r\n\r\n\t\tthis.directionsService.route(request, (response, status) => {\r\n\t\t\t//console.log(maps.geometry.encoding.decodePath(response.routes[0].overview_polyline))\r\n\t\t\tlet directionArray = [];\r\n\t\t\tlet polyline = maps.geometry.encoding.decodePath(response.routes[0].overview_polyline);\r\n\t\t\tpolyline.forEach(i => directionArray.push({lat: i.lat(), lng: i.lng()}));\r\n\r\n\t\t\tlet result = helpers.getListOfTripBumps(directionArray, this.props.allBumps);\r\n\t\t\t//console.log(result)\r\n\r\n\t\t\tthis.setBumpsOnMap(result, this.databaseBumps, \"blue\", 0.8);\r\n\t\t\tif (status === 'OK') this.directionsDisplay.setDirections(response);\r\n\t\t});\r\n\t}\r\n\r\n\t// clearRoute = () => {\r\n\t// \tif (this.map && this.directionsDisplay) this.directionsDisplay.setMap(null);\r\n\t// }\r\n\r\n\tconvertAddressToCoordinates = addresses => {\r\n\t\treturn new Promise ((resolve, reject) => {\r\n\t\t\tlet maps = this.props.google.maps;\r\n\t\t\tlet coords = [];\r\n\t\t\tlet geocoder = new maps.Geocoder();\r\n\r\n\t\t\tfor (var i = 0; i < addresses.length; i++) {\r\n\t\t\t\tgeocoder.geocode({'address': addresses[i]}, (results, status) => {\r\n\t\t\t\t\tif (status !== 'OK') reject(new Error('Geocoder failed due to: ' + status));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tcoords.push(results[0].geometry.location);\r\n\t\t\t\t\tif (coords.length === addresses.length) resolve({start: coords[0], end: coords[1]});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tloadMap = () => {\r\n\t\tif (this.props.google) {\r\n\r\n\t\t\tlet maps = this.props.google.maps;\r\n\t\t\tlet zoom = this.props.zoom;\r\n\t\t\tconst { lat, lng } = this.state.currentLocation;\r\n\r\n\t\t\tconst center = new maps.LatLng(lat, lng);\r\n\t\t\tconst mapConfig = Object.assign({}, {\r\n\t\t\t\tcenter: center,\r\n\t\t\t\tzoom: zoom,\r\n\t\t\t\tzoomControl: false,\r\n\t\t\t\tscaleControl: false,\r\n\t\t\t\tfullscreenControl: false,\r\n\t\t\t\tmapTypeControl: false,\r\n\t\t\t\tstreetViewControl: false\r\n\t\t\t});\r\n\r\n\t\t\tthis.map = new maps.Map(this.mymap.current, mapConfig);\r\n\r\n\t\t\tif (this.map) {\r\n\t\t\t\tthis.directionsService = new maps.DirectionsService();\r\n\t\t\t\tthis.directionsDisplay = new maps.DirectionsRenderer();\r\n\t\t\t}\r\n\r\n\t\t\tconst evtNames = ['click', 'dragend', 'zoom_changed'];\r\n\t\t\tevtNames.forEach(e => this.map.addListener(e, this.handleEvent(e)));\r\n\r\n\t\t\tmaps.event.trigger(this.map, 'ready');\r\n\r\n\t\t\tif (this.map) this.setBumpsOnMap(this.props.allBumps, this.databaseBumps, \"#e34929\", 0.8);\r\n\t\t}\r\n\t}\r\n\r\n\thandleEvent(evtName) {\r\n\t\tlet timeout;\r\n\t\tconst handlerName = `on${this.props.camelize(evtName)}`;\r\n\r\n\t\treturn (e) => {\r\n\t\t\tif (timeout) {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = null;\r\n\t\t\t}\r\n\t\t\ttimeout = setTimeout(() => {\r\n\t\t\t\tif (this.props[handlerName]) {\r\n\t\t\t\t\tthis.props[handlerName](this.props, this.map, e);\r\n\t\t\t\t}\r\n\t\t\t}, 0);\r\n\t\t}\r\n\t}\r\n\r\n\trecenterMap = currentLocation => {\r\n\t\tconst map = this.map;\r\n\t\tconst google = this.props.google;\r\n\t\tconst maps = google.maps;\r\n\r\n\t\tif (map) {\r\n\t\t\tlet center = new maps.LatLng(currentLocation.lat, currentLocation.lng);\r\n\t\t\tmap.panTo(center);\r\n\t\t}\r\n\t}\r\n\r\n\tdeleteMarkers = markersArray => {\r\n\t\tmarkersArray.forEach(marker => marker.setMap(null));\r\n\t\treturn [];\r\n\t}\r\n\r\n\tsetBumpsOnMap = (bumpsArray, markersArray, color, size) => {\r\n\t\tconst maps = this.props.google.maps;\r\n\r\n\t\tlet bumpOption = {\r\n\t\t\tpath: \"M-4,0a4,4 0 1,0 8,0a4,4 0 1,0 -8,0\",\r\n\t\t\tfillColor: color,\r\n\t\t\tstrokeColor: color,\r\n\t\t\tfillOpacity: 1.0,\r\n\t\t\tscale: size,\r\n\t\t\tanchor: new maps.Point(0, 0)\r\n\t\t}\r\n\r\n\t\tmarkersArray = this.deleteMarkers(markersArray);\r\n\t\tbumpsArray.forEach(bump => {\r\n\t\t\tmarkersArray.push(new maps.Marker({ \r\n\t\t\t\tposition: {lat: bump.lat, lng: bump.lng}, \r\n\t\t\t\ticon: bumpOption, \r\n\t\t\t\tmap: this.map \r\n\t\t\t}))\r\n\t\t})\r\n\t}\r\n\r\n\tupdateCurrent = (location) => {\r\n\t\tthis.props.updateLocationData(location);\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t\tthis.deleteMarkers(this.tripBumps);\r\n\t\tthis.deleteMarkers(this.databaseBumps);\r\n\t}\r\n\r\n\trenderChildren = () => {\r\n\t\tconst {children} = this.props;\r\n\t\tif (!children) return;\r\n\r\n\t\treturn React.Children.map(children, c => {\r\n\t\t\treturn React.cloneElement(c, {\r\n\t\t\t\tmap: this.map,\r\n\t\t\t\tgoogle: this.props.google,\r\n\t\t\t\tmapCenter: this.state.currentLocation,\r\n\t\t\t\tcurrentLocation: this.props.currentLocation,\r\n\t\t\t\tisCurrentPositionReceived: this.state.isCurrentPositionReceived\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { width, height } = this.props.dimentions;\r\n\t\tlet style = {\r\n\t\t\twidth: width + \"px\", \r\n\t\t\theight: height +\"px\", \r\n\t\t\tposition: \"relative\"\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div ref={this.mymap} style={style}>\r\n\t\t\t\tLoading...\r\n\t\t\t\t{this.renderChildren()}\r\n\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nexport default BumpsMap;\r\n\r\n\r\nBumpsMap.defaultProps = {\r\n\tzoom: 16,\r\n\tinitialCenter: {\r\n\t  \tlat: 53.893009,\r\n\t  \tlng: 27.567444\r\n\t},\r\n\tcenterAroundCurrentLocation: false\r\n}","import { Component } from 'react';\r\n//import car from '../../images/car.svg';\r\n\r\nvar elements = [\r\n{path: \"M69.9,36c0.3-9.3,0.3-9.1,0.3-9.1c0-0.2,0.7-7.9-0.6-15.3c-1.3-7.5-9.7-9.5-9.7-9.5l-0.4,0l-8.9-0.3v0l-8.8,0.3  l-0.4,0c0,0-8.4,2.1-9.7,9.5c-1.3,7.4-0.6,15.1-0.6,15.3c0,0,0-0.3,0.3,9.1c0.4,9.8-0.6,34-0.5,37c0.1,2.9-0.2,9.2,0.4,10.8  c0.6,1.6,2.6,9.6,2.6,9.6s3.2,6.2,16.8,5.3v0c13.5,0.9,16.7-5.3,16.7-5.3s2-8,2.6-9.6c0.6-1.6,0.2-7.9,0.4-10.8  C70.5,70,69.5,45.8,69.9,36L69.9,36z\", fill:\"#D14C32\"},\r\n{path: \"M61.7,27.5c-3.2-1.6-11.1-1.8-11.1-1.8v0c0,0-8,0.1-11.1,1.8c-3.2,1.6-4.3,2.4-4.1,3.5c0.2,1.1,2.6,12,2.6,12.3  c0,0.3,0.2,0.7,1.5,0.4c1.2-0.4,11.2-0.8,11.2-0.8v0c0,0,10,0.4,11.2,0.8c1.2,0.4,1.5-0.1,1.5-0.4c0-0.3,2.4-11.2,2.6-12.3  C66,29.9,64.9,29.2,61.7,27.5L61.7,27.5z\", fill: \"#121215\"},\r\n{path: \"M67.4,32.8c0,0,0,12.6,0,16.3c0,3.7,0,8.7-0.3,12.1C66.8,64.7,66.1,80,66.1,80v0.3c0,0-2-5.3-2.4-9.4  c-0.9-4-0.5-14,0-20.1C64,44.8,67,33.9,67.4,32.8z\", fill: \"#101114\"},\r\n{path: \"M62.4,76.1c-0.2-1.4-0.4-1-0.5-1.1c-0.1-0.1-1.5,0.3-2.1,0.4c-4.6,0.8-9.3,0.6-9.3,0.6v0c0,0-4.7,0.2-9.3-0.6  c-0.6-0.1-2-0.5-2.1-0.4c-0.1,0.1-0.3-0.3-0.5,1.1c-0.2,1.4-1.4,9.9-1.3,10c0.1,0.1,2.9,1.8,7.9,2.6c1.1,0.1,5.3,0.2,5.3,0.2v0  c0,0,4.2-0.2,5.3-0.2c5-0.8,7.8-2.5,7.9-2.6C63.8,86.1,62.7,77.5,62.4,76.1L62.4,76.1z\", fill: \"#131417\"},\r\n{path: \"M67,36l1.2,0.7V38H67V36z\", fill: \"#0D0E13\"},\r\n{path: \"M59,2.9c-0.1-0.1-0.2-0.1-0.4-0.2C58.1,2.6,58.3,2.6,59,2.9z\", fill: \"#C2C6C1\"},\r\n{path: \"M67.7,11.8C66.9,6.6,61,3.7,59,2.9c2,1.4,3.4,9.1,4.5,14c1.1,5.2,1.8,13.5,1.8,13.5s2.4,0.4,3.6,7  C69.7,41.5,68.9,18.8,67.7,11.8L67.7,11.8z\", fill: \"#D8684A\"},\r\n{path: \"M42.6,2.8c-0.1,0-0.2,0.1-0.4,0.2C42.9,2.7,43.2,2.6,42.6,2.8z\", fill: \"#C2C6C1\"},\r\n{path: \"M33.5,11.8c-1.2,7-1.9,29.7-1.1,25.5c1.1-6.5,3.6-7,3.6-7s0.6-8.3,1.8-13.5c1.1-4.9,2.5-12.6,4.5-14  C40.3,3.8,34.4,6.6,33.5,11.8z\", fill: \"#D8684A\"},\r\n{path: \"M63.4,56.8l3.8-2.9v3.4l-3.8,2.4V56.8z M37.7,83.9c-0.2,1.3-0.3,2.2-0.2,2.2c0.1,0.1,2.9,1.8,7.9,2.6  c1.1,0.1,5.3,0.2,5.3,0.2v0c0,0,4.2-0.2,5.3-0.2c5-0.8,7.8-2.5,7.9-2.6c0,0-0.3-2.4-0.6-4.9L37.7,83.9L37.7,83.9z\", fill: \"#202226\"},\r\n{path: \"M37.3,40.1l24.4-5.8l3.7-1.2c0.2-1.1,0.4-1.9,0.4-2.1c0.2-1.1-0.9-1.9-4.1-3.5c-3.2-1.6-11.1-1.8-11.1-1.8v0  c0,0-8,0.1-11.1,1.8c-3.2,1.6-4.3,2.4-4.1,3.5C35.5,31.7,36.5,36.7,37.3,40.1L37.3,40.1z\", fill: \"#212428\"},\r\n{path: \"M33.9,32.9c0,0,0,12.6,0,16.3c0,3.7,0,8.7,0.3,12.1c0.3,3.4,0.9,18.7,0.9,18.7v0.3c0,0,2-5.3,2.4-9.4  c0.9-4,0.5-14,0-20.1C37.3,44.8,34.3,33.9,33.9,32.9z\", fill: \"#101114\"},\r\n{path: \"M69.9,36c0.3-9.3,0.3-9.1,0.3-9.1c0-0.2,0.7-7.9-0.6-15.3c-1.3-7.5-9.7-9.5-9.7-9.5l-0.4,0l-8.9-0.3v0l-8.8,0.3  l-0.4,0c0,0-8.4,2.1-9.7,9.5c-1.3,7.4-0.6,15.1-0.6,15.3c0,0,0-0.3,0.3,9.1c0.4,9.8-0.6,34-0.5,37c0.1,2.9-0.2,9.2,0.4,10.8  c0.6,1.6,2.6,9.6,2.6,9.6s3.2,6.2,16.8,5.3v0c13.5,0.9,16.7-5.3,16.7-5.3s2-8,2.6-9.6c0.6-1.6,0.2-7.9,0.4-10.8  C70.5,70,69.5,45.8,69.9,36L69.9,36z M69.3,83.9c-1.6,9.7-4,11.2-6.7,12.7c-2.7,1.4-11.9,1.6-11.9,1.6v0c-0.9,0-9.3-0.3-11.9-1.6  c-2.7-1.5-5.1-3-6.7-12.7c-1.6-9.7,0.6-13.6,0.4-21.9c-0.3-8.3-0.3-29.6-0.2-32c0.1-2.4-0.6-19.1,1.7-21.5c2.3-2.4,5.6-5.7,7.6-5.8  C42.6,2.7,44,2.6,45,2.6V2.6h5.7v0h5.6v0.1c1.2,0,2.3,0,3.5,0.1c2,0.1,5.3,3.4,7.6,5.8c2.3,2.4,1.6,19.1,1.7,21.5  c0.1,2.4,0.1,23.7-0.2,32C68.6,70.3,70.9,74.2,69.3,83.9L69.3,83.9z\", fill: \"#9E4A36\"},\r\n{path: \"M34.3,91c0,0,1.5,3.3,4,4.1c2.4,0.9,4.2,1.3,4.2,1.3s-3.1,0-4.8-1C36.1,94.5,34.2,93.1,34.3,91z\", fill: \"#9E4A36\"},\r\n{path: \"M41.5,2.7c0,0-3.4,1.6-4.4,2.8c-1,1.1-2.5,3-2.6,3.3c0,0.2,0,0.9,0,0.9S40.6,3.1,41.5,2.7z\", fill: \"#FEFDF8\"},\r\n{path: \"M50.6,1.8L50.6,1.8L50.6,1.8L50.6,1.8z M58.4,3c0-0.3-1.7-0.8-2.2-0.9c-0.4-0.1-5.3-0.2-5.6-0.2l0,0  c-0.3,0-5.2,0.2-5.6,0.3c-0.4,0.1-2.1,0.6-2.2,0.9c0,0.3,0.3,0.5,0.7,0.3s1-0.7,1.4-0.8c0.4-0.1,5.7-0.3,5.7-0.3l0,0  c0.4,0,5.2,0.2,5.6,0.3c0.4,0.1,1,0.6,1.4,0.8C58.1,3.5,58.4,3.3,58.4,3L58.4,3z\", fill: \"#1D2021\"},\r\n{path: \"M32.8,36.8c0,0-3.4,1.4-3.6,2.7C29,40.8,29,41,29.2,41s3.8-1.9,3.8-1.9v-2.3L32.8,36.8L32.8,36.8z\", fill: \"#D14C32\"},\r\n{path: \"M29.2,41.3l0-0.3l3.8-1.9v0.3L29.2,41.3z\", fill: \"#0D0E13\"},\r\n{path: \"M34.3,36.1L33,36.8V38h1.2V36.1z\", fill: \"#0D0E13\"},\r\n{path: \"M37.9,56.9L34,54v3.4l3.8,2.4V56.9z\", fill: \"#202226\"},\r\n{path: \"M38.7,76.1c0.2-1.4,0.4-1,0.5-1.1c0.1-0.1,1.5,0.3,2.1,0.4c4.6,0.8,9.3,0.6,9.3,0.6v0c0,0,4.7,0.2,9.3-0.6  c0.6-0.1,2-0.5,2.1-0.4c0.1,0.1,0.3-0.3,0.5,1.1c0.2,1.4,1.4,9.9,1.3,10c-0.1,0.1-2.9,1.8-7.9,2.6c-1.1,0.1-5.3,0.2-5.3,0.2v0  c0,0-4.2-0.2-5.3-0.2c-5-0.8-7.8-2.5-7.9-2.6C37.3,86.1,38.5,77.5,38.7,76.1L38.7,76.1z M39.6,27.5c3.2-1.6,11.1-1.8,11.1-1.8v0  c0,0,8,0.1,11.1,1.8c3.2,1.6,4.3,2.4,4.1,3.5c-0.2,1.1-2.6,12-2.6,12.3c0,0.3-0.2,0.7-1.5,0.4c-1.2-0.4-11.2-0.8-11.2-0.8v0  c0,0-10,0.4-11.2,0.8c-1.2,0.4-1.5-0.1-1.5-0.4c0-0.3-2.4-11.2-2.6-12.3C35.3,29.9,36.4,29.2,39.6,27.5L39.6,27.5z\", fill: \"#343C3E\"},\r\n{path: \"M38.2,28.3c-2.2,1.2-3,1.9-2.8,2.8c0.2,1.1,2.6,12,2.6,12.3c0,0.3,0.2,0.7,1.5,0.4c0.3-0.1,1-0.2,2-0.2  C39.9,39.9,38.7,31.8,38.2,28.3L38.2,28.3z M63.1,28.2c2.2,1.2,3,1.9,2.8,2.8c-0.2,1.1-2.6,12-2.6,12.3c0,0.3-0.2,0.7-1.5,0.4  c-0.3-0.1-1-0.2-2-0.2C61.4,39.9,62.6,31.8,63.1,28.2L63.1,28.2z\", fill: \"#2E3436\"},\r\n{path: \"M65.3,29.7c-0.6-0.6-1.8-1.2-3.6-2.2c-3.2-1.6-11.1-1.8-11.1-1.8v0h0v0c-0.6,0-8.1,0.2-11.1,1.8  c-1.8,0.9-2.9,1.6-3.6,2.2l2.8,2.2c0,0,5.7-0.9,11.9-1v0c6.1,0.1,11.8,0.7,11.8,0.7L65.3,29.7L65.3,29.7z\", fill: \"#202226\"},\r\n{path: \"M59.8,2.7c0,0,3.4,1.6,4.4,2.8c1,1.1,2.5,3,2.6,3.3c0,0.2,0,0.9,0,0.9S60.7,3.1,59.8,2.7z\", fill: \"#FEFDF8\"},\r\n{path: \"M55.4,3.8H44.8c0,0-2.2,0.6-2.9,8.6c-0.7,8-2,14.1,3,12.7c4.9-1.4,7.6-0.2,9.8-0.3c2.2-0.2,5.6,2.3,4.3-8.6  C57.7,5.2,57.6,4.6,55.4,3.8L55.4,3.8z\", fill: \"#D8684A\"},\r\n{path: \"M44.5,24.3l1.8-18.1l-1.3,6.4L44.5,24.3z M56.8,24.2L55,6.2l1.3,6.4L56.8,24.2z M66.9,90.9c0,0-1.5,3.3-4,4.1  c-2.4,0.9-4.2,1.3-4.2,1.3s3.1,0,4.8-1C65.2,94.5,67,93,66.9,90.9L66.9,90.9z\", fill: \"#9E4A36\"},\r\n{path: \"M39.2,75c-0.1,0.1-0.3-0.3-0.5,1.1s-1.4,9.9-1.3,10c0,0,0.7,0.5,2,1L41,75.4C40.3,75.2,39.2,74.9,39.2,75  L39.2,75z M62.4,76.2c-0.2-1.4-0.4-1-0.5-1.1c0-0.1-1.1,0.2-1.8,0.3l1.6,11.8c1.2-0.5,1.9-0.9,2-1C63.8,86.1,62.6,77.6,62.4,76.2  L62.4,76.2z\", fill: \"#2E3436\"},\r\n{path: \"M68.4,36.8c0,0,3.4,1.4,3.6,2.7s0.2,1.5,0,1.5c-0.2,0-3.8-1.9-3.8-1.9v-2.3L68.4,36.8L68.4,36.8z\", fill: \"#D14C32\"},\r\n{path: \"M72,41.3l0-0.3L68.3,39v0.3L72,41.3z\", fill: \"#0D0E13\"},\r\n{path: \"M55.9,88.3H44.7c0,0-6.1-0.8-5.3,1.8c0.8,2.6-0.8,5.8,7.6,5.8h6.5c8.5,0,6.8-3.2,7.6-5.8  C62,87.4,55.9,88.3,55.9,88.3L55.9,88.3z\", fill: \"#D8684A\"},\r\n{path: \"M51,86.9c-5.2,0-9.8-1.1-13.1-3l-0.2,0c-0.3,2.4-0.3,2.2-0.2,2.3c0.1,0.1,2.9,1.8,7.9,2.6  c1.1,0.1,5.3,0.2,5.3,0.2v0c0,0,4.2-0.2,5.3-0.2c5-0.8,7.8-2.5,7.9-2.6c0,0-0.1-0.8-0.2-2C60.4,85.9,55.9,86.9,51,86.9z\", fill: \"#202226\"},\r\n{path: \"M58.3,51.8c1.2-3.8-0.8-5.2-3.1-5.6c-1.8-0.3-6.4-0.2-7.9-0.1c-2.7,0.2-5.6,1.3-4.2,5.7c2.4,7.5-0.1,17.8,0,19  c0.1,0.9,1.4,2.4,4,2.8c0.9,0.1,6.8,0.1,7.9-0.1c2.1-0.5,3.2-1.8,3.3-2.6C58.4,69.6,55.9,59.3,58.3,51.8L58.3,51.8z\", fill: \"#D8684A\"}];\r\n\r\nclass Car extends Component {\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.marker = [];\r\n\t}\r\n\r\n\tcomponentDidUpdate = (prevProps) => {\r\n\t\tlet {map, angle, move, isCurrentPositionReceived} = this.props;\r\n\t\tlet speed = this.props.currentLocation.speed;\r\n\r\n\t\tif (map !== prevProps.map || (speed > 5 && (angle !== prevProps.angle || move > 5)) || isCurrentPositionReceived !== prevProps.isCurrentPositionReceived) {\r\n\t\t\tthis.renderMarker();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t    this.removeMarker();\r\n\t}\r\n\r\n\tremoveMarker = () => {\r\n\t\tif (this.marker && this.marker.length > 0) {\r\n\t    \tthis.marker.forEach(i => {\r\n\t    \t\ti.setMap(null);\r\n\t    \t});      \r\n\t    }\r\n\t}\r\n\r\n\trenderMarker = () => {\r\n\t\tthis.removeMarker();\r\n\r\n\t\tlet {map, google, mapCenter, currentLocation} = this.props;\r\n\t\tlet position = currentLocation.lat ? {lat: currentLocation.lat, lng: currentLocation.lng} : undefined;\r\n\r\n\t\tlet pos = position || mapCenter;\r\n\t\tposition = new google.maps.LatLng(pos.lat, pos.lng);\r\n\r\n\t\telements.forEach((i, index) => {\r\n\t\t\tvar icon = {\r\n\t\t\t\tpath: i.path,\r\n\t\t\t\tfillColor: i.fill,\r\n\t\t\t\tstrokeColor: i.fill,\r\n                fillOpacity: 1.0,\r\n                scale: 0.4,\r\n                anchor: new google.maps.Point(50, 50),\r\n    \t\t\t//scaledSize: new google.maps.Size(20, 20),\r\n\t\t\t\trotation: this.props.angle\r\n\t\t\t};\r\n\r\n\t\t\tconst pref = {\r\n\t\t        map: map,\r\n\t\t        position: position,\r\n\t\t        icon\r\n\t\t    };\r\n\r\n\t\t    this.marker[index] = new google.maps.Marker(pref);\r\n\t\t    this.marker[index].setZIndex(100);\r\n\t\t});\r\n\r\n\t    this.props.resetMove();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport default Car;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Drawer extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcurrent: null\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet items = [\r\n\t\t\t{id: \"map\", title: \"Report a bump\"},\r\n\t\t\t{id: \"checktrip\", title: \"Check your trip\"},\r\n\t\t\t{id: \"calibrate\", title: \"Calibrate sensors\"},\r\n\t\t\t{id: \"settings\", title: \"Settings\"}];\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"drawer\">\r\n\t\t\t\t<div className=\"drawer-logo\"></div>\r\n\t\t\t\t<div className=\"drawer-body\">\r\n\t\t\t\t\t{items.map(item => (\r\n\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\tclassName={`drawer-item${this.props.current === item.id ? \" drawer-item-active\" : \"\"}`} \r\n\t\t\t\t\t\t\texact=\"true\" \r\n\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\tid={item.id} \r\n\t\t\t\t\t\t\tto={`/${item.id}`} \r\n\t\t\t\t\t\t\treplace \r\n\t\t\t\t\t\t\tonClick={e => this.props.markSelection(e)}>\r\n\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Drawer;\r\n\r\n// <Link className=\"drawer-item\" exact=\"true\" to=\"/map\" replace id=\"map\" >\r\n// \t\t\t\t\t\t\tReport a bump\r\n// \t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n// \t\t\t\t\t\t<Link className={`drawer-item ${this.state.current === \"checktrip\" ? \"drawer-item-active\" : \"\"}`} exact=\"true\" to=\"/checktrip\" replace id=\"checktrip\" onClick={this.markSelection} >\r\n// \t\t\t\t\t\t\tCheck your trip\r\n// \t\t\t\t\t\t</Link>\r\n// \t\t\t\t\t\t<Link className=\"drawer-item\" exact=\"true\" to=\"/\" replace >\r\n// \t\t\t\t\t\t\tCalibrate sensors\r\n// \t\t\t\t\t\t</Link>\r\n// \t\t\t\t\t\t<Link className=\"drawer-item\" exact=\"true\" to=\"/\" replace >\r\n// \t\t\t\t\t\t\tSettings\r\n// \t\t\t\t\t\t</Link>","import React, { Component } from 'react';\r\nimport '../../styles/shared.css';\r\nimport { HeaderMenu, HeaderSubmenu, Drawer, NextStepButton, Body } from '../Shared/index';\r\nimport * as helpers from '../../helpers/index';\r\n\r\nclass ReportBumps extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t    this.state = {\r\n\t    \tisFavoritiesView: false, \r\n\t    \tisRecordingMode: false, \r\n\t    \tselectedTrip: null,\r\n\t    \tisMapView: true, \r\n\t    \tsubmenuOptions: [\"Favorities View\", \"Map View\"],\r\n\t    \tisDrawer: false\r\n\t    };\r\n\r\n\t    this.cover = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.setStatusBarColor(\"#4c88b7\");\r\n\t}\r\n\r\n\tonFavoritiesView = () => {\r\n\t\tthis.setState({\r\n\t\t\tisFavoritiesView: true,\r\n\t\t\tisMapView: false\r\n\t\t});\r\n\t}\r\n\r\n\tonMapView = () => {\r\n\t\tthis.setState({\r\n\t\t\tisFavoritiesView: false,\r\n\t\t\tisMapView: true,\r\n\t\t\tselectedTrip: null\r\n\t\t});\r\n\t}\r\n\r\n\tonTripSelect = i => {\r\n\t\tthis.setState({ selectedTrip: i })\r\n\t}\r\n\r\n\tonMenuToggle = () => {\r\n\t\tif (this.state.selectedTrip !== null) {\r\n\t\t\tthis.setState({ selectedTrip: null })\r\n\t\t} else {\r\n\t\t\tthis.setState({ isDrawer: !this.state.isDrawer })\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleRecording = () => {\r\n\t\tthis.setState({isRecordingMode: !this.state.isRecordingMode});  \r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<div className=\"main\">\r\n\t\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t\t<HeaderMenu \r\n\t\t\t\t\t\t\ttitle={this.state.selectedTrip !== null ? \"Back to list\" : \"Report a bump\"} \r\n\t\t\t\t\t\t\ticon={this.state.selectedTrip !== null ? \"back-arrow\" : \"burger-icon\"} \r\n\t\t\t\t\t\t\tonMenuToggle={this.onMenuToggle} \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<HeaderSubmenu \r\n\t\t\t\t\t\t\tisFavoritiesView={this.state.isFavoritiesView}\r\n\t\t\t\t\t\t\tisMapView={this.state.isMapView}\r\n\t\t\t\t\t\t\tonFavoritiesView={this.onFavoritiesView}\r\n\t\t\t\t\t\t\tonMapView={this.onMapView}\r\n\t\t\t\t\t\t\toptions={this.state.submenuOptions}\r\n\t\t\t\t\t\t\tcamelize={helpers.camelize}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Body \r\n\t\t\t\t\t\tisFavoritiesView={this.state.isFavoritiesView} \r\n\t\t\t\t\t\tselectedTrip={this.state.selectedTrip}\r\n\t\t\t\t\t\tonTripSelect={this.onTripSelect}\r\n\t\t\t\t\t\tgoogle={this.props.google}\r\n\t\t\t\t\t\tisRecordingMode={this.state.isRecordingMode}\r\n\t\t\t\t\t\tisCheckTripView={false}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t<NextStepButton \r\n\t\t\t\t\t\tisDisplayed={!this.state.isFavoritiesView}\r\n\t\t\t\t\t\tcolor={!this.state.isRecordingMode ? \"#757d75\" : \"#e34929\"}\r\n\t\t\t\t\t\ttoggleButton={this.toggleRecording}\r\n\t\t\t\t\t\tdisableCondition={!this.state.isDataFetched}\r\n\t\t\t\t\t\ttext={this.state.isRecordingMode ? \"Stop Recording\" : \"Start Recording\"}\r\n\t\t\t\t\t\t/>\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cover\" style={{display: this.state.isDrawer ? \"block\" : \"none\"}}>\r\n\t\t\t\t\t<div className=\"cover-background\" ref=\"cover\" onClick={this.onMenuToggle}  />\r\n\t\t\t\t\t<Drawer current={this.props.current} markSelection={this.props.markSelection}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ReportBumps;\r\n\r\n//<Main \r\n\t//isFavoritiesView={this.state.isFavoritiesView} \r\n\t//selectedTrip={this.state.selectedTrip}\r\n\t//onTripSelect={this.onTripSelect}\r\n\t//google={this.props.google}\r\n\t///>\r\n\r\n\r\n\r\n// export default GoogleApiWrapper({\r\n// \tapiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY\r\n// })(ReportBumpsView);\r\n\r\n\r\n\r\n// <div \r\n// \t\t\t\t\t\t\tclassName=\"map\" \r\n// \t\t\t\t\t\t\tstyle={{display: this.state.isFavoritiesView ? \"none\" : \"block\"}}>\r\n// \t\t\t\t\t\t\t<BumpsMap \r\n// \t\t\t\t\t\t\t\tcenterAroundCurrentLocation\r\n// \t\t\t\t\t\t\t\tgoogle={this.props.google}\r\n// \t\t\t\t\t\t\t\tupdateLocationData={this.updateLocationData}\r\n// \t\t\t\t\t\t\t\tcurrentLocation={this.state.currentLocation}\r\n// \t\t\t\t\t\t\t\tisRecordingMode={this.state.isRecordingMode}\r\n// \t\t\t\t\t\t\t\tonZoomChanged={this.onZoomChanged}\t\t\r\n// \t\t\t\t\t\t\t\tdimentions={dimentions}\r\n// \t\t\t\t\t\t\t\tcamelize={helpers.camelize}\t\t\t\t\t\t\r\n// \t\t\t\t\t\t\t\t>\r\n// \t\t\t\t\t\t\t\t<Car \r\n// \t\t\t\t\t\t\t\t\tangle={this.state.angle}\r\n// \t\t\t\t\t\t\t\t\tmove={this.state.move}\r\n// \t\t\t\t\t\t\t\t\tresetMove={this.resetMove}\r\n// \t\t\t\t\t\t\t\t/>\r\n// \t\t\t\t\t\t\t\t<Polyline\r\n// \t\t\t\t\t\t\t\t\tpath={this.state.data}\r\n// \t\t\t\t\t\t\t\t\tstrokeColor=\"#4D8FAC\"\r\n// \t\t\t\t\t\t\t\t\tstrokeOpacity={0.8}\r\n// \t\t\t\t\t\t\t\t\tstrokeWeight={4} \r\n// \t\t\t\t\t\t\t\t/>\r\n// \t\t\t\t\t\t\t\t{bumpsMap}\r\n// \t\t\t\t\t\t\t</BumpsMap>\t\r\n// \t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n// \t\t\t\t\t\t<div \r\n// \t\t\t\t\t\t\tclassName=\"map favorities-map\" \r\n// \t\t\t\t\t\t\tstyle={{display: this.state.isFavoritiesView ? \"flex\" : \"none\"}}>\t\t\t\t\t\t\r\n// \t\t\t\t\t\t\t\t<div className=\"favorities-list\">{trips}</div>\r\n// \t\t\t\t\t\t\t\t{tripMap}\t\t\t\t\t\t\t\t\r\n// \t\t\t\t\t\t</div>\t\r\n\r\n//<canvas id=\"canvas\" width={this.state.dimentions.width + \"px\"} height={this.state.dimentions.height + \"px\"} ref={this.canvas} style={{display: this.state.isFavoritiesView ? \"block\" : \"none\"}}/>\r\n\r\n// var accel = this.state.testaccel.map(function(item){\r\n// \treturn <li>{item.x}, {item.y}, {item.z}</li>;\r\n// })\r\n\r\n\r\n// <div style={{display: this.state.isFavoritiesView ? \"block\" : \"none\", marginTop: \"18vh\", position: \"absolute\"}}>\r\n// \t\t\t\t\t\t\t\tMax: {this.state.acceleration.max}, average: {this.state.acceleration.average}, ticks: {this.state.acceleration.ticks}\r\n// \t\t\t\t\t\t\t\t<button onClick={this.sendAccelToFirebase}>Send acceleration data to database</button>\r\n//</div>\r\n\r\n\r\n\r\n\t// updateAccelerationData = (ev) => {\r\n\t// \tlet x = ev.acceleration.x;\r\n\t// \tlet y = ev.acceleration.y;\r\n\t// \tlet z = ev.acceleration.z;\r\n\r\n\t// if (x !== null && y !== null && z !== null) {\r\n\t\t// \tthis.setState({\r\n\t\t// \t\tacceleration: { x, y, z}\r\n\t\t// \t}, () => {\r\n\t\t// \t\tif (line === this.canvas.current.width) line = 0;\r\n\t\t\t\t\r\n\t\t// \t\tthis.drawBackground(\"white\", 0);\r\n\r\n\t\t// \t\tvar index = 1;\r\n\t\t// \t\tvar colors = [\"#4c88b7\", \"#e34929\", \"#fbad19\"];\r\n\t\t// \t\tlet accel = this.state.acceleration;\r\n\t\t// \t\tfor (var prop in accel) {\r\n\t\t// \t\t\tthis.drawLine(accel[prop], index, colors[index - 1]);\r\n\t\t// \t\t\tindex++;\r\n\t\t// \t\t}\r\n\t\t// \t\tline += 3;\r\n\r\n\r\n\t\t// \t\tthis.drawBackground(\"grey\", 1);\r\n\t\t// \t\tfor (var i = 2; i < 8; i++) this.drawBackground(\"white\", i);\r\n\t\t// \t})\r\n\t\t// }\r\n\t// }\r\n\r\n\t// drawLine = (value, index, color) => {\r\n\t// \tlet ctx = this.state.context;\r\n\t// \tvar axis = index * this.state.dimentions.height * 0.8 / 6;\r\n\r\n\t// \tctx.beginPath();\r\n\t// \tctx.strokeStyle= color;\r\n\t// \tctx.lineWidth = 2;\r\n\t// \tctx.moveTo(line, axis + value * 5);\r\n\t// \tctx.lineTo(line, axis);\r\n\t// \tctx.stroke();\r\n\t// }\r\n\r\n\t// drawBackground = (color, offset) => {\r\n\t// \tlet ctx = this.state.context;\r\n\r\n\t// \tctx.beginPath();\r\n\t// \tctx.strokeStyle = color;\r\n\t// \tctx.moveTo(line + offset, 0);\r\n\t// \tctx.lineTo(line + offset, this.state.dimentions.height);\r\n\t// \tctx.stroke();\r\n\t// }\r\n","import React, { Component } from 'react';\r\n\r\nclass SearchMenu extends Component {\r\n\trender() {\r\n\t\tlet displaySearch = (this.props.isSearchMode) ? \"flex\" : \"none\";\r\n\t\treturn (\r\n\t\t\t<div className=\"search-menu\" style={{display: displaySearch}} >\r\n\t\t\t\t<div className=\"from-to-icon\"></div>\r\n\t\t\t\t<div className=\"search-form\">\r\n\t\t\t\t\t{[\"start\", \"end\"].map(item => (\r\n\t\t\t\t\t\t<div key={item} className=\"search-input-wrapper\">\r\n\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\t\tname={item} \r\n\t\t\t\t\t\t\t\tvalue={this.props[item]}\r\n\t\t\t\t\t\t\t\tclassName=\"search-input\" \r\n\t\t\t\t\t\t\t\tplaceholder={(item === \"start\") ? \"(Мое местоположение)\" : \"\"}\r\n\t\t\t\t\t\t\t\tonFocus={this.props.preventResize}\r\n\t\t\t\t\t\t\t\tonChange={e => this.props.handleChange(e)} />\r\n\t\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\t\tclassName=\"search-cancel-btn\"\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.clearSearch(item)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SearchMenu;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/check-trip.css';\r\nimport { HeaderMenu, Drawer, NextStepButton, Body } from '../Shared/index';\r\nimport SearchMenu from './search-menu';\r\n\r\nclass CheckTrip extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t    this.state = {\r\n\t    \tisDrawer: false,\r\n\t    \tisSearchMode: true,\r\n\t    \tisGuidanceMode: false,\r\n\t    \ttext: \"Build a route\",\r\n\t    \tcolor: \"#fbad19\",\r\n\t    \tstart: \"\",\r\n\t    \tend: \"\"\r\n\t    };\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.setStatusBarColor(\"#4c88b7\");\r\n\t}\r\n\r\n\tpreventResize = () => {\r\n        document\r\n            .querySelector(\"meta[name=viewport]\")\r\n            .setAttribute(\r\n                \"content\",\r\n                \"width=device-width, height=\" +\r\n                    window.innerWidth / this.props.ratio +\r\n                    \", user-scalable=no, initial-scale=1.0, maximum-scale=1.0\"\r\n            );\r\n    };\r\n\r\n\tonMenuToggle = () => {\r\n\t\tthis.setState({ isDrawer: !this.state.isDrawer })\r\n\t}\r\n\r\n\tonNextStepButtonToggle = () => {\r\n\t\tlet { isSearchMode, isGuidanceMode } = this.state;\r\n\t\tif (isSearchMode) return this.setState({ isSearchMode: false, isGuidanceMode: false, text: \"Start Guidance\", color:  \"#757d75\" });\r\n\t\tif (!isGuidanceMode && !isSearchMode) return this.setState({ isSearchMode: false, isGuidanceMode: true, text: \"Stop Guidance\", color: \"#e34929\" })\r\n\t\tif (isGuidanceMode && !isSearchMode) return this.setState({ isSearchMode: true, isGuidanceMode: false, text: \"Build a route\", color: \"#fbad19\" })\r\n\t}\r\n\r\n\tonSearchButtonToggle = () => {\r\n\t\tthis.setState({ isSearchMode: false, isGuidanceMode: true}, () => this.onNextStepButtonToggle())\r\n\t}\r\n\r\n\thandleChange = e => {\r\n\t\tlet { name, value } = e.target;\r\n\r\n\t\tthis.setState({\t[name]: value });\r\n\t}\r\n\r\n\tclearSearch = item => {\r\n\t\tthis.setState({ [item]: \"\" });\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { text, color, isDrawer, isSearchMode, isGuidanceMode, start, end, ratio } = this.state;\r\n\t\tlet drawerDisplay = isDrawer ? \"block\" : \"none\";\r\n\t\tlet searchBtnDisplay = (!isSearchMode && !isGuidanceMode) ? \"flex\" : \"none\";\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<div className=\"main\">\r\n\t\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t\t<HeaderMenu \r\n\t\t\t\t\t\t\ttitle={\"Check your trip\"} \r\n\t\t\t\t\t\t\ticon={\"burger-icon\"} \r\n\t\t\t\t\t\t\tonMenuToggle={this.onMenuToggle} />\r\n\t\t\t\t\t\t<SearchMenu \r\n\t\t\t\t\t\t\thandleChange={this.handleChange} \r\n\t\t\t\t\t\t\tclearSearch={this.clearSearch}\r\n\t\t\t\t\t\t\tstart={start}\r\n\t\t\t\t\t\t\tend={end}\r\n\t\t\t\t\t\t\tisSearchMode={isSearchMode} \r\n\t\t\t\t\t\t\tpreventResize={this.preventResize}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className=\"directions-btn\" \r\n\t\t\t\t\t\t\tstyle={{display: searchBtnDisplay}} \r\n\t\t\t\t\t\t\tonClick={this.onSearchButtonToggle} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Body \r\n\t\t\t\t\t\tisSearchMode={isSearchMode} \r\n\t\t\t\t\t\tisGuidanceMode={isGuidanceMode}\r\n\t\t\t\t\t\tstart={start} \r\n\t\t\t\t\t\tend={end} \r\n\t\t\t\t\t\tisCheckTripView={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t<NextStepButton \r\n\t\t\t\t\t\tisDisplayed={true}\r\n\t\t\t\t\t\tcolor={color} \r\n\t\t\t\t\t\ttoggleButton={this.onNextStepButtonToggle}\r\n\t\t\t\t\t\ttext={text}\t/>\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cover\" style={{display: drawerDisplay}}>\r\n\t\t\t\t\t<div className=\"cover-background\" onClick={this.onMenuToggle}  />\r\n\t\t\t\t\t<Drawer \r\n\t\t\t\t\t\tcurrent={this.props.current} \r\n\t\t\t\t\t\tmarkSelection={this.props.markSelection} />\r\n\t\t\t\t</div>\r\n\t\t\t</div> \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default CheckTrip;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../../styles/start.css';\r\n\r\nclass Start extends Component {\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.setStatusBarColor(\"#fbad19\");\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<div className=\"start-page-main\">\r\n\t\t\t\t\t<div className=\"logo-container\">\r\n\t\t\t\t\t\t<div className=\"logo-txt\">Bumpy</div>\r\n\t\t\t\t\t\t<div className=\"logo-txt\">Roads</div>\r\n\t\t\t\t\t\t<div className=\"logo-txt\">Informer</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link exact=\"true\" to=\"/map\" className=\"bottom-ruler-btn\">\r\n\t\t\t\t\tget started\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Start;\r\n\r\n\r\n//<div className=\"bottom-ruler-btn\" onClick={() => {this.props.permissionGranted()}}>get started</div>","import React, {Component} from 'react';\nimport './App.css';\n//import { GoogleApiWrapper } from 'google-maps-react';\nimport { Route, HashRouter } from 'react-router-dom';\nimport { createBrowserHistory } from \"history\";\n\nimport ReportBumps from './ReportBumps/index';\n//import FavoritiesMap from './ReportBumps/favorities-map';\nimport CheckTrip from './CheckTrip/index';\nimport Start from './Start/index';\n\nconst customHistory = createBrowserHistory();\n\nclass App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t    this.state = {\n\t    \tcurrent: \"map\",\n\t    \tratio: window.innerWidth/window.innerHeight\n\t    };\n\t}\n\n\tcomponentDidMount = () => {\n\t\twindow.addEventListener('load', function() {\n\t\t  window.history.pushState({ noBackExitsApp: true }, '')\n\t\t})\n\n\t\twindow.addEventListener('popstate', function(event) {\n\t\t  if (event.state && event.state.noBackExitsApp) {\n\t\t    window.history.pushState({ noBackExitsApp: true }, '')\n\t\t  }\n\t\t})\n\t}\n\n\tsetStatusBarColor = color => {\n        document\n            .querySelector(\"meta[name=theme-color]\")\n            .setAttribute(\"content\", color);\n    };\n\n    \n\tmarkSelection = e => {\n\t\tthis.setState({\n\t\t\tcurrent: e.currentTarget.id\n\t\t})\n\t}\n\n\trender() {\n\t\tlet { current, ratio } = this.state;\n\n\t    return (\n\t\t    <HashRouter history={customHistory} >\n\t\t       \t<Route exact path=\"/\" component={() => {\n\t\t       \t\treturn <Start setStatusBarColor={this.setStatusBarColor} />}} />\n\t\t\t\t<Route exact path=\"/map\" component={() => {\n\t\t\t\t\treturn <ReportBumps \n\t\t\t\t\t\tcurrent={current} \n\t\t\t\t\t\tmarkSelection={this.markSelection} \n\t\t\t\t\t\tsetStatusBarColor={this.setStatusBarColor}/>\n\t\t\t\t\t}} />\n\t\t\t\t<Route exact path=\"/checktrip\" component={() => {\n\t\t\t\t\treturn <CheckTrip \n\t\t\t\t\t\tcurrent={current} \n\t\t\t\t\t\tmarkSelection={this.markSelection} \n\t\t\t\t\t\tratio={ratio} \n\t\t\t\t\t\tsetStatusBarColor={this.setStatusBarColor}/>\n\t\t\t\t\t}} />\n  \t\t\t</HashRouter>\n\t    );\n\t}  \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './components/App';\n//import {db} from './components/Firebase/firebase';\n\nserviceWorker.unregister();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}