(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a,o=n(0),c=n.n(o),i=n(7),r=n.n(i),l=(n(15),n(1)),s=n(2),u=n(4),d=n(3),v=n(5),g=(n(16),n(8)),h=0,w=0,p=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){n.setState({historicAccelValues:[].concat(Object(g.a)(n.state.historicAccelValues),[n.state.currentAccelValues])});var e=n.canvas.current;n.setState({context:e.getContext("2d")})},n.startRecording=function(){if("geolocation"in navigator){a=navigator.geolocation.watchPosition(n.updateLatestPoint,n.logError,{enableHighAccuracy:!0,maximumAge:3e4,timeout:2e4}),window.DeviceMotionEvent&&window.addEventListener("devicemotion",n.updateAccelValues)}},n.logError=function(){console.log("error")},n.updateAccelValues=function(e){null!==e.acceleration.x&&null!==e.acceleration.y&&null!==e.acceleration.z&&n.setState({currentAccelValues:{x:e.acceleration.x.toFixed(4),y:e.acceleration.y.toFixed(4),z:e.acceleration.z.toFixed(4)}},function(){w===n.canvas.current.width&&(w=0);var e=1;for(var t in n.drawBackground("white",0),n.state.currentAccelValues)n.drawLine(n.state.currentAccelValues[t],e),e++;w++,n.drawBackground("red",1);for(var a=2;a<5;a++)n.drawBackground("white",a)})},n.drawLine=function(e,t){var a=100*t-50,o=n.state.context;o.beginPath(),o.strokeStyle="black",o.moveTo(w,a+5*e),o.lineTo(w,a),o.stroke()},n.drawBackground=function(e,t){var a=n.state.context;a.beginPath(),a.strokeStyle=e,a.moveTo(w+t,0),a.lineTo(w+t,300),a.stroke()},n.updateLatestPoint=function(e){var t=null===e.coords.speed?0:e.coords.speed;n.setState({latestPoint:{lat:e.coords.latitude.toFixed(6),lng:e.coords.longitude.toFixed(6),speed:t.toFixed(4)}}),console.log(e)},n.updateList=function(){},n.stopRecording=function(){navigator.geolocation.clearWatch(a),window.removeEventListener("devicemotion",n.updateAccelValues)},n.state={list:[],latestPoint:{lat:h.toFixed(6),lng:h.toFixed(6),speed:h.toFixed(6)},historicAccelValues:[],currentAccelValues:{x:0,y:0,z:0},context:null},n.canvas=c.a.createRef(),n}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{onClick:this.startRecording},"Start recording"),c.a.createElement("div",null,"lat=",this.state.latestPoint.lat,", lng=",this.state.latestPoint.lng,", speed=",this.state.latestPoint.speed," "),c.a.createElement("canvas",{id:"canvas",width:"400",height:"300",ref:this.canvas}),c.a.createElement("button",{onClick:this.stopRecording},"Stop recording"))}}]),t}(o.Component),m=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(p,null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.fe2abd3a.chunk.js.map