{"version":3,"sources":["ducks/selected-trip.js","ducks/trip.js","ducks/menu-state.js","ducks/mode.js","ducks/favorities.js","ducks/dom.js","ducks/bumps-map.js","helpers/firebase.js","ducks/stats.js","ducks/index.js","store/store.js","components/_common/next-step-button.js","components/_common/header-menu.js","components/_common/header-submenu.js","components/ReportBumps/favorities-list.js","helpers/index.js","testing/index.js","components/_common/body-wrapper.js","components/_common/bumps-map.js","components/_common/car.js","components/_common/drawer.js","components/_common/selected-trip-map.js","components/ReportBumps/share-block.js","components/ReportBumps/index.js","components/SharedTrip/slider.js","components/SharedTrip/index.js","components/CheckTrip/search-menu.js","components/CheckTrip/warning.js","components/CheckTrip/index.js","components/Start/index.js","components/App.js","serviceWorker.js","index.js"],"names":["TRIP_SELECTED","NO_TRIPS_SELECTED","initial","selectTrip","data","type","ADD_TRIP_BUMPS","UPDATE_LOCATION","UPDATE_ACCELERATION","RESET_TRIP","RESET_MOVE","path","currentLocation","lat","lng","timestamp","speed","previousLocation","previousAcceleration","x","y","z","zoom","angle","move","distance","bumps","updateLocation","resetTrip","FAVORITIES_LIST_VIEW","SELECTED_TRIP_VIEW","DRAWER_VIEW","CLOSE_DRAWER_VIEW","BUMPS_MAP_VIEW","SHARE_VIEW","CLOSE_SHARE_VIEW","CHECK_TRIP_VIEW","isFavoritiesListView","isSelectedTripView","isDrawerView","isBumpsMapView","isShareView","isCheckTripView","title","iconleft","iconright","updateMenuState","state","action","_objectSpread2","Object","objectSpread","defineProperty","menuitem","selectTripView","selectDrawerView","status","closeDrawerView","selectBumpsMapView","selectCheckTripView","RECORDING","STOP_RECORDING","BUILDING_ROUTE","GUIDANCE","STOP_GUIDANCE","isRecording","isBuildingRoute","isGuidance","color","text","ADD_TO_FAVORITIES","DELETE_FROM_FAVORITIES","JSON","parse","localStorage","getItem","SET_DIMENTIONS","SET_RATIO","CHANGE_BARCOLOR","width","height","ratio","setDimentions","dimentions","setRatio","changeBarColor","ADD_BUMPS","addBumps","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","GET_STATS","ADD_TO_STATS","bumpsCount","distanceTotal","tripsCount","statsRef","collection","doc","bumpsRef","getStatsFromDatabase","get","then","exists","console","log","da","getUpdatedData","tripdata","Promise","resolve","reject","count","forEach","bump","update","FieldValue","arrayUnion","catch","error","Error","length","increment","Math","round","test","reducers","selectedTrip","arguments","undefined","trip","concat","menu","mode","_objectSpread3","_objectSpread4","_objectSpread5","on","favorities","toConsumableArray","slice","filter","item","id","dom","stats","combineReducers","store","createStore","reducer","NextStepButton","_this","this","_this$props$menu","props","react_default","a","createElement","className","style","backgroundColor","onClick","toggleButton","Component","connect","HeaderMenu","onLeftMenuToggle","onRightMenuToggle","HeaderSubmenu","displaySubmenu","display","map","index","markActiveTab","onSubmenuTabSelect","key","mapDispatchToProps","FavoritiesList","i","start","end","toFixed","EARTH_RADIUS","camelize","str","split","word","charAt","toUpperCase","join","compare","obj1","obj2","hasOwnProperty","toRad","num","PI","getDistance","lat1","lng1","lat2","lng2","dLat","dLng","sin","cos","atan2","sqrt","getRouteBumps","directionArray","bumpsArray","routeBumps","distanceToSectionStart","distanceToSectionEnd","sectionLength","n","push","getBumpAhead","coords","bumpAhead","closestBump","shortestDistance","moveTimers","bumpsTimers","fakeCarMove","callback","starttime","location","latitude","longitude","setTimeout","stopCarMoveSimulation","t","clearTimeout","addToFavorities","random","toString","addTripBumps","updateAcceleration","resetMove","addToStats","Body","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","window","addEventListener","updateWindowDimensions","componentDidUpdate","prevProps","prevState","startRecording","stopRecording","startGuidance","stopGuidance","saveSharedTripToDatabase","setItem","stringify","componentWillUnmount","removeEventListener","innerWidth","innerHeight","testing","updateLocationData","updateFavoritiesData","err","updateArrayIfPositionChanged","array","helpers","updateAccelerationData","ev","_this$props$trip","_this$props$trip$curr","ax","ay","az","pow","updateSpeedValue","prev","time","abs","updateAngleValue","brng","_this$props$trip2","segmentDistance","convertToReadableAddress","maps","google","addresses","geocoder","Geocoder","geocode","results","formatted_address","_this$props$trip3","center","bounds","ne","sw","arrayOfCoords","maxY","minY","maxX","minX","LN2","endpoints","_ref","onZoomChanged","mapProps","clickEvent","set","saveBumpsToDatabase","newBumps","find","_ref2","_ref3","getDatabaseBumpsCount","updateStatsInDatabase","cover","isFetching","mymap","React","createRef","_this$props","favorities_list","selected_trip_map","bumps_map","centerAroundCurrentLocation","reportBumpAhead","car","dist","strokeColor","strokeOpacity","strokeWeight","WrapperContainer","GoogleApiWrapper","process","BumpsMap","setState","isCurrentPositionReceived","loadMap","_this$state","distanceToBump","buildRoute","directionsDisplay","setMap","request","origin","destination","travelMode","directionsService","route","response","geometry","encoding","decodePath","routes","overview_polyline","databaseBumps","setBumpsOnMap","setDirections","_this$state$currentLo","LatLng","mapConfig","assign","zoomControl","scaleControl","fullscreenControl","mapTypeControl","streetViewControl","Map","current","DirectionsService","DirectionsRenderer","e","addListener","handleEvent","event","trigger","recenterMap","panTo","deleteMarkers","markersArray","marker","size","bumpOption","fillColor","fillOpacity","scale","anchor","Point","Marker","position","icon","tripBumps","renderChildren","children","Children","c","cloneElement","mapCenter","_props$initialCenter","initialCenter","mymarker","directionsBumps","_this2","navigator","geolocation","getCurrentPosition","pos","evtName","timeout","_this3","handlerName","ref","defaultProps","elements","fill","Car","renderMarker","removeMarker","_this$props2","rotation","pref","setZIndex","Drawer","handleSelection","hash","pop","react_router_dom","exact","to","replace","dispatch","SelectedTripMap","_this$props$selectedT","mapOptions","tripOptions","mapRef","Polyline","animation","Animation","DROP","componenWillUnmount","_this$props$dom","ShareBlock","url","EmailShareButton","EmailIcon","borderRadius","FacebookShareButton","FacebookIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","ViberShareButton","ViberIcon","selectFavoritiesListView","selectShareView","closeShareView","noTripsSelected","ReportBumps","onNextStepButtonToggle","condition","selectedOption","drawerDisplay","shareDisplay","_this$props$mode","header_menu","header_submenu","body_wrapper","next_step_button","share_block","drawer","Slider","SharedTrip","getSharedTripData","getAppStatistics","tripQuality","setTripQuality","isDataReceived","toggleStats","isStatsView","quality","slider","SearchMenu","displaySearch","name","value","placeholder","onFocus","preventResize","onChange","handleChange","clearInput","Warning","CheckTrip","newHeight","document","querySelector","setAttribute","onSearchButtonToggle","handleInputChange","_e$target","target","isBumpAhead","coverDisplay","searchButtonDisplay","_this$props$mode2","search_menu","warning","Start","getStats","customHistory","createBrowserHistory","App","history","pushState","noBackExitsApp","updateStatusbarColor","retrieveBumpsFromDatabase","retrieveAppStatsFromDatabase","react_router","component","Boolean","hostname","match","serviceWorker","ready","registration","unregister","ReactDOM","render","es","src_components_App","getElementById"],"mappings":"2RAGaA,EAAgB,wCAChBC,EAAoB,4CAE7BC,EAAU,KAiBP,SAASC,EAAWC,GAC1B,MAAO,CACNC,KAAML,EACNI,KAAMA,eCvBKE,EAAiB,gCACjBC,EAAkB,sCAClBC,EAAsB,0CACtBC,EAAa,iCACbC,EAAa,iCAEtBR,EAAU,CACbS,KAAM,GACNC,gBAAiB,CAACC,IAAK,EAAGC,IAAK,EAAGC,UAAW,EAAGC,MAAO,GACvDC,iBAAkB,GAClBC,qBAAsB,CAACC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACtCC,KAAM,GACNC,MAAO,EACPC,KAAM,EACNC,SAAU,EACVC,MAAO,IA0CD,SAASC,EAAevB,GAC9B,MAAO,CACNC,KAAME,EACNH,KAAMA,GAID,SAASwB,IACf,MAAO,CACNvB,KAAMI,eClEKoB,EAAuB,uCACvBC,EAAqB,qCACrBC,EAAc,8BACdC,EAAoB,oCACpBC,EAAiB,iCACjBC,EAAa,6BACbC,EAAmB,mCACnBC,EAAkB,kCAE3BlC,EAAU,CACbmC,sBAAsB,EACtBC,oBAAoB,EACpBC,cAAc,EACdC,gBAAgB,EAChBC,aAAa,EACbC,iBAAiB,EACjBC,MAAO,GACPC,SAAU,GACVC,UAAW,IAGNC,EAAkB,SAACC,EAAOC,GAAW,IAAAC,EAC1C,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GAAIhD,GAAX+C,EAAA,GAAAC,OAAAE,EAAA,EAAAF,CAAAD,EACED,EAAOK,UAAW,GADpBH,OAAAE,EAAA,EAAAF,CAAAD,EAAA,QAEQD,EAAOL,OAFfO,OAAAE,EAAA,EAAAF,CAAAD,EAAA,WAGWD,EAAOJ,UAHlBM,OAAAE,EAAA,EAAAF,CAAAD,EAAA,YAIYD,EAAOH,WAJnBI,KAkCM,SAASK,IACf,MAAO,CACNjD,KAAMyB,EACNuB,SAAU,qBACVV,MAAO,eACPC,SAAU,aACVC,UAAW,cAIN,SAASU,IACf,MAAO,CACNlD,KAAM0B,EACNyB,QAAQ,GAIH,SAASC,IACf,MAAO,CACNpD,KAAM2B,EACNwB,QAAQ,GAIH,SAASE,IACf,MAAO,CACNrD,KAAM4B,EACNoB,SAAU,iBACVV,MAAO,gBACPC,SAAU,cACVC,UAAW,IAkBN,SAASc,IACf,MAAO,CACNtD,KAAM+B,EACNiB,SAAU,kBACVV,MAAO,kBACPC,SAAU,cACVC,UAAW,IC9GN,IAAMe,EAAY,4BACZC,EAAiB,iCACjBC,EAAiB,iCACjBC,EAAW,2BACXC,EAAgB,gCAIzB9D,EAAU,CACb+D,aAAa,EACbC,iBAAiB,EACjBC,YAAY,EACZC,MAAO,UACPC,KAAM,+BCbMC,EAAoB,0CACpBC,EAAyB,gDAElCrE,EAAUsE,KAAKC,MAAMC,aAAaC,QAAQ,gBAAkB,GCHzD,IAAMC,EAAiB,gCACjBC,EAAY,2BACZC,EAAkB,iCAE3B5E,EAAU,CACb6E,MAAO,EACPC,OAAQ,EACRC,MAAO,EACPb,MAAO,WAmBD,SAASc,EAAcC,GAC7B,MAAO,CACN9E,KAAMuE,EACNO,WAAYA,GAIP,SAASC,GAASH,GACxB,MAAO,CACN5E,KAAMwE,EACNI,MAAOA,GAIF,SAASI,GAAejB,GAC9B,MAAO,CACN/D,KAAMyE,EACNV,MAAOA,GC5CF,IAAMkB,GAAY,2BAErBpF,GAAU,GAWP,SAASqF,GAAS7D,GACxB,MAAO,CACNrB,KAAMiF,GACN5D,MAAOA,2BCPH8D,GAVcC,KAASC,cAAc,CACvCC,OAAQ,0CACRC,WAAY,qCACZC,YAAa,4CACbC,UAAW,qBACXC,cAAe,GACfC,kBAAmB,eACnBC,MAAO,wCAGYC,YCPVC,GAAY,6BACZC,GAAe,gCAExBlG,GAAU,CACbmG,WAAY,EACZC,cAAe,EACfC,WAAY,GAGTC,GAAWhB,GAAGiB,WAAW,SAASC,IAAI,UACtCC,GAAWnB,GAAGiB,WAAW,YAAYC,IAAI,SAE7C,SAASE,GAAqB7D,GAC7ByD,GAASK,MAAMC,KAAK,SAAAJ,GACfA,EAAIK,SACPC,QAAQC,IAAIlE,EAAO2D,EAAItG,QA8C1B,SAAY2C,EAAO3C,GAAM,IACnBiG,EAAyCjG,EAAzCiG,WAAYC,EAA6BlG,EAA7BkG,cAAeC,EAAcnG,EAAdmG,WAChCS,QAAQC,IAAR/D,OAAAC,EAAA,EAAAD,CAAA,GAAgBH,EAAhB,CAAuBsD,aAAYC,gBAAeC,gBAC3CrD,OAAAC,EAAA,EAAAD,CAAA,GAAIH,EAAX,CAAkBsD,aAAYC,gBAAeC,eAhD3CW,CAAGnE,EAAO2D,EAAItG,WAsCjB,SAAS+G,GAAepE,EAAOC,GAzB/B,IAA+BoE,KA0BRpE,EAAOoE,SAzBtB,IAAIC,QAAQ,SAACC,EAASC,GAC5B,IAAIC,EAAQ,EACZJ,EAAS1F,MAAM+F,QAAQ,SAAAC,GAAI,OAC1Bf,GAASgB,OAAO,CAACjG,MAAO+D,KAASS,UAAU0B,WAAWC,WAAWH,KAChEZ,KAAK,kBAAMU,MACXM,MAAM,SAAAC,GAAK,OAAIR,EAAO,IAAIS,MAAM,0CAG9BR,IAAUJ,EAAS1F,MAAMuG,QAAQX,EAAQ,cAkB7CR,KAAK,kBAlCC,IAAIO,QAAQ,SAACC,EAASC,GAC5BZ,GAASE,MACRC,KAAK,SAAAJ,GAAaA,EAAIK,QAAQO,EAAQZ,EAAItG,OAAOsB,SACjDoG,MAAM,SAAAC,GAAK,OAAIR,EAAO,IAAIS,MAAM,4CAgCjClB,KAAK,SAAApF,GAAK,OAfmB2E,EAeO3E,EAAMuG,OAfDxG,EAeSuB,EAAOoE,SAAS3F,SAd5D,IAAI4F,QAAQ,SAACC,EAASC,GAC5Bf,GAASmB,OAAO,CACftB,WAAYA,EACZC,cAAeb,KAASS,UAAU0B,WAAWM,UAAUC,KAAKC,MAAM3G,IAClE8E,WAAYd,KAASS,UAAU0B,WAAWM,UAAU,KAEpDpB,KAAK,kBAAMQ,EAAQ,aACnBQ,MAAM,SAAAC,GAAK,OAAIR,EAAO,IAAIS,MAAM,wCARnC,IAA+B3B,EAAY5E,IAgBzCqF,KAAK,kBAAMuB,KAAOzB,GAAqB7D,KCrDzC,IAAMuF,GAAW,CACfC,aTAa,WAA+C,IAAzBxF,EAAyByF,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GAAjBtI,EAAS8C,EAAQwF,UAAAP,OAAA,EAAAO,UAAA,QAAAC,EAC7D,OAAQzF,EAAO3C,MACd,KAAKL,EAEL,KAAKC,EACJ,OAAO+C,EAAO5C,KACf,QACC,OAAO2C,ISNR2F,KRUa,WAAuC,IAAzB3F,EAAyByF,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GAAjBtI,EAAS8C,EAAQwF,UAAAP,OAAA,EAAAO,UAAA,QAAAC,EACrD,OAAQzF,EAAO3C,MACd,KAAKC,EACJ,OAAO4C,OAAAC,EAAA,EAAAD,CAAA,GAAKH,EAAZ,CAAmBrB,MAAOqB,EAAMrB,MAAMiH,OAAO3F,EAAO5C,QACrD,KAAKI,EACJ,OAAO0C,OAAAC,EAAA,EAAAD,CAAA,GAAKH,EAAZ,CACC7B,qBAAsB8B,EAAO5C,KAAKc,uBACpC,KAAKX,EACJ,OAAO2C,OAAAC,EAAA,EAAAD,CAAA,GAAKH,EAAZ,CACC9B,iBAAkB8B,EAAMnC,gBACxBA,gBAAiBoC,EAAO5C,KAAKQ,gBAC7BD,KAAMqC,EAAO5C,KAAKO,KAClBY,MAAOyB,EAAO5C,KAAKmB,MACnBC,KAAMwB,EAAO5C,KAAKoB,KAClBC,SAAUuB,EAAO5C,KAAKqB,WACxB,KAAKf,EAAY,OAAOwC,OAAAC,EAAA,EAAAD,CAAA,GAAKH,EAAZ,CAAmBvB,KAAM,IAC1C,KAAKf,EAAY,OAAOyC,OAAAC,EAAA,EAAAD,CAAA,GAAKhD,GAC7B,QACC,OAAO6C,IQ3BR6F,KPoBa,WAAuC,IAAzB7F,EAAyByF,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GAAjBtI,EAAS8C,EAAQwF,UAAAP,OAAA,EAAAO,UAAA,QAAAC,EACrD,OAAQzF,EAAO3C,MACd,KAAKwB,EACL,KAAKC,EACL,KAAKG,EACL,KAAKG,EAAiB,OAAOU,EAAgBC,EAAOC,GACpD,KAAKjB,EACL,KAAKC,EAAmB,OAAOkB,OAAAC,EAAA,EAAAD,CAAA,GAAKH,EAAZ,CAAmBR,aAAcS,EAAOQ,SAChE,KAAKtB,EACL,KAAKC,EAAkB,OAAOe,OAAAC,EAAA,EAAAD,CAAA,GAAKH,EAAZ,CAAmBN,YAAaO,EAAOQ,SAC9D,QACC,OAAOT,IO9BR8F,KNKa,WAAuC,IAAA5F,EAAA6F,EAAAC,EAAAC,EAAzBjG,EAAyByF,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GAAjBtI,EAAS8C,EAAQwF,UAAAP,OAAA,EAAAO,UAAA,QAAAC,EACrD,OAAQzF,EAAO3C,MACd,KAAKuD,EACJ,OAAOV,OAAAC,EAAA,EAAAD,CAAA,GAAIhD,GAAX+C,EAAA,GAAAC,OAAAE,EAAA,EAAAF,CAAAD,EACED,EAAO6F,KAAO7F,EAAOiG,IADvB/F,OAAAE,EAAA,EAAAF,CAAAD,EAAA,QAEQD,EAAOoB,OAFflB,OAAAE,EAAA,EAAAF,CAAAD,EAAA,OAGOD,EAAOqB,MAHdpB,IAID,KAAKY,EAAgB,OAAOX,OAAAC,EAAA,EAAAD,CAAA,GAAIhD,GAChC,KAAK4D,EACJ,OAAOZ,OAAAC,EAAA,EAAAD,CAAA,GAAIhD,GAAX4I,EAAA,GAAA5F,OAAAE,EAAA,EAAAF,CAAA4F,EACE9F,EAAO6F,KAAO7F,EAAOiG,IADvB/F,OAAAE,EAAA,EAAAF,CAAA4F,EAAA,OAEO9F,EAAOqB,MAFdyE,IAGD,KAAK/E,EACJ,OAAOb,OAAAC,EAAA,EAAAD,CAAA,GAAIhD,GAAX6I,EAAA,GAAA7F,OAAAE,EAAA,EAAAF,CAAA6F,EACE/F,EAAO6F,KAAO7F,EAAOiG,IADvB/F,OAAAE,EAAA,EAAAF,CAAA6F,EAAA,QAEQ/F,EAAOoB,OAFflB,OAAAE,EAAA,EAAAF,CAAA6F,EAAA,OAGO/F,EAAOqB,MAHd0E,IAID,KAAK/E,EACJ,OAAOd,OAAAC,EAAA,EAAAD,CAAA,GAAIhD,GAAX8I,EAAA,GAAA9F,OAAAE,EAAA,EAAAF,CAAA8F,EACEhG,EAAO6F,KAAO7F,EAAOiG,IADvB/F,OAAAE,EAAA,EAAAF,CAAA8F,EAAA,QAEQhG,EAAOoB,OAFflB,OAAAE,EAAA,EAAAF,CAAA8F,EAAA,OAGOhG,EAAOqB,MAHd2E,IAID,QACC,OAAOjG,IM3BRmG,WLNa,WAA6C,IAAzBnG,EAAyByF,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GAAjBtI,EAAS8C,EAAQwF,UAAAP,OAAA,EAAAO,UAAA,QAAAC,EAC3D,OAAQzF,EAAO3C,MACd,KAAKiE,EAAmB,SAAAqE,OAAAzF,OAAAiG,EAAA,EAAAjG,CAAWH,EAAMqG,OAAO,IAAxB,CAA4BpG,EAAO5C,OAC3D,KAAKmE,EAAwB,OAAOxB,EAAMsG,OAAO,SAAAC,GAAI,OAAIA,EAAKC,KAAOvG,EAAOuG,KAE5E,QACC,OAAOxG,IKCRyG,IJDa,WAAsC,IAAzBzG,EAAyByF,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GAAjBtI,EAAS8C,EAAQwF,UAAAP,OAAA,EAAAO,UAAA,QAAAC,EACpD,OAAQzF,EAAO3C,MACd,KAAKuE,EACJ,OAAO1B,OAAAC,EAAA,EAAAD,CAAA,GAAKH,EAAZ,CACCgC,MAAO/B,EAAOmC,WAAWJ,MACzBC,OAAQhC,EAAOmC,WAAWH,SAC5B,KAAKH,EACJ,OAAO3B,OAAAC,EAAA,EAAAD,CAAA,GAAKH,EAAZ,CACCkC,MAAOjC,EAAOiC,QAChB,KAAKH,EAAiB,OAAO5B,OAAAC,EAAA,EAAAD,CAAA,GAAIH,EAAX,CAAkBqB,MAAOpB,EAAOoB,QACtD,QAAS,OAAOrB,IIRhBrB,MHTa,WAAwC,IAAzBqB,EAAyByF,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GAAjBtI,GAAS8C,EAAQwF,UAAAP,OAAA,EAAAO,UAAA,QAAAC,EACtD,OAAQzF,EAAO3C,MACd,KAAKiF,GAAW,SAAAqD,OAAAzF,OAAAiG,EAAA,EAAAjG,CAAWH,GAAXG,OAAAiG,EAAA,EAAAjG,CAAqBF,EAAOtB,QAC5C,QAAS,OAAOqB,IGOhB0G,MDuDa,WAAwC,IAAzB1G,EAAyByF,UAAAP,OAAA,QAAAQ,IAAAD,UAAA,GAAAA,UAAA,GAAjBtI,GAAS8C,EAAQwF,UAAAP,OAAA,EAAAO,UAAA,QAAAC,EACtD,OAAQzF,EAAO3C,MACd,KAAK8F,GAAW,OAAOS,GAAqB7D,GAC5C,KAAKqD,GAAc,OAAOe,GAAepE,EAAOC,GAChD,QAAS,OAAOD,KCxDH2G,eAAgBpB,IChBhBqB,GAFHC,YAAYC,gFCOlBC,sMAEI,IAAAC,EAAAC,KAAAC,EAC2CD,KAAKE,MAAMtB,KAAxDvG,EADE4H,EACF5H,qBAAsBC,EADpB2H,EACoB3H,mBAC5B,OAAID,GAAwBC,EAA2B,KAGtD6H,EAAAC,EAAAC,cAAA,OACCC,UAAU,mBACVC,MAAO,CAAEC,gBAAiBR,KAAKE,MAAM9F,OACrCqG,QAAS,kBAAMV,EAAKG,MAAMQ,iBACzBV,KAAKE,MAAM7F,aAXasG,cAiBdC,eAvBS,SAAA7H,GACpB,MAAO,CACH6F,KAAM7F,EAAM6F,OAqBLgC,CAAyBd,IClBlCe,yLAEI,IAAAd,EAAAC,KACR,OACEG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAS,oBAAA3B,OAAsBqB,KAAKE,MAAMtB,KAAKhG,UACnD6H,QAAS,kBAAMV,EAAKG,MAAMY,sBAC3BX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAcN,KAAKE,MAAMtB,KAAKjG,QAE9CwH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAS,oBAAA3B,OAAsBqB,KAAKE,MAAMtB,KAAK/F,WACnD4H,QAAS,kBAAMV,EAAKG,MAAMa,gCAZRJ,aAoBVC,eA1BS,SAAA7H,GACpB,MAAO,CACH6F,KAAM7F,EAAM6F,OAwBLgC,CAAyBC,ICpBlCG,yLACI,IAAAjB,EAAAC,KAAAC,EAEuCD,KAAKE,MAAMtB,KAApDvG,EAFE4H,EAEF5H,qBAAsBG,EAFpByH,EAEoBzH,eACxByI,EAAkB5I,GAAwBG,EAAmB,OAAS,OAE1E,OACC2H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBC,MAAO,CAACW,QAASD,IALpC,CAAC,kBAAmB,aAOvBE,IAAI,SAAC7B,EAAM8B,GAAP,OACXjB,EAAAC,EAAAC,cAAA,OACCC,UAAS,sBAAA3B,OAAwBoB,EAAKG,MAAMmB,cAAc/B,GAAQ,aAAe,IACjFmB,QAAS,kBAAMV,EAAKG,MAAMoB,mBAAmBhC,IAC7CiC,IAAKH,GACJ9B,aAdoBqB,aAwBbC,eA9BS,SAAA7H,GACpB,MAAO,CACH6F,KAAM7F,EAAM6F,OA4BLgC,CAAyBI,4BCnBlCQ,GAAqB,CACxBrL,WAAYoI,EACZjF,eAAgBsF,GAGb6C,yLAYI,IAAA1B,EAAAC,KACJd,EAAac,KAAKE,MAAMhB,WAC5B,OAAKA,EAAWjB,OAGbkC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbpB,EAAWiC,IAAI,SAACzC,EAAMgD,GAAP,OACjBvB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAEdG,QAAS,WACRV,EAAKG,MAAM/J,WAAWuI,GACtBqB,EAAKG,MAAM5G,kBACTiI,IAAKG,GACRvB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAf,SAAkC5B,EAAKiD,OACvCxB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAf,OAAgC5B,EAAKkD,KACrCzB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmB5B,EAAKhH,MAAMuG,OAA7C,cAAgES,EAAKjH,SAAWiH,EAAKjH,SAASoK,QAAQ,GAAK,EAA3G,WAb2B,YAdJlB,aAmCdC,eA/CS,SAAA7H,GACpB,MAAO,CACHmG,WAAYnG,EAAMmG,WAClBO,MAAO1G,EAAM0G,QA4CmB+B,GAAzBZ,CAA6Ca,ICtDtDK,GAAe,OAErB,SAASC,GAASC,GASjB,MARiB,CAAC,IAAK,KAEZvE,QAAQ,SAAA6B,GAClB0C,EAAMA,EAAIC,MAAM3C,GAAM6B,IAAI,SAACe,GAC1B,OAAOA,EAAKC,OAAO,GAAGC,cAAgBF,EAAK9C,MAAM,KAC/CiD,KAAK,MAGFL,EAGR,SAASM,GAAQC,EAAMC,GACtB,IAAK,IAAIjB,KAAOgB,EACf,IAAKC,EAAKC,eAAelB,IAAQgB,EAAKhB,KAASiB,EAAKjB,GAAM,OAAO,EAElE,OAAO,EAGR,SAASmB,GAAMC,GACd,OAAOA,EAAMxE,KAAKyE,GAAG,IAGtB,SAASC,GAAYC,EAAMC,EAAMC,EAAMC,GACtC,IAAIC,EAAOR,GAAMM,EAAOF,GACpBK,EAAOT,GAAMO,EAAOF,GAEpB3C,EAAIjC,KAAKiF,IAAIF,EAAO,GAAK/E,KAAKiF,IAAIF,EAAO,GAAK/E,KAAKkF,IAAIX,GAAMI,IAAS3E,KAAKkF,IAAIX,GAAMM,IAAS7E,KAAKiF,IAAID,EAAO,GAAKhF,KAAKiF,IAAID,EAAO,GAGvI,OAD8B,EAAfrB,GAAmB3D,KAAKmF,MAAMnF,KAAKoF,KAAKnD,GAAIjC,KAAKoF,KAAK,EAAInD,IAmD1E,SAASoD,GAAcC,EAAgBC,GACtC,IAAIC,EAAa,GAcd,OAbHF,EAAehG,QAAQ,SAACiE,EAAGN,GACxB,GAAIA,EAAQqC,EAAexF,OAAS,EAAG,CACnC,IAEF2F,EAAwBC,EAFlBC,EAAgBjB,GAAYnB,EAAE7K,IAAK6K,EAAE5K,IAAK2M,EAAerC,EAAQ,GAAGvK,IAAK4M,EAAerC,EAAQ,GAAGtK,KAG7G4M,EAAWjG,QAAQ,SAAAsG,GAClBH,EAAyBf,GAAYnB,EAAE7K,IAAK6K,EAAE5K,IAAKiN,EAAElN,IAAKkN,EAAEjN,KAC5D+M,EAAuBhB,GAAYY,EAAerC,EAAQ,GAAGvK,IAAK4M,EAAerC,EAAQ,GAAGtK,IAAKiN,EAAElN,IAAKkN,EAAEjN,KACrG8M,EAAyBC,EAAwBC,EAAgB,IAAIH,EAAWK,KAAK,CAACnN,IAAKkN,EAAElN,IAAKC,IAAKiN,EAAEjN,WAKtG6M,EAGX,SAASM,GAAaC,EAAQC,EAAWT,GAExC,IAAIU,EAAcD,EACdE,EAAmBxB,GAAYqB,EAAOrN,IAAKqN,EAAOpN,IAAKqN,EAAUtN,IAAKsN,EAAUrN,KAQjF,OAPH4M,EAAWjG,QAAQ,SAAAC,GAClBV,QAAQC,IAAIiH,GACZ,IAAIzM,EAAWoL,GAAYqB,EAAOrN,IAAKqN,EAAOpN,IAAK4G,EAAK7G,IAAK6G,EAAK5G,KAClEsN,EAAe3M,EAAW4M,EAAoB3G,EAAO0G,EACrDC,EAAoB5M,EAAW4M,EAAoB5M,EAAW4M,IAGrDD,EC/GX,IAAMhO,GAAO,CACXsB,MAAS,CACT,CACEb,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,eAGfJ,KAAQ,CAmSR,CACEE,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,YAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,UACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,SACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,YAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,SACPC,UAAa,cAEf,CACEF,IAAO,SACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,YAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,SACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,UACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,QACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,SACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,UACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,aAEf,CACEF,IAAO,WACPC,IAAO,WACPC,UAAa,cAEf,CACEF,IAAO,WACPC,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","file":"static/js/main.9b8412e3.chunk.js","sourcesContent":["// selected-trip.js\r\n\r\n// Actions \r\nexport const TRIP_SELECTED = \"bumpyroads/selectedTrip/TRIP_SELECTED\";\r\nexport const NO_TRIPS_SELECTED = \"bumpyroads/selectedTrip/NO_TRIPS_SELECTED\";\r\n\r\nlet initial = null;\r\n\r\n\r\n\r\n// Reducer\r\nexport default function selectedTrip(state = initial, action) {\r\n\tswitch (action.type) {\r\n\t\tcase TRIP_SELECTED: \r\n\t\t\treturn action.data;\r\n\t\tcase NO_TRIPS_SELECTED: \r\n\t\t\treturn action.data;\r\n\t\tdefault: \r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\n// Action creators\r\nexport function selectTrip(data) {\r\n\treturn {\r\n\t\ttype: TRIP_SELECTED,\r\n\t\tdata: data\r\n\t}\r\n}\r\n\r\nexport function noTripsSelected() {\r\n\treturn {\r\n\t\ttype: NO_TRIPS_SELECTED,\r\n\t\tdata: null\r\n\t}\r\n}\r\n","//trip.js\r\n\r\n// Actions\r\nexport const ADD_TRIP_BUMPS = \"bumpyroads/bumpTrip/ADD_BUMPS\";\r\nexport const UPDATE_LOCATION = \"bumpyroads/bumpTrip/UPDATE_LOCATION\";\r\nexport const UPDATE_ACCELERATION = \"bumpyroads/bumpTrip/UPDATE_ACCELERATION\";\r\nexport const RESET_TRIP = \"bumpyroads/bumpTrip/RESET_TRIP\";\r\nexport const RESET_MOVE = \"bumpyroads/bumpTrip/RESET_MOVE\";\r\n\r\nlet initial = {\r\n\tpath: [],\r\n\tcurrentLocation: {lat: 0, lng: 0, timestamp: 0, speed: 0},\r\n\tpreviousLocation: {},\r\n\tpreviousAcceleration: {x: 0, y: 0, z: 0},\r\n\tzoom: 16,\r\n\tangle: 0,\r\n\tmove: 0,\r\n\tdistance: 0,\r\n\tbumps: []\r\n};\r\n\r\n// Reducer\r\nexport default function trip(state = initial, action) {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TRIP_BUMPS: \r\n\t\t\treturn { ...state, bumps: state.bumps.concat(action.data)}\r\n\t\tcase UPDATE_ACCELERATION: \r\n\t\t\treturn { ...state, \r\n\t\t\t\tpreviousAcceleration: action.data.previousAcceleration }\t\t\r\n\t\tcase UPDATE_LOCATION: \r\n\t\t\treturn { ...state, \r\n\t\t\t\tpreviousLocation: state.currentLocation,\r\n\t\t\t\tcurrentLocation: action.data.currentLocation,\r\n\t\t\t\tpath: action.data.path,\r\n\t\t\t\tangle: action.data.angle,\r\n\t\t\t\tmove: action.data.move,\r\n\t\t\t\tdistance: action.data.distance }\r\n\t\tcase RESET_MOVE: return { ...state, move: 0 }\r\n\t\tcase RESET_TRIP: return { ...initial }\r\n\t\tdefault: \r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\n// Action creators\r\nexport function addTripBumps(data) {\r\n\t//console.log(data)\r\n\treturn {\r\n\t\ttype: ADD_TRIP_BUMPS,\r\n\t\tdata: data\r\n\t}\r\n}\r\n\r\nexport function updateAcceleration(data) {\r\n\treturn {\r\n\t\ttype: UPDATE_ACCELERATION,\r\n\t\tdata: data\r\n\t}\r\n}\r\n\r\nexport function updateLocation(data) {\r\n\treturn {\r\n\t\ttype: UPDATE_LOCATION,\r\n\t\tdata: data\r\n\t}\r\n}\r\n\r\nexport function resetTrip() {\r\n\treturn {\r\n\t\ttype: RESET_TRIP\r\n\t}\r\n}\r\n\r\nexport function resetMove() {\r\n\treturn {\r\n\t\ttype: RESET_MOVE\r\n\t}\r\n}","// menu-state.js\r\n\r\n// Actions \r\nexport const FAVORITIES_LIST_VIEW = \"bumpyroads/menu/FAVORITIES_LIST_VIEW\";\r\nexport const SELECTED_TRIP_VIEW = \"bumpyroads/menu/SELECTED_TRIP_VIEW\";\r\nexport const DRAWER_VIEW = \"bumpyroads/menu/DRAWER_VIEW\";\r\nexport const CLOSE_DRAWER_VIEW = \"bumpyroads/menu/CLOSE_DRAWER_VIEW\";\r\nexport const BUMPS_MAP_VIEW = \"bumpyroads/menu/BUMPS_MAP_VIEW\";\r\nexport const SHARE_VIEW = \"bumpyroads/menu/SHARE_VIEW\";\r\nexport const CLOSE_SHARE_VIEW = \"bumpyroads/menu/CLOSE_SHARE_VIEW\";\r\nexport const CHECK_TRIP_VIEW = \"bumpyroads/menu/CHECK_TRIP_VIEW\";\r\n\r\nlet initial = {\r\n\tisFavoritiesListView: false,\r\n\tisSelectedTripView: false,\r\n\tisDrawerView: false,\r\n\tisBumpsMapView: false,\r\n\tisShareView: false,\r\n\tisCheckTripView: false,\r\n\ttitle: '',\r\n\ticonleft: '',\r\n\ticonright: ''\r\n};\r\n\r\nconst updateMenuState = (state, action) => {\r\n\treturn {...initial, \r\n\t\t[action.menuitem]: true, \r\n\t\ttitle: action.title, \r\n\t\ticonleft: action.iconleft, \r\n\t\ticonright: action.iconright };\r\n}\r\n\r\n// Reducer\r\nexport default function menu(state = initial, action) {\r\n\tswitch (action.type) {\r\n\t\tcase FAVORITIES_LIST_VIEW: return updateMenuState(state, action)\r\n\t\tcase SELECTED_TRIP_VIEW: return updateMenuState(state, action)\r\n\t\tcase BUMPS_MAP_VIEW: return updateMenuState(state, action)\r\n\t\tcase CHECK_TRIP_VIEW: return updateMenuState(state, action)\r\n\t\tcase DRAWER_VIEW: return { ...state, isDrawerView: action.status }\r\n\t\tcase CLOSE_DRAWER_VIEW: return { ...state, isDrawerView: action.status }\r\n\t\tcase SHARE_VIEW: return { ...state, isShareView: action.status }\r\n\t\tcase CLOSE_SHARE_VIEW: return { ...state, isShareView: action.status }\r\n\t\tdefault: \r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\n// Action creators\r\nexport function selectFavoritiesListView() {\r\n\treturn {\r\n\t\ttype: FAVORITIES_LIST_VIEW,\r\n\t\tmenuitem: 'isFavoritiesListView',\r\n\t\ttitle: 'Report a bump',\r\n\t\ticonleft: 'burger-icon',\r\n\t\ticonright: ''\r\n\t}\r\n}\r\n\r\nexport function selectTripView() {\r\n\treturn {\r\n\t\ttype: SELECTED_TRIP_VIEW,\r\n\t\tmenuitem: 'isSelectedTripView',\r\n\t\ttitle: 'Back to list',\r\n\t\ticonleft: 'back-arrow',\r\n\t\ticonright: 'share-icon'\r\n\t}\r\n}\r\n\r\nexport function selectDrawerView() {\r\n\treturn {\r\n\t\ttype: DRAWER_VIEW,\r\n\t\tstatus: true\r\n\t}\r\n}\r\n\r\nexport function closeDrawerView() {\r\n\treturn {\r\n\t\ttype: CLOSE_DRAWER_VIEW,\r\n\t\tstatus: false\r\n\t}\r\n}\r\n\r\nexport function selectBumpsMapView() {\r\n\treturn {\r\n\t\ttype: BUMPS_MAP_VIEW,\r\n\t\tmenuitem: 'isBumpsMapView',\r\n\t\ttitle: 'Report a bump',\r\n\t\ticonleft: 'burger-icon',\r\n\t\ticonright: ''\r\n\t}\r\n}\r\n\r\nexport function selectShareView() {\r\n\treturn {\r\n\t\ttype: SHARE_VIEW,\r\n\t\tstatus: true\r\n\t}\r\n}\r\n\r\nexport function closeShareView() {\r\n\treturn {\r\n\t\ttype: CLOSE_SHARE_VIEW,\r\n\t\tstatus: false\r\n\t}\r\n}\r\n\r\nexport function selectCheckTripView() {\r\n\treturn {\r\n\t\ttype: CHECK_TRIP_VIEW,\r\n\t\tmenuitem: 'isCheckTripView',\r\n\t\ttitle: 'Check your trip',\r\n\t\ticonleft: 'burger-icon',\r\n\t\ticonright: ''\r\n\t}\r\n}","// mode.js\r\n\r\n// Actions \r\nexport const RECORDING = \"bumpyroads/mode/RECORDING\";\r\nexport const STOP_RECORDING = \"bumpyroads/mode/STOP_RECORDING\";\r\nexport const BUILDING_ROUTE = \"bumpyroads/mode/BUILDING_ROUTE\";\r\nexport const GUIDANCE = \"bumpyroads/mode/GUIDANCE\";\r\nexport const STOP_GUIDANCE = \"bumpyroads/mode/STOP_GUIDANCE\";\r\n\r\n\r\n\r\nlet initial = {\r\n\tisRecording: false,\r\n\tisBuildingRoute: false,\r\n\tisGuidance: false,\r\n\tcolor: '#757d75',\r\n\ttext: 'Start Recording'\r\n};\r\n\r\nexport default function mode(state = initial, action) {\r\n\tswitch (action.type) {\r\n\t\tcase RECORDING: \r\n\t\t\treturn {...initial, \r\n\t\t\t\t[action.mode]: action.on, \r\n\t\t\t\tcolor: action.color, \r\n\t\t\t\ttext: action.text }\r\n\t\tcase STOP_RECORDING: return {...initial }\r\n\t\tcase BUILDING_ROUTE: \r\n\t\t\treturn {...initial,\r\n\t\t\t\t[action.mode]: action.on, \r\n\t\t\t\ttext: action.text }\r\n\t\tcase GUIDANCE: \r\n\t\t\treturn {...initial, \r\n\t\t\t\t[action.mode]: action.on, \r\n\t\t\t\tcolor: action.color, \r\n\t\t\t\ttext: action.text }\r\n\t\tcase STOP_GUIDANCE: \r\n\t\t\treturn {...initial, \r\n\t\t\t\t[action.mode]: action.on, \r\n\t\t\t\tcolor: action.color, \r\n\t\t\t\ttext: action.text }\r\n\t\tdefault: \r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport function startRecording() {\r\n\treturn {\r\n\t\ttype: RECORDING,\r\n\t\tmode: 'isRecording',\r\n\t\ton: true,\r\n\t\tcolor: \"#e34929\",\r\n\t\ttext: 'Stop Recording'\r\n\t}\r\n}\r\n\r\nexport function stopRecording() {\r\n\treturn {\r\n\t\ttype: STOP_RECORDING\r\n\t}\r\n}\r\n\r\nexport function buildRoute() {\r\n\treturn {\r\n\t\ttype: BUILDING_ROUTE,\r\n\t\tmode: 'isBuildingRoute',\r\n\t\ton: true,\r\n\t\ttext: 'Start Guidance'\r\n\t}\r\n}\r\n\r\nexport function startGuidance() {\r\n\treturn {\r\n\t\ttype: GUIDANCE,\r\n\t\tmode: 'isGuidance',\r\n\t\ton: true,\r\n\t\tcolor: \"#e34929\",\r\n\t\ttext: 'Stop Guidance'\r\n\t}\r\n}\r\n\r\nexport function stopGuidance() {\r\n\treturn {\r\n\t\ttype: STOP_GUIDANCE,\r\n\t\tmode: 'isGuidance',\r\n\t\ton: false,\r\n\t\tcolor: \"#fbad19\",\r\n\t\ttext: 'Build a route'\r\n\t}\r\n}","//favorities.js\r\n\r\n// Actions\r\nexport const ADD_TO_FAVORITIES = \"bumpyroads/favorities/ADD_TO_FAVORITIES\";\r\nexport const DELETE_FROM_FAVORITIES = \"bumpyroads/favorities/DELETED_FROM_FAVORITIES\";\r\n\r\nlet initial = JSON.parse(localStorage.getItem(\"favorities\")) || [];\r\n\r\n// Reducer\r\nexport default function favorities(state = initial, action) {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TO_FAVORITIES: return [...state.slice(-4), action.data]\r\n\t\tcase DELETE_FROM_FAVORITIES: return state.filter(item => item.id !== action.id)\r\n\r\n\t\tdefault: \r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\n// Action creators\r\nexport function addToFavorities(data) {\r\n\treturn {\r\n\t\ttype: ADD_TO_FAVORITIES,\r\n\t\tdata: {...data, id: `f${(~~(Math.random()*1e8)).toString(16)}`}\r\n\t}\r\n}\r\n\r\nexport function deleteFromFavorities(id) {\r\n\treturn {\r\n\t\ttype: DELETE_FROM_FAVORITIES,\r\n\t\tid: id\r\n\t}\r\n}","//dom-settings.js\r\n\r\n// Actions\r\nexport const SET_DIMENTIONS = \"bumpyroads/dom/SET_DIMENTIONS\";\r\nexport const SET_RATIO = \"bumpyroads/dom/SET_RATIO\";\r\nexport const CHANGE_BARCOLOR = \"bumpyroads/dom/CHANGE_BARCOLOR\";\r\n\r\nlet initial = {\r\n\twidth: 0,\r\n\theight: 0,\r\n\tratio: 1,\r\n\tcolor: \"#fbad19\"\r\n};\r\n\r\n// Reducer\r\nexport default function dom(state = initial, action) {\r\n\tswitch (action.type) {\r\n\t\tcase SET_DIMENTIONS: \r\n\t\t\treturn { ...state, \r\n\t\t\t\twidth: action.dimentions.width, \r\n\t\t\t\theight: action.dimentions.height }\r\n\t\tcase SET_RATIO: \r\n\t\t\treturn { ...state, \r\n\t\t\t\tratio: action.ratio }\r\n\t\tcase CHANGE_BARCOLOR: return {...state, color: action.color }\r\n\t\tdefault: return state\r\n\t}\r\n}\r\n\r\n// Action creators\r\nexport function setDimentions(dimentions) {\r\n\treturn {\r\n\t\ttype: SET_DIMENTIONS,\r\n\t\tdimentions: dimentions\r\n\t}\r\n}\r\n\r\nexport function setRatio(ratio) {\r\n\treturn {\r\n\t\ttype: SET_RATIO,\r\n\t\tratio: ratio\r\n\t}\r\n}\r\n\r\nexport function changeBarColor(color) {\r\n\treturn {\r\n\t\ttype: CHANGE_BARCOLOR,\r\n\t\tcolor: color\r\n\t}\r\n}\r\n","//bumps-map.js\r\n\r\n// Actions\r\nexport const ADD_BUMPS = \"bumpyroads/dom/ADD_BUMPS\";\r\n\r\nlet initial = [];\r\n\r\n// Reducer\r\nexport default function bumps(state = initial, action) {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_BUMPS: return [...state, ...action.bumps]\r\n\t\tdefault: return state\r\n\t}\r\n}\r\n\r\n// Action creators\r\nexport function addBumps(bumps) {\r\n\treturn {\r\n\t\ttype: ADD_BUMPS,\r\n\t\tbumps: bumps\r\n\t}\r\n}\r\n\r\n","import firebase from \"firebase\";\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n    apiKey: \"AIzaSyBexhCuV6JNCsyakFOeBK7NmFb_oM_pgxo\",\r\n    authDomain: \"bumpyroadsinformer.firebaseapp.com\",\r\n    databaseURL: \"https://bumpyroadsinformer.firebaseio.com\",\r\n    projectId: \"bumpyroadsinformer\",\r\n    storageBucket: \"\",\r\n    messagingSenderId: \"854546127925\",\r\n    appId: \"1:854546127925:web:d3c2a81c7c4e9ba6\"\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\n\r\nexport { db };","//stats.js\r\nimport { db } from '../helpers/firebase';\r\nimport firebase from \"firebase\";\r\n\r\n// Actions\r\nexport const GET_STATS = \"bumpyroads/stats/GET_STATS\";\r\nexport const ADD_TO_STATS = \"bumpyroads/stats/ADD_TO_STATS\";\r\n\r\nlet initial = {\r\n\tbumpsCount: 0,\r\n\tdistanceTotal: 0,\r\n\ttripsCount: 0\r\n};\r\n\r\nlet statsRef = db.collection('stats').doc('totals');\r\nlet bumpsRef = db.collection('bumpsmap').doc('bumps');\r\n\r\nfunction getStatsFromDatabase(state) {\r\n\tstatsRef.get().then(doc => { \r\n\t\tif (doc.exists) {\r\n\t\t\tconsole.log(state, doc.data())\r\n\t\t\tda(state, doc.data());\r\n\t\t}\t\t\r\n\t});\r\n}\r\n\r\nfunction getBumpsFromDatabase() {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tbumpsRef.get()\r\n\t\t.then(doc => { if (doc.exists) resolve(doc.data().bumps)})\r\n\t\t.catch(error => reject(new Error('Bumps are not updated in database')))\r\n\t})\r\n}\r\n\r\nfunction updateBumpsInDatabase(tripdata) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet count = 0;\r\n\t\ttripdata.bumps.forEach(bump => \r\n\t\t\tbumpsRef.update({bumps: firebase.firestore.FieldValue.arrayUnion(bump)})\r\n\t\t\t.then(() => count++)\r\n\t\t\t.catch(error => reject(new Error('Bumps are not updated in database'))\r\n\t\t\t\t))\r\n\r\n\t\tif (count === tripdata.bumps.length) resolve('success')\r\n\t});\t\t\r\n}\r\n\r\nfunction updateStatsInDatabase(bumpsCount, distance) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tstatsRef.update({\r\n\t\t\tbumpsCount: bumpsCount,\r\n\t\t\tdistanceTotal: firebase.firestore.FieldValue.increment(Math.round(distance)),\r\n\t\t\ttripsCount: firebase.firestore.FieldValue.increment(1),\r\n\t\t})\r\n\t\t.then(() => resolve('success'))\r\n\t\t.catch(error => reject(new Error('Statistics is not updated in db')));\r\n\t});\r\n}\r\n\r\nfunction getUpdatedData(state, action) {\r\n\tupdateBumpsInDatabase(action.tripdata)\r\n\t.then(() => getBumpsFromDatabase())\r\n\t.then(bumps => updateStatsInDatabase(bumps.length, action.tripdata.distance))\r\n\t.then(() => test = getStatsFromDatabase(state));\r\n}\r\n\r\nfunction da(state, data) {\r\n\tlet {bumpsCount, distanceTotal, tripsCount} = data;\r\n\tconsole.log({...state, bumpsCount, distanceTotal, tripsCount})\r\n\treturn {...state, bumpsCount, distanceTotal, tripsCount}\r\n}\r\n\r\n// Reducer\r\nexport default function stats(state = initial, action) {\r\n\tswitch (action.type) {\r\n\t\tcase GET_STATS: return getStatsFromDatabase(state)\r\n\t\tcase ADD_TO_STATS: return getUpdatedData(state, action)\r\n\t\tdefault: return state\r\n\t}\r\n}\r\n\r\n// Action creators\r\nexport function getStats() {\r\n\treturn {\r\n\t\ttype: GET_STATS\r\n\t}\r\n}\r\n\r\nexport function addToStats(tripdata) {\r\n\treturn {\r\n\t\ttype: ADD_TO_STATS,\r\n\t\ttripdata: tripdata\r\n\t}\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport selectedTrip from './selected-trip';\r\nimport trip from './trip';\r\nimport menu from './menu-state';\r\nimport mode from './mode';\r\nimport favorities from './favorities';\r\nimport dom from './dom';\r\nimport bumps from './bumps-map';\r\nimport stats from './stats';\r\n\r\nconst reducers = {\r\n  selectedTrip: selectedTrip,\r\n  trip: trip,\r\n  menu: menu,\r\n  mode: mode,\r\n  favorities: favorities,\r\n  dom: dom,\r\n  bumps: bumps,\r\n  stats: stats,\r\n};\r\n\r\nexport default combineReducers(reducers);\r\n\r\n","import { createStore } from \"redux\";\r\nimport reducer from \"../ducks/index\";\r\n\r\nlet store = createStore(reducer);\r\n\r\nexport default store;","import React, { Component } from 'react';\r\nimport '../../styles/shared.css';\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        menu: state.menu\r\n    };\r\n};\r\n\r\nclass NextStepButton extends Component {\r\n\r\n\trender() {\r\n\t\tlet { isFavoritiesListView, isSelectedTripView } = this.props.menu;\r\n\t\tif (isFavoritiesListView || isSelectedTripView) return null;\r\n\r\n\t\treturn (\r\n\t\t\t<div \r\n\t\t\t\tclassName=\"bottom-ruler-btn\" \r\n\t\t\t\tstyle={{ backgroundColor: this.props.color}} \r\n\t\t\t\tonClick={() => this.props.toggleButton()} >\r\n\t\t\t\t{this.props.text}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(NextStepButton);","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        menu: state.menu\r\n    };\r\n};\r\n\r\nclass HeaderMenu extends Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t\t<div className=\"header-menu\" >\r\n\t\t\t\t\t<div className=\"header-left-menu\">\r\n\t\t\t\t\t\t<div className={`header-menu-icon ${this.props.menu.iconleft}`} \r\n\t\t\t\t\t\t\tonClick={() => this.props.onLeftMenuToggle()}/>\r\n\t\t\t\t\t\t<div className=\"page-title\">{this.props.menu.title}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"header-right-menu\" >\r\n\t\t\t\t\t\t<div className={`header-menu-icon ${this.props.menu.iconright}`}  \r\n\t\t\t\t\t\t\tonClick={() => this.props.onRightMenuToggle()}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(HeaderMenu);","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        menu: state.menu\r\n    };\r\n};\r\n\r\nclass HeaderSubmenu extends Component {\r\n\trender() {\r\n\t\tlet options = [\"Favorities List\", \"Bumps Map\"];\r\n\t\tlet { isFavoritiesListView, isBumpsMapView } = this.props.menu;\r\n\t\tlet displaySubmenu = (isFavoritiesListView || isBumpsMapView ) ? \"flex\" : \"none\";\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"header-submenu\" style={{display: displaySubmenu }}>\r\n\t\t\t\t{\r\n\t\t\t\t\toptions.map((item, index) => (\r\n\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\tclassName={`header-submenu-tab ${this.props.markActiveTab(item) ? \"tab-active\" : \"\"}`} \r\n\t\t\t\t\t\t\tonClick={() => this.props.onSubmenuTabSelect(item)} \r\n\t\t\t\t\t\t\tkey={index}>\r\n\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(HeaderSubmenu);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as selectedTrip from \"../../ducks/selected-trip\";\r\nimport * as menu from \"../../ducks/menu-state\";\r\nimport * as stats from \"../../ducks/stats\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        favorities: state.favorities,\r\n        stats: state.stats\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  \tselectTrip: selectedTrip.selectTrip,\r\n  \tselectTripView: menu.selectTripView,\r\n};\r\n\r\nclass FavoritiesList extends Component {\r\n\t// setTripQuality = trip => {\r\n\t// \tconsole.log(this.props.stats)\r\n\t// \tlet tripQuality = [\"#e34929\", \"#fbad19\", \"#4c88b7\"]; //bad, moderate, good\r\n\t// \tlet quality = (trip.bumps.length/trip.distance) / (this.props.stats.bumpsCount/this.props.stats.distanceTotal) * 100;\r\n\t// \tconsole.log(quality)\r\n\r\n\t// \tif (quality < 30) return tripQuality[0];\r\n\t// \tif (quality > 70) return tripQuality[2];\r\n\r\n\t// \treturn tripQuality[1];\r\n\t// }\r\n\trender() {\r\n\t\tlet favorities = this.props.favorities;\r\n\t\tif (!favorities.length) return null;\r\n\t\t\r\n\t\treturn (\r\n\t  \t\t<div className=\"fav-list\">\r\n\t  \t\t\t{favorities.map((trip, i) => (\r\n\t\t\t\t\t<div className=\"fav-item\" \r\n\t\t\t\t\t\t//style={{borderColor: this.setTripQuality(trip)}}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.props.selectTrip(trip);\r\n\t\t\t\t\t\t\tthis.props.selectTripView();\r\n\t\t\t\t\t\t}} key={i}>\r\n\t\t\t\t\t\t<div className=\"fav-route\">From: {trip.start}</div>\r\n\t\t\t\t\t\t<div className=\"fav-route\">To: {trip.end}</div>\r\n\t\t\t\t\t\t<div className=\"fav-bumps-count\">{trip.bumps.length} bumps per {trip.distance ? trip.distance.toFixed(1) : 0} km</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n        );\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FavoritiesList);\r\n","const EARTH_RADIUS = 6371000;\r\n\r\nfunction camelize(str) {\r\n\tlet separators = [\" \", \"_\"];\r\n\r\n\tseparators.forEach(item => {\r\n\t\tstr = str.split(item).map((word) => {\r\n\t\t\treturn word.charAt(0).toUpperCase() + word.slice(1);\r\n\t\t}).join('');\r\n\t})\r\n\r\n\treturn str;\r\n}\r\n\r\nfunction compare(obj1, obj2) {\r\n\tfor (var key in obj1) {\r\n\t\tif (!obj2.hasOwnProperty(key) || obj1[key] !== obj2[key]) return false; \r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction toRad(num) {\r\n\treturn num * Math.PI/180;\r\n}\r\n\r\nfunction getDistance(lat1, lng1, lat2, lng2) {\r\n\tvar dLat = toRad(lat2 - lat1);\r\n\tvar dLng = toRad(lng2 - lng1);\r\n\r\n\tvar a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\r\n\r\n\tvar distance = EARTH_RADIUS * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\treturn distance; //distance is returned in meters\r\n}\r\n\r\nfunction getZoom(distance) { // distance in meters\r\n\treturn Math.round(14-Math.log(distance / 2000)/Math.LN2);\r\n}\r\n\r\nfunction getAngle(lat1, lng1, lat2, lng2) {\r\n\tvar dLng = (lng2 - lng1);\r\n\r\n\tvar y = Math.sin(dLng) * Math.cos(lat2);\r\n\tvar x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1) * Math.cos(lat2) * Math.cos(dLng);\r\n\r\n\tvar brng = Math.atan2(y, x);\r\n\r\n\tvar pi = Math.PI;\r\n\tbrng = brng * (180/pi);\r\n\tbrng = (brng + 360) % 360;\r\n    brng = 360 - brng; // count degrees counter-clockwise - remove to make clockwise\r\n\r\n    return brng;\r\n}\r\n\r\nfunction getCenter(bounds) {\r\n\tlet {ne, sw} = bounds;\r\n\r\n\tlet lat = (sw.lat + (ne.lat - sw.lat)/2);\r\n\tlet lng = (sw.lng + (ne.lng - sw.lng)/2);\r\n\r\n\treturn {lat, lng};\r\n}\r\n\r\nfunction getBounds(arrayOfCoords) { //sw, ne\r\n\tvar maxY, minY, maxX, minX;\r\n\r\n\tarrayOfCoords.forEach(i => {\r\n\t\tmaxY = maxY > i.lat ? maxY : i.lat;\r\n\t\tminY = minY < i.lat ? minY : i.lat;\r\n\t\tmaxX = maxX > i.lng ? maxX : i.lng;\r\n\t\tminX = minX < i.lng ? minX : i.lng;\r\n\t});\r\n\r\n\tlet bounds = {\r\n\t\tne: {lat: maxY, lng: maxX}, \r\n\t\tsw: {lat: minY, lng: minX}\r\n\t};\r\n\r\n\treturn bounds; \r\n}\r\n\r\nfunction getRouteBumps(directionArray, bumpsArray) {\r\n\tlet routeBumps = [];\r\n\tdirectionArray.forEach((i, index) => {\r\n    if (index < directionArray.length - 1) {\r\n        let sectionLength = getDistance(i.lat, i.lng, directionArray[index + 1].lat, directionArray[index + 1].lng); //длина отрезка пути\r\n\t\t\r\n\t\tlet distanceToSectionStart, distanceToSectionEnd;\r\n\t\tbumpsArray.forEach(n => { \r\n\t\t\tdistanceToSectionStart = getDistance(i.lat, i.lng, n.lat, n.lng); //расстояние от начала отрезка до точки дефекта из базы\r\n\t\t\tdistanceToSectionEnd = getDistance(directionArray[index + 1].lat, directionArray[index + 1].lng, n.lat, n.lng); //расстояние от конца отрезка до точки дефекта из базы\r\n\t\t\tif ((distanceToSectionStart + distanceToSectionEnd) < sectionLength + 10) routeBumps.push({lat: n.lat, lng: n.lng}); //в сантиметрах\r\n\t\t\t//console.log(\"distanceToSectionStart->\", distanceToSectionStart, \"distanceToSectionEnd->\", distanceToSectionEnd, \"sectionLength->\", sectionLength);\r\n        })\r\n    }});\r\n\r\n    return routeBumps;\r\n}\r\n\r\nfunction getBumpAhead(coords, bumpAhead, bumpsArray) {\r\n\r\n\tlet closestBump = bumpAhead;\r\n\tlet shortestDistance = getDistance(coords.lat, coords.lng, bumpAhead.lat, bumpAhead.lng);\r\n\tbumpsArray.forEach(bump => { \r\n\t\tconsole.log(coords)\r\n\t\tlet distance = getDistance(coords.lat, coords.lng, bump.lat, bump.lng);\r\n\t\tclosestBump = (distance < shortestDistance) ? bump : closestBump; //координаты ближайшего дефекта\r\n\t\tshortestDistance = (distance < shortestDistance) ? distance : shortestDistance; //расстояние до ближайшего дефекта\r\n    })\r\n\r\n    return closestBump;\r\n\r\n\t// console.log(coords,bumpAhead, closestBump)\r\n //    if (!compare(bumpAhead, closestBump)) return closestBump;\r\n //    return bumpAhead;\r\n}\r\n\r\nexport { camelize, compare, toRad, getDistance, getAngle, getZoom, getCenter, getBounds, getRouteBumps, getBumpAhead };\r\n","const data = {\r\n  \"bumps\": [\r\n  {\r\n    \"lat\": 53.9124539,\r\n    \"lng\": 27.512511,\r\n    \"timestamp\": 1568715501000\r\n  },\r\n  {\r\n    \"lat\": 53.9125773,\r\n    \"lng\": 27.5116804,\r\n    \"timestamp\": 1568715508000\r\n  },\r\n  {\r\n    \"lat\": 53.9126042,\r\n    \"lng\": 27.511377,\r\n    \"timestamp\": 1568715513000\r\n  },\r\n  {\r\n    \"lat\": 53.9126162,\r\n    \"lng\": 27.5112736,\r\n    \"timestamp\": 1568715514000\r\n  },\r\n  {\r\n    \"lat\": 53.912639,\r\n    \"lng\": 27.5109944,\r\n    \"timestamp\": 1568715517000\r\n  },\r\n  {\r\n    \"lat\": 53.912651,\r\n    \"lng\": 27.5108786,\r\n    \"timestamp\": 1568715518000\r\n  },\r\n  {\r\n    \"lat\": 53.9127355,\r\n    \"lng\": 27.5103792,\r\n    \"timestamp\": 1568715522000\r\n  },\r\n  {\r\n    \"lat\": 53.9127492,\r\n    \"lng\": 27.5102292,\r\n    \"timestamp\": 1568715523000\r\n  },\r\n  {\r\n    \"lat\": 53.9128456,\r\n    \"lng\": 27.5090998,\r\n    \"timestamp\": 1568715531000\r\n  },\r\n  {\r\n    \"lat\": 53.9129959,\r\n    \"lng\": 27.5075463,\r\n    \"timestamp\": 1568715545000\r\n  },\r\n  {\r\n    \"lat\": 53.913002,\r\n    \"lng\": 27.5074602,\r\n    \"timestamp\": 1568715546000\r\n  },\r\n  {\r\n    \"lat\": 53.9168225,\r\n    \"lng\": 27.5025087,\r\n    \"timestamp\": 1568715622000\r\n  },\r\n  {\r\n    \"lat\": 53.9169234,\r\n    \"lng\": 27.5023963,\r\n    \"timestamp\": 1568715623000\r\n  },\r\n  {\r\n    \"lat\": 53.9189409,\r\n    \"lng\": 27.4998885,\r\n    \"timestamp\": 1568715647000\r\n  },\r\n  {\r\n    \"lat\": 53.9190342,\r\n    \"lng\": 27.4997759,\r\n    \"timestamp\": 1568715648000\r\n  },\r\n  {\r\n    \"lat\": 53.9288212,\r\n    \"lng\": 27.5113076,\r\n    \"timestamp\": 1568715765000\r\n  }\r\n  ],\r\n  \"path\": [\r\n  // {\r\n  //   \"lat\": 53.9127547,\r\n  //   \"lng\": 27.5132219,\r\n  //   \"timestamp\": 1568715307160\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9123642,\r\n  //   \"lng\": 27.5137623,\r\n  //   \"timestamp\": 1568715418506\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9126836,\r\n  //   \"lng\": 27.5138263,\r\n  //   \"timestamp\": 1568715421097\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9127589,\r\n  //   \"lng\": 27.5137944,\r\n  //   \"timestamp\": 1568715422089\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9127776,\r\n  //   \"lng\": 27.513793,\r\n  //   \"timestamp\": 1568715423000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9127944,\r\n  //   \"lng\": 27.5137906,\r\n  //   \"timestamp\": 1568715424000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9127978,\r\n  //   \"lng\": 27.5137901,\r\n  //   \"timestamp\": 1568715424536\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9128056,\r\n  //   \"lng\": 27.5138067,\r\n  //   \"timestamp\": 1568715425000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9128173,\r\n  //   \"lng\": 27.5138293,\r\n  //   \"timestamp\": 1568715426000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9128315,\r\n  //   \"lng\": 27.5138512,\r\n  //   \"timestamp\": 1568715427000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9128532,\r\n  //   \"lng\": 27.5138725,\r\n  //   \"timestamp\": 1568715428000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9128786,\r\n  //   \"lng\": 27.5138995,\r\n  //   \"timestamp\": 1568715429000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9129468,\r\n  //   \"lng\": 27.5139571,\r\n  //   \"timestamp\": 1568715430000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9129884,\r\n  //   \"lng\": 27.5139643,\r\n  //   \"timestamp\": 1568715431000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9130318,\r\n  //   \"lng\": 27.5139788,\r\n  //   \"timestamp\": 1568715432000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.913072,\r\n  //   \"lng\": 27.5139959,\r\n  //   \"timestamp\": 1568715433000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131058,\r\n  //   \"lng\": 27.5140267,\r\n  //   \"timestamp\": 1568715434000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131208,\r\n  //   \"lng\": 27.514045,\r\n  //   \"timestamp\": 1568715435000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131383,\r\n  //   \"lng\": 27.5140704,\r\n  //   \"timestamp\": 1568715436000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131524,\r\n  //   \"lng\": 27.514097,\r\n  //   \"timestamp\": 1568715437000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131611,\r\n  //   \"lng\": 27.5141165,\r\n  //   \"timestamp\": 1568715438000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131659,\r\n  //   \"lng\": 27.5141308,\r\n  //   \"timestamp\": 1568715439000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131681,\r\n  //   \"lng\": 27.514142,\r\n  //   \"timestamp\": 1568715440000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131667,\r\n  //   \"lng\": 27.5141514,\r\n  //   \"timestamp\": 1568715441000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131642,\r\n  //   \"lng\": 27.5141578,\r\n  //   \"timestamp\": 1568715442000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131613,\r\n  //   \"lng\": 27.5141625,\r\n  //   \"timestamp\": 1568715443000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.913159,\r\n  //   \"lng\": 27.5141655,\r\n  //   \"timestamp\": 1568715444000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131575,\r\n  //   \"lng\": 27.514168,\r\n  //   \"timestamp\": 1568715445000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131572,\r\n  //   \"lng\": 27.51417,\r\n  //   \"timestamp\": 1568715446000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131575,\r\n  //   \"lng\": 27.5141705,\r\n  //   \"timestamp\": 1568715447000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131581,\r\n  //   \"lng\": 27.5141716,\r\n  //   \"timestamp\": 1568715448000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131592,\r\n  //   \"lng\": 27.514173,\r\n  //   \"timestamp\": 1568715449000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131592,\r\n  //   \"lng\": 27.5141818,\r\n  //   \"timestamp\": 1568715450000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131568,\r\n  //   \"lng\": 27.5141995,\r\n  //   \"timestamp\": 1568715451000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131496,\r\n  //   \"lng\": 27.5142228,\r\n  //   \"timestamp\": 1568715452000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9131347,\r\n  //   \"lng\": 27.5142358,\r\n  //   \"timestamp\": 1568715453000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9130698,\r\n  //   \"lng\": 27.5142961,\r\n  //   \"timestamp\": 1568715454000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9130066,\r\n  //   \"lng\": 27.5143183,\r\n  //   \"timestamp\": 1568715455000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9129493,\r\n  //   \"lng\": 27.5143536,\r\n  //   \"timestamp\": 1568715456000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9128973,\r\n  //   \"lng\": 27.5143964,\r\n  //   \"timestamp\": 1568715457000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.912846,\r\n  //   \"lng\": 27.5144259,\r\n  //   \"timestamp\": 1568715458000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9127889,\r\n  //   \"lng\": 27.5144678,\r\n  //   \"timestamp\": 1568715459000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9127282,\r\n  //   \"lng\": 27.5144884,\r\n  //   \"timestamp\": 1568715460000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9126742,\r\n  //   \"lng\": 27.5145111,\r\n  //   \"timestamp\": 1568715461000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9126328,\r\n  //   \"lng\": 27.5145383,\r\n  //   \"timestamp\": 1568715462000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9125913,\r\n  //   \"lng\": 27.5145542,\r\n  //   \"timestamp\": 1568715463000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9125718,\r\n  //   \"lng\": 27.5145518,\r\n  //   \"timestamp\": 1568715464000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.912551,\r\n  //   \"lng\": 27.5145411,\r\n  //   \"timestamp\": 1568715465000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9125288,\r\n  //   \"lng\": 27.5145313,\r\n  //   \"timestamp\": 1568715466000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9125081,\r\n  //   \"lng\": 27.5145228,\r\n  //   \"timestamp\": 1568715467000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9124867,\r\n  //   \"lng\": 27.5145063,\r\n  //   \"timestamp\": 1568715468000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9124646,\r\n  //   \"lng\": 27.5144812,\r\n  //   \"timestamp\": 1568715469000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9124448,\r\n  //   \"lng\": 27.5144519,\r\n  //   \"timestamp\": 1568715470000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9124277,\r\n  //   \"lng\": 27.5144187,\r\n  //   \"timestamp\": 1568715471000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9123836,\r\n  //   \"lng\": 27.5143022,\r\n  //   \"timestamp\": 1568715472000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9123663,\r\n  //   \"lng\": 27.5142356,\r\n  //   \"timestamp\": 1568715473000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9123507,\r\n  //   \"lng\": 27.5141658,\r\n  //   \"timestamp\": 1568715474000\r\n  // },\r\n  // {\r\n  //   \"lat\": 53.9123367,\r\n  //   \"lng\": 27.5140925,\r\n  //   \"timestamp\": 1568715475000\r\n  // },\r\n  {\r\n    \"lat\": 53.9123223,\r\n    \"lng\": 27.5140232,\r\n    \"timestamp\": 1568715476000\r\n  },\r\n  {\r\n    \"lat\": 53.9123211,\r\n    \"lng\": 27.5139341,\r\n    \"timestamp\": 1568715477000\r\n  },\r\n  {\r\n    \"lat\": 53.9123199,\r\n    \"lng\": 27.5138575,\r\n    \"timestamp\": 1568715478000\r\n  },\r\n  {\r\n    \"lat\": 53.9123049,\r\n    \"lng\": 27.5137873,\r\n    \"timestamp\": 1568715479000\r\n  },\r\n  {\r\n    \"lat\": 53.9122978,\r\n    \"lng\": 27.5137214,\r\n    \"timestamp\": 1568715480000\r\n  },\r\n  {\r\n    \"lat\": 53.9123002,\r\n    \"lng\": 27.5136472,\r\n    \"timestamp\": 1568715481000\r\n  },\r\n  {\r\n    \"lat\": 53.9123088,\r\n    \"lng\": 27.5135671,\r\n    \"timestamp\": 1568715482000\r\n  },\r\n  {\r\n    \"lat\": 53.912316,\r\n    \"lng\": 27.5134967,\r\n    \"timestamp\": 1568715483000\r\n  },\r\n  {\r\n    \"lat\": 53.9123251,\r\n    \"lng\": 27.513436,\r\n    \"timestamp\": 1568715484000\r\n  },\r\n  {\r\n    \"lat\": 53.9123315,\r\n    \"lng\": 27.5134045,\r\n    \"timestamp\": 1568715485000\r\n  },\r\n  {\r\n    \"lat\": 53.9123413,\r\n    \"lng\": 27.5133739,\r\n    \"timestamp\": 1568715486000\r\n  },\r\n  {\r\n    \"lat\": 53.912351,\r\n    \"lng\": 27.5133443,\r\n    \"timestamp\": 1568715487000\r\n  },\r\n  {\r\n    \"lat\": 53.9123567,\r\n    \"lng\": 27.5133221,\r\n    \"timestamp\": 1568715488000\r\n  },\r\n  {\r\n    \"lat\": 53.9123613,\r\n    \"lng\": 27.5133011,\r\n    \"timestamp\": 1568715489000\r\n  },\r\n  {\r\n    \"lat\": 53.9123603,\r\n    \"lng\": 27.5132813,\r\n    \"timestamp\": 1568715490000\r\n  },\r\n  {\r\n    \"lat\": 53.9123602,\r\n    \"lng\": 27.5132617,\r\n    \"timestamp\": 1568715491000\r\n  },\r\n  {\r\n    \"lat\": 53.9123619,\r\n    \"lng\": 27.5132429,\r\n    \"timestamp\": 1568715492000\r\n  },\r\n  {\r\n    \"lat\": 53.9123691,\r\n    \"lng\": 27.5132212,\r\n    \"timestamp\": 1568715493000\r\n  },\r\n  {\r\n    \"lat\": 53.9123646,\r\n    \"lng\": 27.5131964,\r\n    \"timestamp\": 1568715494000\r\n  },\r\n  {\r\n    \"lat\": 53.9123678,\r\n    \"lng\": 27.513162,\r\n    \"timestamp\": 1568715495000\r\n  },\r\n  {\r\n    \"lat\": 53.9123941,\r\n    \"lng\": 27.5130193,\r\n    \"timestamp\": 1568715496000\r\n  },\r\n  {\r\n    \"lat\": 53.9124116,\r\n    \"lng\": 27.5129161,\r\n    \"timestamp\": 1568715497000\r\n  },\r\n  {\r\n    \"lat\": 53.9124265,\r\n    \"lng\": 27.512829,\r\n    \"timestamp\": 1568715498000\r\n  },\r\n  {\r\n    \"lat\": 53.9124436,\r\n    \"lng\": 27.5127314,\r\n    \"timestamp\": 1568715499000\r\n  },\r\n  {\r\n    \"lat\": 53.9124482,\r\n    \"lng\": 27.5126313,\r\n    \"timestamp\": 1568715500000\r\n  },\r\n  {\r\n    \"lat\": 53.9124539,\r\n    \"lng\": 27.512511,\r\n    \"timestamp\": 1568715501000\r\n  },\r\n  {\r\n    \"lat\": 53.9124508,\r\n    \"lng\": 27.5123913,\r\n    \"timestamp\": 1568715502000\r\n  },\r\n  {\r\n    \"lat\": 53.9124691,\r\n    \"lng\": 27.5122775,\r\n    \"timestamp\": 1568715503000\r\n  },\r\n  {\r\n    \"lat\": 53.9125183,\r\n    \"lng\": 27.5121532,\r\n    \"timestamp\": 1568715504000\r\n  },\r\n  {\r\n    \"lat\": 53.912542,\r\n    \"lng\": 27.5120241,\r\n    \"timestamp\": 1568715505000\r\n  },\r\n  {\r\n    \"lat\": 53.9125559,\r\n    \"lng\": 27.5119099,\r\n    \"timestamp\": 1568715506000\r\n  },\r\n  {\r\n    \"lat\": 53.9125653,\r\n    \"lng\": 27.5118058,\r\n    \"timestamp\": 1568715507000\r\n  },\r\n  {\r\n    \"lat\": 53.9125773,\r\n    \"lng\": 27.5116804,\r\n    \"timestamp\": 1568715508000\r\n  },\r\n  {\r\n    \"lat\": 53.912592,\r\n    \"lng\": 27.5116109,\r\n    \"timestamp\": 1568715509000\r\n  },\r\n  {\r\n    \"lat\": 53.9125865,\r\n    \"lng\": 27.5115747,\r\n    \"timestamp\": 1568715510000\r\n  },\r\n  {\r\n    \"lat\": 53.9125827,\r\n    \"lng\": 27.5115401,\r\n    \"timestamp\": 1568715511000\r\n  },\r\n  {\r\n    \"lat\": 53.9125835,\r\n    \"lng\": 27.5115011,\r\n    \"timestamp\": 1568715512000\r\n  },\r\n  {\r\n    \"lat\": 53.9126042,\r\n    \"lng\": 27.511377,\r\n    \"timestamp\": 1568715513000\r\n  },\r\n  {\r\n    \"lat\": 53.9126162,\r\n    \"lng\": 27.5112736,\r\n    \"timestamp\": 1568715514000\r\n  },\r\n  {\r\n    \"lat\": 53.9126231,\r\n    \"lng\": 27.5111879,\r\n    \"timestamp\": 1568715515000\r\n  },\r\n  {\r\n    \"lat\": 53.9126274,\r\n    \"lng\": 27.5110686,\r\n    \"timestamp\": 1568715516000\r\n  },\r\n  {\r\n    \"lat\": 53.912639,\r\n    \"lng\": 27.5109944,\r\n    \"timestamp\": 1568715517000\r\n  },\r\n  {\r\n    \"lat\": 53.912651,\r\n    \"lng\": 27.5108786,\r\n    \"timestamp\": 1568715518000\r\n  },\r\n  {\r\n    \"lat\": 53.9126653,\r\n    \"lng\": 27.5107715,\r\n    \"timestamp\": 1568715519000\r\n  },\r\n  {\r\n    \"lat\": 53.9126877,\r\n    \"lng\": 27.5106367,\r\n    \"timestamp\": 1568715520000\r\n  },\r\n  {\r\n    \"lat\": 53.9127122,\r\n    \"lng\": 27.5105037,\r\n    \"timestamp\": 1568715521000\r\n  },\r\n  {\r\n    \"lat\": 53.9127355,\r\n    \"lng\": 27.5103792,\r\n    \"timestamp\": 1568715522000\r\n  },\r\n  {\r\n    \"lat\": 53.9127492,\r\n    \"lng\": 27.5102292,\r\n    \"timestamp\": 1568715523000\r\n  },\r\n  {\r\n    \"lat\": 53.9127498,\r\n    \"lng\": 27.5100587,\r\n    \"timestamp\": 1568715524000\r\n  },\r\n  {\r\n    \"lat\": 53.912773,\r\n    \"lng\": 27.5099124,\r\n    \"timestamp\": 1568715525000\r\n  },\r\n  {\r\n    \"lat\": 53.9127793,\r\n    \"lng\": 27.5097796,\r\n    \"timestamp\": 1568715526000\r\n  },\r\n  {\r\n    \"lat\": 53.9127917,\r\n    \"lng\": 27.509649,\r\n    \"timestamp\": 1568715527000\r\n  },\r\n  {\r\n    \"lat\": 53.9127965,\r\n    \"lng\": 27.509521,\r\n    \"timestamp\": 1568715528000\r\n  },\r\n  {\r\n    \"lat\": 53.9128105,\r\n    \"lng\": 27.5093899,\r\n    \"timestamp\": 1568715529000\r\n  },\r\n  {\r\n    \"lat\": 53.9128287,\r\n    \"lng\": 27.5092516,\r\n    \"timestamp\": 1568715530000\r\n  },\r\n  {\r\n    \"lat\": 53.9128456,\r\n    \"lng\": 27.5090998,\r\n    \"timestamp\": 1568715531000\r\n  },\r\n  {\r\n    \"lat\": 53.9128679,\r\n    \"lng\": 27.5089514,\r\n    \"timestamp\": 1568715532000\r\n  },\r\n  {\r\n    \"lat\": 53.9128787,\r\n    \"lng\": 27.5088316,\r\n    \"timestamp\": 1568715533000\r\n  },\r\n  {\r\n    \"lat\": 53.9128901,\r\n    \"lng\": 27.5087123,\r\n    \"timestamp\": 1568715534000\r\n  },\r\n  {\r\n    \"lat\": 53.9129001,\r\n    \"lng\": 27.5085945,\r\n    \"timestamp\": 1568715535000\r\n  },\r\n  {\r\n    \"lat\": 53.9129108,\r\n    \"lng\": 27.5084831,\r\n    \"timestamp\": 1568715536000\r\n  },\r\n  {\r\n    \"lat\": 53.9129268,\r\n    \"lng\": 27.5083576,\r\n    \"timestamp\": 1568715537000\r\n  },\r\n  {\r\n    \"lat\": 53.9129389,\r\n    \"lng\": 27.5082434,\r\n    \"timestamp\": 1568715538000\r\n  },\r\n  {\r\n    \"lat\": 53.9129387,\r\n    \"lng\": 27.5081341,\r\n    \"timestamp\": 1568715539000\r\n  },\r\n  {\r\n    \"lat\": 53.9129479,\r\n    \"lng\": 27.5080315,\r\n    \"timestamp\": 1568715540000\r\n  },\r\n  {\r\n    \"lat\": 53.9129575,\r\n    \"lng\": 27.5079307,\r\n    \"timestamp\": 1568715541000\r\n  },\r\n  {\r\n    \"lat\": 53.9129652,\r\n    \"lng\": 27.5078186,\r\n    \"timestamp\": 1568715542000\r\n  },\r\n  {\r\n    \"lat\": 53.9129843,\r\n    \"lng\": 27.5077271,\r\n    \"timestamp\": 1568715543000\r\n  },\r\n  {\r\n    \"lat\": 53.9129966,\r\n    \"lng\": 27.5076338,\r\n    \"timestamp\": 1568715544000\r\n  },\r\n  {\r\n    \"lat\": 53.9129959,\r\n    \"lng\": 27.5075463,\r\n    \"timestamp\": 1568715545000\r\n  },\r\n  {\r\n    \"lat\": 53.913002,\r\n    \"lng\": 27.5074602,\r\n    \"timestamp\": 1568715546000\r\n  },\r\n  {\r\n    \"lat\": 53.9130173,\r\n    \"lng\": 27.5073811,\r\n    \"timestamp\": 1568715547000\r\n  },\r\n  {\r\n    \"lat\": 53.9130383,\r\n    \"lng\": 27.5072937,\r\n    \"timestamp\": 1568715548000\r\n  },\r\n  {\r\n    \"lat\": 53.9130567,\r\n    \"lng\": 27.5072143,\r\n    \"timestamp\": 1568715549000\r\n  },\r\n  {\r\n    \"lat\": 53.913083,\r\n    \"lng\": 27.5071485,\r\n    \"timestamp\": 1568715550000\r\n  },\r\n  {\r\n    \"lat\": 53.913093,\r\n    \"lng\": 27.507087,\r\n    \"timestamp\": 1568715551000\r\n  },\r\n  {\r\n    \"lat\": 53.9130916,\r\n    \"lng\": 27.5070857,\r\n    \"timestamp\": 1568715552000\r\n  },\r\n  {\r\n    \"lat\": 53.9130899,\r\n    \"lng\": 27.5070858,\r\n    \"timestamp\": 1568715553000\r\n  },\r\n  {\r\n    \"lat\": 53.9130896,\r\n    \"lng\": 27.5070857,\r\n    \"timestamp\": 1568715554000\r\n  },\r\n  {\r\n    \"lat\": 53.9130897,\r\n    \"lng\": 27.5070857,\r\n    \"timestamp\": 1568715555000\r\n  },\r\n  {\r\n    \"lat\": 53.9130905,\r\n    \"lng\": 27.5070859,\r\n    \"timestamp\": 1568715556000\r\n  },\r\n  {\r\n    \"lat\": 53.9130909,\r\n    \"lng\": 27.5070867,\r\n    \"timestamp\": 1568715557000\r\n  },\r\n  {\r\n    \"lat\": 53.9130908,\r\n    \"lng\": 27.5070882,\r\n    \"timestamp\": 1568715558000\r\n  },\r\n  {\r\n    \"lat\": 53.9130905,\r\n    \"lng\": 27.5070896,\r\n    \"timestamp\": 1568715559000\r\n  },\r\n  {\r\n    \"lat\": 53.9130899,\r\n    \"lng\": 27.5070911,\r\n    \"timestamp\": 1568715560000\r\n  },\r\n  {\r\n    \"lat\": 53.913089,\r\n    \"lng\": 27.5070925,\r\n    \"timestamp\": 1568715561000\r\n  },\r\n  {\r\n    \"lat\": 53.913088,\r\n    \"lng\": 27.5070936,\r\n    \"timestamp\": 1568715562000\r\n  },\r\n  {\r\n    \"lat\": 53.9130872,\r\n    \"lng\": 27.5070945,\r\n    \"timestamp\": 1568715563000\r\n  },\r\n  {\r\n    \"lat\": 53.9130871,\r\n    \"lng\": 27.5070893,\r\n    \"timestamp\": 1568715564000\r\n  },\r\n  {\r\n    \"lat\": 53.9130885,\r\n    \"lng\": 27.5070752,\r\n    \"timestamp\": 1568715565000\r\n  },\r\n  {\r\n    \"lat\": 53.9130929,\r\n    \"lng\": 27.5070381,\r\n    \"timestamp\": 1568715566000\r\n  },\r\n  {\r\n    \"lat\": 53.9130976,\r\n    \"lng\": 27.5069853,\r\n    \"timestamp\": 1568715567000\r\n  },\r\n  {\r\n    \"lat\": 53.9131116,\r\n    \"lng\": 27.5068317,\r\n    \"timestamp\": 1568715568000\r\n  },\r\n  {\r\n    \"lat\": 53.913119,\r\n    \"lng\": 27.5067697,\r\n    \"timestamp\": 1568715569000\r\n  },\r\n  {\r\n    \"lat\": 53.9131235,\r\n    \"lng\": 27.5067421,\r\n    \"timestamp\": 1568715570000\r\n  },\r\n  {\r\n    \"lat\": 53.9131284,\r\n    \"lng\": 27.5067122,\r\n    \"timestamp\": 1568715571000\r\n  },\r\n  {\r\n    \"lat\": 53.9131359,\r\n    \"lng\": 27.5066804,\r\n    \"timestamp\": 1568715572000\r\n  },\r\n  {\r\n    \"lat\": 53.9131434,\r\n    \"lng\": 27.506647,\r\n    \"timestamp\": 1568715573000\r\n  },\r\n  {\r\n    \"lat\": 53.9132027,\r\n    \"lng\": 27.5065582,\r\n    \"timestamp\": 1568715574000\r\n  },\r\n  {\r\n    \"lat\": 53.9132613,\r\n    \"lng\": 27.5065371,\r\n    \"timestamp\": 1568715575000\r\n  },\r\n  {\r\n    \"lat\": 53.9133156,\r\n    \"lng\": 27.5065274,\r\n    \"timestamp\": 1568715576000\r\n  },\r\n  {\r\n    \"lat\": 53.9133777,\r\n    \"lng\": 27.5065052,\r\n    \"timestamp\": 1568715577000\r\n  },\r\n  {\r\n    \"lat\": 53.9134362,\r\n    \"lng\": 27.5064756,\r\n    \"timestamp\": 1568715578000\r\n  },\r\n  {\r\n    \"lat\": 53.9135063,\r\n    \"lng\": 27.5064316,\r\n    \"timestamp\": 1568715579000\r\n  },\r\n  {\r\n    \"lat\": 53.913574,\r\n    \"lng\": 27.5063642,\r\n    \"timestamp\": 1568715580000\r\n  },\r\n  {\r\n    \"lat\": 53.9136442,\r\n    \"lng\": 27.5062901,\r\n    \"timestamp\": 1568715581000\r\n  },\r\n  {\r\n    \"lat\": 53.9137168,\r\n    \"lng\": 27.5062064,\r\n    \"timestamp\": 1568715582000\r\n  },\r\n  {\r\n    \"lat\": 53.9137891,\r\n    \"lng\": 27.5061211,\r\n    \"timestamp\": 1568715583000\r\n  },\r\n  {\r\n    \"lat\": 53.9138637,\r\n    \"lng\": 27.506029,\r\n    \"timestamp\": 1568715584000\r\n  },\r\n  {\r\n    \"lat\": 53.91394,\r\n    \"lng\": 27.5059386,\r\n    \"timestamp\": 1568715585000\r\n  },\r\n  {\r\n    \"lat\": 53.9140164,\r\n    \"lng\": 27.5058487,\r\n    \"timestamp\": 1568715586000\r\n  },\r\n  {\r\n    \"lat\": 53.9140917,\r\n    \"lng\": 27.5057541,\r\n    \"timestamp\": 1568715587000\r\n  },\r\n  {\r\n    \"lat\": 53.9141717,\r\n    \"lng\": 27.5056567,\r\n    \"timestamp\": 1568715588000\r\n  },\r\n  {\r\n    \"lat\": 53.9142558,\r\n    \"lng\": 27.5055521,\r\n    \"timestamp\": 1568715589000\r\n  },\r\n  {\r\n    \"lat\": 53.9143377,\r\n    \"lng\": 27.5054491,\r\n    \"timestamp\": 1568715590000\r\n  },\r\n  {\r\n    \"lat\": 53.9144238,\r\n    \"lng\": 27.5053439,\r\n    \"timestamp\": 1568715591000\r\n  },\r\n  {\r\n    \"lat\": 53.9145105,\r\n    \"lng\": 27.5052433,\r\n    \"timestamp\": 1568715592000\r\n  },\r\n  {\r\n    \"lat\": 53.9145971,\r\n    \"lng\": 27.5051469,\r\n    \"timestamp\": 1568715593000\r\n  },\r\n  {\r\n    \"lat\": 53.9146804,\r\n    \"lng\": 27.5050504,\r\n    \"timestamp\": 1568715594000\r\n  },\r\n  {\r\n    \"lat\": 53.9147642,\r\n    \"lng\": 27.5049565,\r\n    \"timestamp\": 1568715595000\r\n  },\r\n  {\r\n    \"lat\": 53.914848,\r\n    \"lng\": 27.5048529,\r\n    \"timestamp\": 1568715596000\r\n  },\r\n  {\r\n    \"lat\": 53.9149301,\r\n    \"lng\": 27.5047492,\r\n    \"timestamp\": 1568715597000\r\n  },\r\n  {\r\n    \"lat\": 53.9150182,\r\n    \"lng\": 27.5046491,\r\n    \"timestamp\": 1568715598000\r\n  },\r\n  {\r\n    \"lat\": 53.9151043,\r\n    \"lng\": 27.5045459,\r\n    \"timestamp\": 1568715599000\r\n  },\r\n  {\r\n    \"lat\": 53.9151872,\r\n    \"lng\": 27.5044467,\r\n    \"timestamp\": 1568715600000\r\n  },\r\n  {\r\n    \"lat\": 53.9152618,\r\n    \"lng\": 27.5043626,\r\n    \"timestamp\": 1568715601000\r\n  },\r\n  {\r\n    \"lat\": 53.9153219,\r\n    \"lng\": 27.5042937,\r\n    \"timestamp\": 1568715602000\r\n  },\r\n  {\r\n    \"lat\": 53.9153761,\r\n    \"lng\": 27.5042289,\r\n    \"timestamp\": 1568715603000\r\n  },\r\n  {\r\n    \"lat\": 53.9154134,\r\n    \"lng\": 27.5041847,\r\n    \"timestamp\": 1568715604000\r\n  },\r\n  {\r\n    \"lat\": 53.9154339,\r\n    \"lng\": 27.5041479,\r\n    \"timestamp\": 1568715605000\r\n  },\r\n  {\r\n    \"lat\": 53.9154778,\r\n    \"lng\": 27.504104,\r\n    \"timestamp\": 1568715606000\r\n  },\r\n  {\r\n    \"lat\": 53.9155251,\r\n    \"lng\": 27.5040491,\r\n    \"timestamp\": 1568715607000\r\n  },\r\n  {\r\n    \"lat\": 53.9155767,\r\n    \"lng\": 27.503992,\r\n    \"timestamp\": 1568715608000\r\n  },\r\n  {\r\n    \"lat\": 53.9156372,\r\n    \"lng\": 27.5039149,\r\n    \"timestamp\": 1568715609000\r\n  },\r\n  {\r\n    \"lat\": 53.9157054,\r\n    \"lng\": 27.5038348,\r\n    \"timestamp\": 1568715610000\r\n  },\r\n  {\r\n    \"lat\": 53.9157837,\r\n    \"lng\": 27.5037342,\r\n    \"timestamp\": 1568715611000\r\n  },\r\n  {\r\n    \"lat\": 53.9158705,\r\n    \"lng\": 27.5036251,\r\n    \"timestamp\": 1568715612000\r\n  },\r\n  {\r\n    \"lat\": 53.9159711,\r\n    \"lng\": 27.5035094,\r\n    \"timestamp\": 1568715613000\r\n  },\r\n  {\r\n    \"lat\": 53.916064,\r\n    \"lng\": 27.5033928,\r\n    \"timestamp\": 1568715614000\r\n  },\r\n  {\r\n    \"lat\": 53.9161542,\r\n    \"lng\": 27.5032777,\r\n    \"timestamp\": 1568715615000\r\n  },\r\n  {\r\n    \"lat\": 53.9162539,\r\n    \"lng\": 27.5031717,\r\n    \"timestamp\": 1568715616000\r\n  },\r\n  {\r\n    \"lat\": 53.9163491,\r\n    \"lng\": 27.5030506,\r\n    \"timestamp\": 1568715617000\r\n  },\r\n  {\r\n    \"lat\": 53.9164396,\r\n    \"lng\": 27.5029424,\r\n    \"timestamp\": 1568715618000\r\n  },\r\n  {\r\n    \"lat\": 53.9165305,\r\n    \"lng\": 27.5028333,\r\n    \"timestamp\": 1568715619000\r\n  },\r\n  {\r\n    \"lat\": 53.9166238,\r\n    \"lng\": 27.5027261,\r\n    \"timestamp\": 1568715620000\r\n  },\r\n  {\r\n    \"lat\": 53.9167266,\r\n    \"lng\": 27.5026161,\r\n    \"timestamp\": 1568715621000\r\n  },\r\n  {\r\n    \"lat\": 53.9168225,\r\n    \"lng\": 27.5025087,\r\n    \"timestamp\": 1568715622000\r\n  },\r\n  {\r\n    \"lat\": 53.9169234,\r\n    \"lng\": 27.5023963,\r\n    \"timestamp\": 1568715623000\r\n  },\r\n  {\r\n    \"lat\": 53.9170086,\r\n    \"lng\": 27.5022913,\r\n    \"timestamp\": 1568715624000\r\n  },\r\n  {\r\n    \"lat\": 53.9170898,\r\n    \"lng\": 27.5021755,\r\n    \"timestamp\": 1568715625000\r\n  },\r\n  {\r\n    \"lat\": 53.9171876,\r\n    \"lng\": 27.5020552,\r\n    \"timestamp\": 1568715626000\r\n  },\r\n  {\r\n    \"lat\": 53.9172753,\r\n    \"lng\": 27.50195,\r\n    \"timestamp\": 1568715627000\r\n  },\r\n  {\r\n    \"lat\": 53.91735,\r\n    \"lng\": 27.5018546,\r\n    \"timestamp\": 1568715628000\r\n  },\r\n  {\r\n    \"lat\": 53.9174216,\r\n    \"lng\": 27.5017632,\r\n    \"timestamp\": 1568715629000\r\n  },\r\n  {\r\n    \"lat\": 53.917502,\r\n    \"lng\": 27.5016664,\r\n    \"timestamp\": 1568715630000\r\n  },\r\n  {\r\n    \"lat\": 53.9175737,\r\n    \"lng\": 27.5015765,\r\n    \"timestamp\": 1568715631000\r\n  },\r\n  {\r\n    \"lat\": 53.9176488,\r\n    \"lng\": 27.5014816,\r\n    \"timestamp\": 1568715632000\r\n  },\r\n  {\r\n    \"lat\": 53.917723,\r\n    \"lng\": 27.5013942,\r\n    \"timestamp\": 1568715633000\r\n  },\r\n  {\r\n    \"lat\": 53.9177973,\r\n    \"lng\": 27.5013075,\r\n    \"timestamp\": 1568715634000\r\n  },\r\n  {\r\n    \"lat\": 53.917884,\r\n    \"lng\": 27.501201,\r\n    \"timestamp\": 1568715635000\r\n  },\r\n  {\r\n    \"lat\": 53.9179742,\r\n    \"lng\": 27.5010938,\r\n    \"timestamp\": 1568715636000\r\n  },\r\n  {\r\n    \"lat\": 53.9180548,\r\n    \"lng\": 27.5009907,\r\n    \"timestamp\": 1568715637000\r\n  },\r\n  {\r\n    \"lat\": 53.9181365,\r\n    \"lng\": 27.5008813,\r\n    \"timestamp\": 1568715638000\r\n  },\r\n  {\r\n    \"lat\": 53.9182219,\r\n    \"lng\": 27.5007734,\r\n    \"timestamp\": 1568715639000\r\n  },\r\n  {\r\n    \"lat\": 53.9183066,\r\n    \"lng\": 27.5006668,\r\n    \"timestamp\": 1568715640000\r\n  },\r\n  {\r\n    \"lat\": 53.9183914,\r\n    \"lng\": 27.5005641,\r\n    \"timestamp\": 1568715641000\r\n  },\r\n  {\r\n    \"lat\": 53.9184802,\r\n    \"lng\": 27.5004548,\r\n    \"timestamp\": 1568715642000\r\n  },\r\n  {\r\n    \"lat\": 53.9185667,\r\n    \"lng\": 27.5003508,\r\n    \"timestamp\": 1568715643000\r\n  },\r\n  {\r\n    \"lat\": 53.9186554,\r\n    \"lng\": 27.5002338,\r\n    \"timestamp\": 1568715644000\r\n  },\r\n  {\r\n    \"lat\": 53.9187493,\r\n    \"lng\": 27.5001095,\r\n    \"timestamp\": 1568715645000\r\n  },\r\n  {\r\n    \"lat\": 53.9188462,\r\n    \"lng\": 27.5000039,\r\n    \"timestamp\": 1568715646000\r\n  },\r\n  {\r\n    \"lat\": 53.9189409,\r\n    \"lng\": 27.4998885,\r\n    \"timestamp\": 1568715647000\r\n  },\r\n  {\r\n    \"lat\": 53.9190342,\r\n    \"lng\": 27.4997759,\r\n    \"timestamp\": 1568715648000\r\n  },\r\n  {\r\n    \"lat\": 53.9191312,\r\n    \"lng\": 27.4996647,\r\n    \"timestamp\": 1568715649000\r\n  },\r\n  {\r\n    \"lat\": 53.9192134,\r\n    \"lng\": 27.4995483,\r\n    \"timestamp\": 1568715650000\r\n  },\r\n  {\r\n    \"lat\": 53.9193034,\r\n    \"lng\": 27.4994397,\r\n    \"timestamp\": 1568715651000\r\n  },\r\n  {\r\n    \"lat\": 53.9193974,\r\n    \"lng\": 27.4993567,\r\n    \"timestamp\": 1568715652000\r\n  },\r\n  {\r\n    \"lat\": 53.9194996,\r\n    \"lng\": 27.4992646,\r\n    \"timestamp\": 1568715653000\r\n  },\r\n  {\r\n    \"lat\": 53.919596,\r\n    \"lng\": 27.499164,\r\n    \"timestamp\": 1568715654000\r\n  },\r\n  {\r\n    \"lat\": 53.9196972,\r\n    \"lng\": 27.4990662,\r\n    \"timestamp\": 1568715655000\r\n  },\r\n  {\r\n    \"lat\": 53.9197889,\r\n    \"lng\": 27.4989686,\r\n    \"timestamp\": 1568715656000\r\n  },\r\n  {\r\n    \"lat\": 53.9198834,\r\n    \"lng\": 27.4988807,\r\n    \"timestamp\": 1568715657000\r\n  },\r\n  {\r\n    \"lat\": 53.919957,\r\n    \"lng\": 27.4987997,\r\n    \"timestamp\": 1568715658000\r\n  },\r\n  {\r\n    \"lat\": 53.9200142,\r\n    \"lng\": 27.4987315,\r\n    \"timestamp\": 1568715659000\r\n  },\r\n  {\r\n    \"lat\": 53.9200677,\r\n    \"lng\": 27.4987091,\r\n    \"timestamp\": 1568715660000\r\n  },\r\n  {\r\n    \"lat\": 53.920111,\r\n    \"lng\": 27.4987194,\r\n    \"timestamp\": 1568715661000\r\n  },\r\n  {\r\n    \"lat\": 53.920142,\r\n    \"lng\": 27.4987593,\r\n    \"timestamp\": 1568715662000\r\n  },\r\n  {\r\n    \"lat\": 53.9201927,\r\n    \"lng\": 27.4988212,\r\n    \"timestamp\": 1568715663000\r\n  },\r\n  {\r\n    \"lat\": 53.9202588,\r\n    \"lng\": 27.4988839,\r\n    \"timestamp\": 1568715664000\r\n  },\r\n  {\r\n    \"lat\": 53.9203183,\r\n    \"lng\": 27.498953,\r\n    \"timestamp\": 1568715665000\r\n  },\r\n  {\r\n    \"lat\": 53.9203823,\r\n    \"lng\": 27.4990269,\r\n    \"timestamp\": 1568715666000\r\n  },\r\n  {\r\n    \"lat\": 53.9204308,\r\n    \"lng\": 27.4990869,\r\n    \"timestamp\": 1568715667000\r\n  },\r\n  {\r\n    \"lat\": 53.9204797,\r\n    \"lng\": 27.4991507,\r\n    \"timestamp\": 1568715668000\r\n  },\r\n  {\r\n    \"lat\": 53.9205223,\r\n    \"lng\": 27.4992008,\r\n    \"timestamp\": 1568715669000\r\n  },\r\n  {\r\n    \"lat\": 53.9205368,\r\n    \"lng\": 27.499224,\r\n    \"timestamp\": 1568715670000\r\n  },\r\n  {\r\n    \"lat\": 53.9205552,\r\n    \"lng\": 27.4992449,\r\n    \"timestamp\": 1568715671000\r\n  },\r\n  {\r\n    \"lat\": 53.9205607,\r\n    \"lng\": 27.4992567,\r\n    \"timestamp\": 1568715672000\r\n  },\r\n  {\r\n    \"lat\": 53.9205632,\r\n    \"lng\": 27.4992657,\r\n    \"timestamp\": 1568715673000\r\n  },\r\n  {\r\n    \"lat\": 53.9205637,\r\n    \"lng\": 27.4992708,\r\n    \"timestamp\": 1568715674000\r\n  },\r\n  {\r\n    \"lat\": 53.9205632,\r\n    \"lng\": 27.4992794,\r\n    \"timestamp\": 1568715675000\r\n  },\r\n  {\r\n    \"lat\": 53.9205631,\r\n    \"lng\": 27.4992871,\r\n    \"timestamp\": 1568715676000\r\n  },\r\n  {\r\n    \"lat\": 53.9205618,\r\n    \"lng\": 27.4992936,\r\n    \"timestamp\": 1568715677000\r\n  },\r\n  {\r\n    \"lat\": 53.9205609,\r\n    \"lng\": 27.4993018,\r\n    \"timestamp\": 1568715678000\r\n  },\r\n  {\r\n    \"lat\": 53.9205616,\r\n    \"lng\": 27.4993099,\r\n    \"timestamp\": 1568715679000\r\n  },\r\n  {\r\n    \"lat\": 53.9205591,\r\n    \"lng\": 27.499318,\r\n    \"timestamp\": 1568715680000\r\n  },\r\n  {\r\n    \"lat\": 53.9205574,\r\n    \"lng\": 27.4993274,\r\n    \"timestamp\": 1568715681000\r\n  },\r\n  {\r\n    \"lat\": 53.9205547,\r\n    \"lng\": 27.4993365,\r\n    \"timestamp\": 1568715682000\r\n  },\r\n  {\r\n    \"lat\": 53.920553,\r\n    \"lng\": 27.4993457,\r\n    \"timestamp\": 1568715683000\r\n  },\r\n  {\r\n    \"lat\": 53.9205521,\r\n    \"lng\": 27.4993544,\r\n    \"timestamp\": 1568715684000\r\n  },\r\n  {\r\n    \"lat\": 53.9205499,\r\n    \"lng\": 27.4993593,\r\n    \"timestamp\": 1568715685000\r\n  },\r\n  {\r\n    \"lat\": 53.9205486,\r\n    \"lng\": 27.4993646,\r\n    \"timestamp\": 1568715686000\r\n  },\r\n  {\r\n    \"lat\": 53.9205471,\r\n    \"lng\": 27.4993684,\r\n    \"timestamp\": 1568715687000\r\n  },\r\n  {\r\n    \"lat\": 53.9205446,\r\n    \"lng\": 27.4993719,\r\n    \"timestamp\": 1568715688000\r\n  },\r\n  {\r\n    \"lat\": 53.9205456,\r\n    \"lng\": 27.4993792,\r\n    \"timestamp\": 1568715689000\r\n  },\r\n  {\r\n    \"lat\": 53.9205862,\r\n    \"lng\": 27.4994442,\r\n    \"timestamp\": 1568715690000\r\n  },\r\n  {\r\n    \"lat\": 53.9206247,\r\n    \"lng\": 27.4994938,\r\n    \"timestamp\": 1568715691000\r\n  },\r\n  {\r\n    \"lat\": 53.9206958,\r\n    \"lng\": 27.499581,\r\n    \"timestamp\": 1568715692000\r\n  },\r\n  {\r\n    \"lat\": 53.9207588,\r\n    \"lng\": 27.4996555,\r\n    \"timestamp\": 1568715693000\r\n  },\r\n  {\r\n    \"lat\": 53.9208283,\r\n    \"lng\": 27.4997206,\r\n    \"timestamp\": 1568715694000\r\n  },\r\n  {\r\n    \"lat\": 53.9209169,\r\n    \"lng\": 27.4998028,\r\n    \"timestamp\": 1568715695000\r\n  },\r\n  {\r\n    \"lat\": 53.9210127,\r\n    \"lng\": 27.4998985,\r\n    \"timestamp\": 1568715696000\r\n  },\r\n  {\r\n    \"lat\": 53.9211086,\r\n    \"lng\": 27.5000164,\r\n    \"timestamp\": 1568715697000\r\n  },\r\n  {\r\n    \"lat\": 53.9212179,\r\n    \"lng\": 27.5001504,\r\n    \"timestamp\": 1568715698000\r\n  },\r\n  {\r\n    \"lat\": 53.9213274,\r\n    \"lng\": 27.5002827,\r\n    \"timestamp\": 1568715699000\r\n  },\r\n  {\r\n    \"lat\": 53.9214611,\r\n    \"lng\": 27.5004283,\r\n    \"timestamp\": 1568715700000\r\n  },\r\n  {\r\n    \"lat\": 53.921587,\r\n    \"lng\": 27.5005576,\r\n    \"timestamp\": 1568715701000\r\n  },\r\n  {\r\n    \"lat\": 53.9217232,\r\n    \"lng\": 27.5007037,\r\n    \"timestamp\": 1568715702000\r\n  },\r\n  {\r\n    \"lat\": 53.9218674,\r\n    \"lng\": 27.5008557,\r\n    \"timestamp\": 1568715703000\r\n  },\r\n  {\r\n    \"lat\": 53.9220032,\r\n    \"lng\": 27.5009885,\r\n    \"timestamp\": 1568715704000\r\n  },\r\n  {\r\n    \"lat\": 53.9221427,\r\n    \"lng\": 27.5011446,\r\n    \"timestamp\": 1568715705000\r\n  },\r\n  {\r\n    \"lat\": 53.9222775,\r\n    \"lng\": 27.5013102,\r\n    \"timestamp\": 1568715706000\r\n  },\r\n  {\r\n    \"lat\": 53.9224117,\r\n    \"lng\": 27.5014719,\r\n    \"timestamp\": 1568715707000\r\n  },\r\n  {\r\n    \"lat\": 53.9225472,\r\n    \"lng\": 27.5016296,\r\n    \"timestamp\": 1568715708000\r\n  },\r\n  {\r\n    \"lat\": 53.9226845,\r\n    \"lng\": 27.5017878,\r\n    \"timestamp\": 1568715709000\r\n  },\r\n  {\r\n    \"lat\": 53.92282,\r\n    \"lng\": 27.5019671,\r\n    \"timestamp\": 1568715710000\r\n  },\r\n  {\r\n    \"lat\": 53.9229527,\r\n    \"lng\": 27.5021142,\r\n    \"timestamp\": 1568715711000\r\n  },\r\n  {\r\n    \"lat\": 53.9230823,\r\n    \"lng\": 27.5022681,\r\n    \"timestamp\": 1568715712000\r\n  },\r\n  {\r\n    \"lat\": 53.923222,\r\n    \"lng\": 27.5024286,\r\n    \"timestamp\": 1568715713000\r\n  },\r\n  {\r\n    \"lat\": 53.9233544,\r\n    \"lng\": 27.5025815,\r\n    \"timestamp\": 1568715714000\r\n  },\r\n  {\r\n    \"lat\": 53.9234796,\r\n    \"lng\": 27.5027395,\r\n    \"timestamp\": 1568715715000\r\n  },\r\n  {\r\n    \"lat\": 53.9236087,\r\n    \"lng\": 27.5028882,\r\n    \"timestamp\": 1568715716000\r\n  },\r\n  {\r\n    \"lat\": 53.9237362,\r\n    \"lng\": 27.5030528,\r\n    \"timestamp\": 1568715717000\r\n  },\r\n  {\r\n    \"lat\": 53.9238731,\r\n    \"lng\": 27.5031918,\r\n    \"timestamp\": 1568715718000\r\n  },\r\n  {\r\n    \"lat\": 53.9240074,\r\n    \"lng\": 27.5033591,\r\n    \"timestamp\": 1568715719000\r\n  },\r\n  {\r\n    \"lat\": 53.9241339,\r\n    \"lng\": 27.5035306,\r\n    \"timestamp\": 1568715720000\r\n  },\r\n  {\r\n    \"lat\": 53.9242651,\r\n    \"lng\": 27.5037,\r\n    \"timestamp\": 1568715721000\r\n  },\r\n  {\r\n    \"lat\": 53.9243942,\r\n    \"lng\": 27.5038568,\r\n    \"timestamp\": 1568715722000\r\n  },\r\n  {\r\n    \"lat\": 53.9245365,\r\n    \"lng\": 27.5040031,\r\n    \"timestamp\": 1568715723000\r\n  },\r\n  {\r\n    \"lat\": 53.9246725,\r\n    \"lng\": 27.5041519,\r\n    \"timestamp\": 1568715724000\r\n  },\r\n  {\r\n    \"lat\": 53.9248046,\r\n    \"lng\": 27.5043166,\r\n    \"timestamp\": 1568715725000\r\n  },\r\n  {\r\n    \"lat\": 53.92494,\r\n    \"lng\": 27.5044686,\r\n    \"timestamp\": 1568715726000\r\n  },\r\n  {\r\n    \"lat\": 53.9250739,\r\n    \"lng\": 27.5046155,\r\n    \"timestamp\": 1568715727000\r\n  },\r\n  {\r\n    \"lat\": 53.9252069,\r\n    \"lng\": 27.504777,\r\n    \"timestamp\": 1568715728000\r\n  },\r\n  {\r\n    \"lat\": 53.9253395,\r\n    \"lng\": 27.5049331,\r\n    \"timestamp\": 1568715729000\r\n  },\r\n  {\r\n    \"lat\": 53.9254821,\r\n    \"lng\": 27.5050815,\r\n    \"timestamp\": 1568715730000\r\n  },\r\n  {\r\n    \"lat\": 53.9256201,\r\n    \"lng\": 27.5052384,\r\n    \"timestamp\": 1568715731000\r\n  },\r\n  {\r\n    \"lat\": 53.9257613,\r\n    \"lng\": 27.5053854,\r\n    \"timestamp\": 1568715732000\r\n  },\r\n  {\r\n    \"lat\": 53.9258997,\r\n    \"lng\": 27.5055485,\r\n    \"timestamp\": 1568715733000\r\n  },\r\n  {\r\n    \"lat\": 53.9260329,\r\n    \"lng\": 27.5057194,\r\n    \"timestamp\": 1568715734000\r\n  },\r\n  {\r\n    \"lat\": 53.9261646,\r\n    \"lng\": 27.5058808,\r\n    \"timestamp\": 1568715735000\r\n  },\r\n  {\r\n    \"lat\": 53.9263097,\r\n    \"lng\": 27.5060619,\r\n    \"timestamp\": 1568715736000\r\n  },\r\n  {\r\n    \"lat\": 53.9264431,\r\n    \"lng\": 27.506223,\r\n    \"timestamp\": 1568715737000\r\n  },\r\n  {\r\n    \"lat\": 53.9265662,\r\n    \"lng\": 27.5063861,\r\n    \"timestamp\": 1568715738000\r\n  },\r\n  {\r\n    \"lat\": 53.9266942,\r\n    \"lng\": 27.5065485,\r\n    \"timestamp\": 1568715739000\r\n  },\r\n  {\r\n    \"lat\": 53.9268158,\r\n    \"lng\": 27.5066978,\r\n    \"timestamp\": 1568715740000\r\n  },\r\n  {\r\n    \"lat\": 53.9269398,\r\n    \"lng\": 27.5068526,\r\n    \"timestamp\": 1568715741000\r\n  },\r\n  {\r\n    \"lat\": 53.9270555,\r\n    \"lng\": 27.5069699,\r\n    \"timestamp\": 1568715742000\r\n  },\r\n  {\r\n    \"lat\": 53.9271693,\r\n    \"lng\": 27.5071188,\r\n    \"timestamp\": 1568715743000\r\n  },\r\n  {\r\n    \"lat\": 53.9272731,\r\n    \"lng\": 27.5072443,\r\n    \"timestamp\": 1568715744000\r\n  },\r\n  {\r\n    \"lat\": 53.9273817,\r\n    \"lng\": 27.5073929,\r\n    \"timestamp\": 1568715745000\r\n  },\r\n  {\r\n    \"lat\": 53.9274866,\r\n    \"lng\": 27.5075404,\r\n    \"timestamp\": 1568715746000\r\n  },\r\n  {\r\n    \"lat\": 53.9275809,\r\n    \"lng\": 27.5076848,\r\n    \"timestamp\": 1568715747000\r\n  },\r\n  {\r\n    \"lat\": 53.9276723,\r\n    \"lng\": 27.507825,\r\n    \"timestamp\": 1568715748000\r\n  },\r\n  {\r\n    \"lat\": 53.9277477,\r\n    \"lng\": 27.5079589,\r\n    \"timestamp\": 1568715749000\r\n  },\r\n  {\r\n    \"lat\": 53.9278272,\r\n    \"lng\": 27.5080861,\r\n    \"timestamp\": 1568715750000\r\n  },\r\n  {\r\n    \"lat\": 53.9279113,\r\n    \"lng\": 27.5082217,\r\n    \"timestamp\": 1568715751000\r\n  },\r\n  {\r\n    \"lat\": 53.9279962,\r\n    \"lng\": 27.5083721,\r\n    \"timestamp\": 1568715752000\r\n  },\r\n  {\r\n    \"lat\": 53.9280865,\r\n    \"lng\": 27.5085644,\r\n    \"timestamp\": 1568715753000\r\n  },\r\n  {\r\n    \"lat\": 53.92818,\r\n    \"lng\": 27.5087646,\r\n    \"timestamp\": 1568715754000\r\n  },\r\n  {\r\n    \"lat\": 53.9282795,\r\n    \"lng\": 27.50899,\r\n    \"timestamp\": 1568715755000\r\n  },\r\n  {\r\n    \"lat\": 53.9283636,\r\n    \"lng\": 27.5092358,\r\n    \"timestamp\": 1568715756000\r\n  },\r\n  {\r\n    \"lat\": 53.9284347,\r\n    \"lng\": 27.5094944,\r\n    \"timestamp\": 1568715757000\r\n  },\r\n  {\r\n    \"lat\": 53.9285046,\r\n    \"lng\": 27.509749,\r\n    \"timestamp\": 1568715758000\r\n  },\r\n  {\r\n    \"lat\": 53.9285728,\r\n    \"lng\": 27.5100076,\r\n    \"timestamp\": 1568715759000\r\n  },\r\n  {\r\n    \"lat\": 53.9286385,\r\n    \"lng\": 27.51026,\r\n    \"timestamp\": 1568715760000\r\n  },\r\n  {\r\n    \"lat\": 53.9286958,\r\n    \"lng\": 27.5104925,\r\n    \"timestamp\": 1568715761000\r\n  },\r\n  {\r\n    \"lat\": 53.9287511,\r\n    \"lng\": 27.5107135,\r\n    \"timestamp\": 1568715762000\r\n  },\r\n  {\r\n    \"lat\": 53.9287936,\r\n    \"lng\": 27.5109266,\r\n    \"timestamp\": 1568715763000\r\n  },\r\n  {\r\n    \"lat\": 53.9288213,\r\n    \"lng\": 27.5111264,\r\n    \"timestamp\": 1568715764000\r\n  },\r\n  {\r\n    \"lat\": 53.9288212,\r\n    \"lng\": 27.5113076,\r\n    \"timestamp\": 1568715765000\r\n  },\r\n  {\r\n    \"lat\": 53.9288024,\r\n    \"lng\": 27.5114804,\r\n    \"timestamp\": 1568715766000\r\n  },\r\n  {\r\n    \"lat\": 53.9287767,\r\n    \"lng\": 27.5116495,\r\n    \"timestamp\": 1568715767000\r\n  },\r\n  {\r\n    \"lat\": 53.9287384,\r\n    \"lng\": 27.5118092,\r\n    \"timestamp\": 1568715768000\r\n  },\r\n  {\r\n    \"lat\": 53.9286981,\r\n    \"lng\": 27.5120161,\r\n    \"timestamp\": 1568715769000\r\n  },\r\n  {\r\n    \"lat\": 53.9286668,\r\n    \"lng\": 27.512233,\r\n    \"timestamp\": 1568715770000\r\n  }\r\n  ]\r\n};\r\n\r\nlet moveTimers = [];\r\nlet bumpsTimers = [];\r\nlet bumpsTimer;\r\n\r\nexport function fakeCarMove(callback) {\r\n  let starttime = data.path[1].timestamp;\r\n\r\n  for(var i = 1; i < data.path.length; i++) {\r\n    ((index) => {\r\n      let location = {\r\n        coords: {\r\n          latitude: data.path[index].lat,\r\n          longitude: data.path[index].lng\r\n        },\r\n        timestamp: data.path[index].timestamp\r\n      }\r\n      moveTimers[index] = setTimeout(() => callback(location), (data.path[index].timestamp - starttime)/3);\r\n    })(i);\r\n  }\r\n}\r\n\r\nexport function fakeBumps(callback) {\r\n  let starttime = data.path[1].timestamp;\r\n\r\n  for(var i = 1; i < data.bumps.length; i++) {\r\n    ((index) => {\r\n      bumpsTimers[index] = setTimeout(() => callback(data.bumps[index]), (data.bumps[index].timestamp - starttime)/3);\r\n    })(i);\r\n  }\r\n}\r\n\r\nexport function fakeAcceleration(callback) {\r\n  bumpsTimer = setInterval(() => callback({\r\n        x: Math.random() * 6,\r\n        y: Math.random() * 6,\r\n        z: Math.random() * 6,\r\n      }), Math.random() * 1200 + 300);\r\n}\r\n\r\nexport function stopCarMoveSimulation() {\r\n  moveTimers.forEach(t => clearTimeout(t));\r\n}\r\n\r\nexport function stopBumpsSimulation() {\r\n  bumpsTimers.forEach(t => clearTimeout(t));\r\n}\r\n\r\nexport function stopAccelerationSimulation() {\r\n  clearTimeout(bumpsTimer);\r\n}","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firebase from \"firebase\";\r\n\r\nimport '../../styles/report-bumps.css';\r\nimport '../../styles/check-trip.css';\r\nimport '../../styles/shared.css';\r\n\r\nimport { db } from '../../helpers/firebase';\r\nimport { GoogleApiWrapper, Polyline } from 'google-maps-react';\r\nimport { BumpsMap, Car, SelectedTripMap } from './index';\r\nimport FavoritiesList from '../ReportBumps/favorities-list';\r\n//import FavoritiesMap from '../ReportBumps/favorities-map';\r\nimport * as helpers from '../../helpers/index';\r\nimport * as testing from '../../testing/index';\r\n\r\nimport store from \"../../store/store\";\r\n//store\r\nimport * as menu from \"../../ducks/menu-state\";\r\nimport * as favorities from \"../../ducks/favorities\";\r\nimport * as selectedTrip from \"../../ducks/selected-trip\";\r\nimport * as trip from \"../../ducks/trip\";\r\nimport * as dom from \"../../ducks/dom\";\r\nimport * as bumps from \"../../ducks/bumps-map\";\r\nimport * as stats from \"../../ducks/stats\";\r\n\r\n\r\nconst mapDispatchToProps = {\r\n  \tselectTrip: selectedTrip.selectTrip,\r\n  \taddToFavorities: favorities.addToFavorities,\r\n  \tselectTripView: menu.selectTripView,\r\n \taddTripBumps: trip.addTripBumps, \r\n\tupdateLocation: trip.updateLocation, \r\n\tupdateAcceleration: trip.updateAcceleration,\r\n\tresetTrip: trip.resetTrip,\r\n\tresetMove: trip.resetMove,\r\n\tsetDimentions: dom.setDimentions,\r\n\tsetRatio: dom.setRatio,\r\n\taddBumps: bumps.addBumps,\r\n\taddToStats: stats.addToStats,\r\n};\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        selectedTrip: state.selectedTrip,\r\n        menu: state.menu,\r\n        mode: state.mode,\r\n        favorities: state.favorities,\r\n        trip: state.trip,\r\n        bumps: state.bumps\r\n    };\r\n};\r\n\r\nlet navigatorId;\r\nlet timerId;\r\n//let tim;\r\n\r\nconst NAVIGATOR_OPTIONS = {\r\n\tenableHighAccuracy: true,\r\n\ttimeout: 5000,\r\n\tmaximumAge: 0\r\n};\r\n\r\n\r\nclass Body extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t    this.state = {\r\n\t    \tcover: false,\r\n\t    \tisFetching: false\r\n\t    \t//temp: {bumps:[], path:[]}\r\n\t    };\r\n\r\n\t    this.mymap = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\twindow.addEventListener('resize', this.updateWindowDimensions);\r\n\t}\r\n\r\n\tcomponentDidUpdate = (prevProps, prevState) => {\r\n\t   \tif (prevProps.mode.isRecording !== this.props.mode.isRecording) {\r\n\t\t   \tif (this.props.mode.isRecording === true) {\r\n\t\t\t\tthis.startRecording();\r\n\t\t\t} else {\r\n\t\t\t\tthis.stopRecording();\r\n\t\t\t}\r\n\t   \t}\r\n\r\n\t   \tif (prevProps.mode.isGuidance !== this.props.mode.isGuidance) {\r\n\t\t   \tif (this.props.mode.isGuidance === true) {\r\n\t\t\t\tthis.startGuidance();\r\n\t\t\t} else {\r\n\t\t\t\tthis.stopGuidance();\r\n\t\t\t}\r\n\t   \t}\r\n\r\n\t\tif (prevProps.menu.isShareView !== this.props.menu.isShareView) {\r\n\t   \t\tif (this.props.menu.isShareView === true) this.saveSharedTripToDatabase();\r\n\t   \t}\t\r\n\r\n\t   \tif (prevProps.menu.isBumpsMapView !== this.props.menu.isBumpsMapView) {\r\n\t   \t\tif (this.props.menu.isBumpsMapView === false) this.props.resetTrip();\r\n\t   \t}\r\n\r\n\t   \tif (prevProps.favorities !== this.props.favorities) {\r\n\t   \t\tlocalStorage.setItem('favorities', JSON.stringify(this.props.favorities));\r\n\t   \t}\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t\twindow.removeEventListener('resize', this.updateWindowDimensions);\r\n\t}\r\n\r\n\tupdateWindowDimensions = () => {\r\n\t \tthis.props.setDimentions({width: window.innerWidth, height: window.innerHeight})\r\n\t \tthis.props.setRatio({ ratio: window.innerWidth / window.innerHeight })\r\n\t}\r\n\r\n\tstartRecording = () => {\r\n\t\tthis.props.resetTrip();\r\n\r\n\t\t// if (navigator && navigator.geolocation) { //комментировать при тестировании\r\n\t\t// \tnavigatorId = navigator.geolocation.watchPosition(this.updateLocationData, this.err, NAVIGATOR_OPTIONS);\r\n\t // \t} else {\r\n\t // \t\treturn new Error(\"Navigator error\")\r\n\t // \t}\t\r\n\r\n\t // \tif (window.DeviceMotionEvent) { //комментировать при тестировании\r\n\t // \t \twindow.addEventListener(\"devicemotion\", this.updateAccelerationData); \r\n\t // \t} else {\r\n\t // \t\treturn new Error(\"Accelerator error\")\r\n\t // \t}\t\r\n\r\n\t \ttesting.fakeCarMove(this.updateLocationData);\r\n\t \ttesting.fakeBumps(this.props.addTripBumps);\r\n\t \t//testing.fakeAcceleration(this.updateAccelerationData);\r\n\t}\r\n\r\n\tstopRecording = () => {\r\n\t\t// navigator.geolocation.clearWatch(navigatorId); //комментировать при тестировании\r\n\t\t// window.removeEventListener(\"devicemotion\", this.updateAccelerationData); //комментировать при тестировании\r\n\t\t\r\n\t\t//this.saveBumpsToDatabase().then(() => this.getDatabaseBumpsCount()).then(bumpsCount => this.updateStatsInDatabase(bumpsCount));\r\n\t\tthis.updateFavoritiesData();\r\n\t\t// this.saveBumpsToDatabase();\r\n\r\n\t\ttesting.stopCarMoveSimulation();\r\n\t\ttesting.stopBumpsSimulation();\r\n\t\t//testing.stopAccelerationSimulation();\r\n\t}\r\n\r\n\tstartGuidance = () => {\r\n\t\tthis.props.resetTrip();\r\n\r\n\t\t// if (navigator && navigator.geolocation) { //комментировать при тестировании\r\n\t\t// \tnavigatorId = navigator.geolocation.watchPosition(this.updateLocationData, this.err, NAVIGATOR_OPTIONS);\r\n\t // \t} else {\r\n\t // \t\treturn new Error(\"Navigator error\")\r\n\t // \t}\t\r\n\r\n\t \ttesting.fakeCarMove(this.updateLocationData);\r\n\t}\r\n\r\n\tstopGuidance = () => {\r\n\t\t\r\n\t\t// navigator.geolocation.clearWatch(navigatorId); //комментировать при тестировании\r\n\t\t// window.removeEventListener(\"devicemotion\", this.updateAccelerationData); //комментировать при тестировании\r\n\r\n\t\ttesting.stopCarMoveSimulation();\r\n\t}\t\r\n\r\n\r\n\terr = () => {\r\n\t\tconsole.log(\"error\");\r\n\t}\r\n\r\n\tupdateArrayIfPositionChanged = (array, coords) => {\r\n\t\treturn (array.length === 0 || !helpers.compare(array[array.length - 1], coords)) ? [...array, coords] : array;\r\n\t}\r\n\r\n\tupdateAccelerationData = (ev) => {\r\n\t\t//let { x, y, z } = ev.acceleration; //комментировать при тестировании\r\n\t\tlet { x, y, z } = ev;\r\n\t\tlet { previousAcceleration, bumps } = this.props.trip;\r\n\t\tlet { lat, lng, timestamp } = this.props.trip.currentLocation;\r\n\r\n\t\tif (x !== null && y !== null && z !== null) {\r\n\t\t\tlet ax = x - previousAcceleration.x;\r\n\t\t\tlet ay = y - previousAcceleration.y;\r\n\t\t\tlet az = z - previousAcceleration.z;\r\n\t\t\tlet currentAcceleration = Math.pow((ax * ax + ay * ay + az * az), 1 / 3); //current level of acceleration with existing phone position\r\n\t\t\t\r\n\t\t\tif (currentAcceleration > 2.829226039) { //регулируемое значение\r\n\t\t\t\t\r\n\t\t\t\tif (bumps.length === 0 || !helpers.compare(bumps[bumps.length - 1], {lat, lng})) {\r\n\t\t\t\t\tthis.props.addTripBumps({lat, lng});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.updateAcceleration({previousAcceleration: { x, y, z }})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdateSpeedValue = location\t=> {\r\n\t\tlet prev = this.props.trip.currentLocation;\r\n\t\tlet lat = location.coords.latitude;\r\n\t\tlet lng = location.coords.longitude;\r\n\t\tlet timestamp = location.timestamp;\r\n\r\n\t\tlet distance = this.props.trip.path.length ? helpers.getDistance(prev.lat, prev.lng, lat, lng) : 0\r\n\t\tlet time = Math.abs(prev.timestamp - timestamp)/ 1000; // в секундах\r\n\r\n\t\tif (!distance/time) return 0;\r\n\t\treturn distance/time * 3600 / 1000; //в км/час\r\n\t}\r\n\r\n\tupdateAngleValue = location => {\r\n\t\tlet prev = this.props.trip.currentLocation;\r\n\t\tlet lat = location.coords.latitude;\r\n\t\tlet lng = location.coords.longitude;\r\n\t\tlet angle = helpers.getAngle(prev.lat, prev.lng, lat, lng);\r\n\r\n\t\treturn (Math.abs(angle - this.props.trip.angle) > 22) ? angle : this.props.trip.angle;\r\n\t}\r\n\r\n\tupdateLocationData = location => {\r\n\t\tlet prev = this.props.trip.currentLocation;\r\n\t\tlet { move, path, distance } = this.props.trip;\r\n\t\tlet lat = location.coords.latitude;\r\n\t\tlet lng = location.coords.longitude;\r\n\t\tlet timestamp = location.timestamp;\r\n\t\tlet segmentDistance = path.length ? helpers.getDistance(prev.lat, prev.lng, lat, lng) : 0; // в метрах\r\n\t\t\r\n\t\tif (move > 5) this.props.resetMove();\r\n\t\t\r\n\t\tthis.props.updateLocation({\r\n\t\t\tcurrentLocation: { lat, lng, speed: this.updateSpeedValue(location), timestamp }, \r\n\t\t\tpath: this.updateArrayIfPositionChanged(path, {lat, lng}), \r\n\t\t\tangle: this.updateAngleValue(location), \r\n\t\t\tmove: move + segmentDistance, \r\n\t\t\tdistance: distance + segmentDistance / 1000 \r\n\t\t});\r\n\t}\r\n\r\n\tconvertToReadableAddress = coords => {\r\n\t\treturn new Promise ((resolve, reject) => {\r\n\t\t\tlet maps = this.props.google.maps;\r\n\t\t\tlet addresses = [];\r\n\t\t\tlet geocoder = new maps.Geocoder();\r\n\r\n\t\t\tfor (var i = 0; i < coords.length; i++) {\r\n\t\t\t\tgeocoder.geocode({'location': coords[i]}, (results, status) => {\r\n\t\t\t\t\tif (status !== 'OK') reject(new Error('Geocoder failed due to: ' + status));\r\n\t\t\t\t\tif (!results[0]) reject(new Error('No results'));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\taddresses.push(results[0].formatted_address);\r\n\t\t\t\t\tif (coords.length === addresses.length) resolve({start: addresses[0], end: addresses[1]});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tupdateFavoritiesData = () => {\r\n\t\tlet { bumps, path, distance} = this.props.trip;\r\n\t\tif (!path.length) return;\r\n\r\n\t\tlet bounds = helpers.getBounds(path);\r\n\t\tlet center = helpers.getCenter(bounds);\r\n\t\tlet zoom = helpers.getZoom(distance * 1000); //передаем в метрах\r\n\t\tlet endpoints = [path[0], path[path.length - 1]];\r\n\r\n\t\tthis.convertToReadableAddress(endpoints).then(({start, end}) => {\r\n\t\t\tthis.props.addToFavorities({start, end, path, zoom, center, bumps, distance});\r\n\t\t});\r\n\t}\r\n\r\n\tonZoomChanged = (mapProps, map, clickEvent) => {\r\n\t\t//console.log(map.getZoom());\r\n\t}\r\n\r\n\tsaveSharedTripToDatabase = () => {\r\n\t\tdb.collection('shared').doc(this.props.selectedTrip.id)\r\n\t\t.set({tripdata: this.props.selectedTrip}) //обработать неотправку на сервер\r\n\t\t.catch(error => console.log(error))\r\n\t}\t\r\n\r\n\tsaveBumpsToDatabase = () => {\r\n\t\tlet bumpsRef = db.collection('bumpsmap').doc('bumps');\r\n\t\t//this.setState({isFetching: true});\r\n\r\n\t\tlet newBumps = this.props.trip.bumps.filter(bump => !this.props.bumps.find(({ lat }) => bump.lat === lat) && !this.props.bumps.find(({ lng }) => bump.lng === lng));\r\n\t\t//console.log(newBumps);\r\n\r\n\t\tbumpsRef.get().then(doc => {if (doc.exists) bumpsRef.set({bumps: [...doc.data().bumps, ...newBumps]})}); //комментировать при тестировании\r\n\t}\r\n\r\n\tgetDatabaseBumpsCount = () => {\r\n\t\tlet bumpsRef = db.collection('bumpsmap').doc('bumps');\r\n\t\treturn bumpsRef.get().then(doc => {if ( doc.exists) return doc.data().bumps.length });\r\n\t}\r\n\r\n\tupdateStatsInDatabase = bumpsCount => {\r\n\t\tlet statsRef = db.collection('stats').doc('totals');\r\n\t\t\r\n\t\tstatsRef.update({\r\n\t\t    bumpsCount: bumpsCount,\r\n\t\t    distanceTotal: firebase.firestore.FieldValue.increment(Math.round(this.props.trip.distance)),\r\n\t\t    tripsCount: firebase.firestore.FieldValue.increment(1),\r\n\t\t});\r\n\t}\r\n\r\n\t\r\n\r\n\trender() {\r\n\t\tlet { google, start, end } = this.props;\r\n\t\tlet { isFavoritiesListView, isSelectedTripView, isCheckTripView } = this.props.menu;\r\n\r\n\t\tif (isFavoritiesListView) return <FavoritiesList />\r\n\t\tif (isSelectedTripView) return <SelectedTripMap google={google} />\r\n\r\n\t\tif (isCheckTripView) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"map\">\r\n\t\t\t\t\t<BumpsMap \r\n\t\t\t\t\t\tcenterAroundCurrentLocation\r\n\t\t\t\t\t\tgoogle={google}\r\n\t\t\t\t\t\tupdateLocationData={this.updateLocationData}\r\n\t\t\t\t\t\treportBumpAhead={this.props.reportBumpAhead}\r\n\t\t\t\t\t\tstart={start} \r\n\t\t\t\t\t\tend={end}>\r\n\t\t\t\t\t\t<Car />\r\n\t\t\t\t\t</BumpsMap>\t\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"map\">\r\n\t\t\t\t<BumpsMap \r\n\t\t\t\t\tcenterAroundCurrentLocation\r\n\t\t\t\t\tgoogle={google}\r\n\t\t\t\t\tupdateLocationData={this.updateLocationData}>\r\n\t\t\t\t\t<Car />\t\r\n\t\t\t\t\t<Polyline\r\n\t\t\t\t\t\tpath={this.props.trip.path}\r\n\t\t\t\t\t\tstrokeColor=\"#4D8FAC\"\r\n\t\t\t\t\t\tstrokeOpacity={0.8}\r\n\t\t\t\t\t\tstrokeWeight={4} />\t\t\t\t\t\r\n\t\t\t\t</BumpsMap>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst WrapperContainer = GoogleApiWrapper({\r\n \tapiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY\r\n})(Body);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WrapperContainer);\r\n","import React, { Component } from 'react';\r\nimport * as helpers from '../../helpers/index';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as trip from \"../../ducks/trip\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        menu: state.menu,\r\n        mode: state.mode,\r\n        trip: state.trip,\r\n        dom: state.dom,\r\n        bumps: state.bumps\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tupdateLocation: trip.updateLocation,\r\n\tresetTrip: trip.resetTrip\r\n};\r\n\r\n\r\nclass BumpsMap extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tconst {lat, lng} = props.initialCenter;\r\n\r\n\t\tthis.state = {\r\n\t\t\tcurrentLocation: {lat, lng}, \r\n\t\t\tzoom: 17,\r\n\t\t\tisCurrentPositionReceived: false,\r\n\t\t\trouteBumps: [],\r\n\t\t\tbumpAhead: null,\r\n\t\t\tdistanceToBump: 0\r\n\t\t};\r\n\r\n\t\tthis.mymap = React.createRef();\r\n\t\tthis.mymarker = React.createRef();\r\n\t\tthis.tripBumps = [];\r\n\t\tthis.databaseBumps = [];\r\n\t\tthis.directionsBumps = [];\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\t// if (this.props.centerAroundCurrentLocation) {\r\n\t\t// \tif (navigator && navigator.geolocation) {\r\n\t\t// \t\tnavigator.geolocation.getCurrentPosition((pos) => {\r\n\t\t// \t\t\tconst coords = pos.coords;\r\n\t\t// \t\t\tthis.setState({\r\n\t\t// \t\t\t\tcurrentLocation: {lat: coords.latitude, lng: coords.longitude},\r\n\t\t// \t\t\t\tisCurrentPositionReceived: true\r\n\t //                }, () => this.props.updateLocationData(pos));\r\n\t\t// \t\t});\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tthis.setState({\tisCurrentPositionReceived: true });\r\n\t\tthis.loadMap();\r\n\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.google !== this.props.google) {\r\n\t\t\tthis.loadMap();\r\n\t\t}\r\n\r\n\t\tif (prevState.currentLocation !== this.state.currentLocation) {\r\n\t\t\tthis.recenterMap(this.state.currentLocation);\r\n\t\t}\r\n\r\n\t\tif ((prevProps.trip.currentLocation !== this.props.trip.currentLocation) && (this.state.isCurrentPositionReceived && this.props.mode.isRecording)) {\r\n\t\t\tthis.recenterMap(this.props.trip.currentLocation);\r\n\t\t\tthis.setState({currentLocation: this.props.trip.currentLocation})\r\n\t\t}\r\n\r\n\t\tif ((prevProps.trip.currentLocation !== this.props.trip.currentLocation) && (this.state.isCurrentPositionReceived && this.props.mode.isGuidance)) {\r\n\t\t\tthis.recenterMap(this.props.trip.currentLocation);\r\n\t\t\tthis.setState({currentLocation: this.props.trip.currentLocation})\r\n\t\t\tthis.reportBumpAhead();\r\n\t\t}\r\n\r\n\t\tif (prevProps.trip.bumps !== this.props.trip.bumps) {\r\n\t\t\tthis.tripBumps = this.setBumpsOnMap(this.props.trip.bumps, this.tripBumps, '#fbad19', 1.2); //\"#fbad19\"\r\n\t\t}\r\n\r\n\t\tif (prevProps.bumps !== this.props.bumps && !this.props.menu.isCheckTripView) {\r\n\t\t\tthis.databaseBumps = this.setBumpsOnMap(this.props.bumps, this.databaseBumps, \"#e34929\", 0.8);\r\n\t\t}\r\n\r\n\t\tif (prevProps.mode.isBuildingRoute !== this.props.mode.isBuildingRoute && this.props.mode.isBuildingRoute === true) {\r\n\t\t\tlet { start, end, google } = this.props;\r\n\t\r\n\t\t\tif (start !== \"\") return this.buildRoute({start, end});\r\n\t\t\tnavigator.geolocation.getCurrentPosition((pos) => this.buildRoute({start: new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude), end}));\r\n\t\t}\r\n\t}\r\n\r\n\treportBumpAhead = () => {\r\n\t\tlet { lat, lng } = this.props.trip.currentLocation;\r\n\t\tlet { bumpAhead, routeBumps } = this.state;\r\n\t\tconsole.log(bumpAhead)\r\n\t\tthis.setState({\r\n\t\t\tbumpAhead: helpers.getBumpAhead({lat, lng}, bumpAhead, routeBumps),\r\n\t\t\tdistanceToBump: (bumpAhead === null) ? 3 : helpers.getDistance(lat, lng, bumpAhead.lat, bumpAhead.lng)\r\n\t\t}, () => { \r\n\t\t\tif (this.state.distanceToBump < 3) {\r\n\t\t\t\tthis.props.reportBumpAhead(true);\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.reportBumpAhead(false);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tbuildRoute = endpoints => {\r\n\t\tlet maps = this.props.google.maps;\r\n\t\tthis.directionsDisplay.setMap(this.map);\r\n\r\n\t\tvar request = {\r\n\t\t\torigin: endpoints.start,\r\n\t\t\tdestination: endpoints.end,\r\n\t\t\ttravelMode: 'DRIVING'\r\n\t\t};\r\n\r\n\t\tthis.directionsService.route(request, (response, status) => {\r\n\t\t\tif (status === 'OK') {\r\n\t\t\t\tlet directionArray = [];\r\n\t\t\t\tlet polyline = maps.geometry.encoding.decodePath(response.routes[0].overview_polyline);\r\n\t\t\t\tpolyline.forEach(i => directionArray.push({lat: i.lat(), lng: i.lng()}));\r\n\r\n\t\t\t\tthis.setState({ routeBumps: helpers.getRouteBumps(directionArray, this.props.bumps) }, () => {\r\n\t\t\t\t\tthis.databaseBumps = this.setBumpsOnMap(this.state.routeBumps, this.databaseBumps, \"#e34929\", 0.8);\r\n\t\t\t\t\tthis.directionsDisplay.setDirections(response);\r\n\t\t\t\t\tthis.setState({ bumpAhead: this.state.routeBumps[0] })\r\n\t\t\t\t})\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t}\t\r\n\r\n\tloadMap = () => {\r\n\t\tif (this.props.google) {\r\n\r\n\t\t\tlet maps = this.props.google.maps;\r\n\t\t\tlet zoom = this.props.zoom;\r\n\t\t\tconst { lat, lng } = this.state.currentLocation;\r\n\r\n\t\t\tconst center = new maps.LatLng(lat, lng);\r\n\t\t\tconst mapConfig = Object.assign({}, {\r\n\t\t\t\tcenter: center,\r\n\t\t\t\tzoom: zoom,\r\n\t\t\t\tzoomControl: false,\r\n\t\t\t\tscaleControl: false,\r\n\t\t\t\tfullscreenControl: false,\r\n\t\t\t\tmapTypeControl: false,\r\n\t\t\t\tstreetViewControl: false\r\n\t\t\t});\r\n\r\n\t\t\tthis.map = new maps.Map(this.mymap.current, mapConfig);\r\n\r\n\t\t\tif (this.map) {\r\n\t\t\t\tthis.directionsService = new maps.DirectionsService();\r\n\t\t\t\tthis.directionsDisplay = new maps.DirectionsRenderer();\r\n\t\t\t}\r\n\r\n\t\t\tconst evtNames = ['click', 'dragend', 'zoom_changed'];\r\n\t\t\tevtNames.forEach(e => this.map.addListener(e, this.handleEvent(e)));\r\n\r\n\t\t\tmaps.event.trigger(this.map, 'ready');\r\n\r\n\t\t\tif (this.map && !this.props.menu.isCheckTripView) {\r\n\t\t\t\tthis.databaseBumps = this.setBumpsOnMap(this.props.bumps, this.databaseBumps, \"#e34929\", 0.8);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleEvent(evtName) {\r\n\t\tlet timeout;\r\n\t\tconst handlerName = `on${helpers.camelize(evtName)}`;\r\n\r\n\t\treturn (e) => {\r\n\t\t\tif (timeout) {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = null;\r\n\t\t\t}\r\n\t\t\ttimeout = setTimeout(() => {\r\n\t\t\t\tif (this.props[handlerName]) {\r\n\t\t\t\t\tthis.props[handlerName](this.props, this.map, e);\r\n\t\t\t\t}\r\n\t\t\t}, 0);\r\n\t\t}\r\n\t}\r\n\r\n\trecenterMap = currentLocation => {\r\n\t\tconst map = this.map;\r\n\t\tconst google = this.props.google;\r\n\t\tconst maps = google.maps;\r\n\r\n\t\tif (map) {\r\n\t\t\tlet center = new maps.LatLng(currentLocation.lat, currentLocation.lng);\r\n\t\t\tmap.panTo(center);\r\n\t\t}\r\n\t}\r\n\r\n\tdeleteMarkers = markersArray => {\r\n\t\tmarkersArray.forEach(marker => marker.setMap(null));\r\n\t\treturn [];\r\n\t}\r\n\r\n\tsetBumpsOnMap = (bumpsArray, markersArray, color, size) => {\r\n\t\tconst maps = this.props.google.maps;\r\n\r\n\t\tlet bumpOption = {\r\n\t\t\tpath: \"M-4,0a4,4 0 1,0 8,0a4,4 0 1,0 -8,0\",\r\n\t\t\tfillColor: color,\r\n\t\t\tstrokeColor: color,\r\n\t\t\tfillOpacity: 1.0,\r\n\t\t\tscale: size,\r\n\t\t\tanchor: new maps.Point(0, 0)\r\n\t\t}\r\n\r\n\t\tmarkersArray = this.deleteMarkers(markersArray);\r\n\t\tbumpsArray.forEach(bump => {\r\n\t\t\tmarkersArray.push(new maps.Marker({ \r\n\t\t\t\tposition: {lat: bump.lat, lng: bump.lng}, \r\n\t\t\t\ticon: bumpOption, \r\n\t\t\t\tmap: this.map \r\n\t\t\t}))\r\n\t\t})\r\n\r\n\t\treturn markersArray;\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t\tthis.deleteMarkers(this.tripBumps);\r\n\t\tthis.deleteMarkers(this.databaseBumps);\r\n\r\n\t}\r\n\r\n\trenderChildren = () => {\r\n\t\tconst {children} = this.props;\r\n\t\tif (!children) return;\r\n\r\n\t\treturn React.Children.map(children, c => {\r\n\t\t\treturn React.cloneElement(c, {\r\n\t\t\t\tmap: this.map,\r\n\t\t\t\tgoogle: this.props.google,\r\n\t\t\t\tmapCenter: this.state.currentLocation,\r\n\t\t\t\tcurrentLocation: this.props.trip.currentLocation,\r\n\t\t\t\tisCurrentPositionReceived: this.state.isCurrentPositionReceived\r\n\t\t\t});\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet style = {\r\n\t\t\twidth: this.props.dom.width + \"px\", \r\n\t\t\theight: this.props.dom.height +\"px\", \r\n\t\t\tposition: \"relative\"\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div ref={this.mymap} style={style}>\r\n\t\t\tLoading...\r\n\t\t\t{this.renderChildren()}\r\n\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BumpsMap);\r\n\r\n\r\nBumpsMap.defaultProps = {\r\n\tzoom: 16,\r\n\tinitialCenter: {\r\n\t\tlat: 53.9123223, //53.9131642, //53.893009,\r\n\t\tlng: 27.5140232 //27.5141578 //27.567444\r\n\t},\r\n\tcenterAroundCurrentLocation: false\r\n}","import { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as trip from \"../../ducks/trip\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        trip: state.trip,\r\n        mode: state.mode\r\n    };\r\n};\r\n\r\nvar elements = [\r\n{path: \"M69.9,36c0.3-9.3,0.3-9.1,0.3-9.1c0-0.2,0.7-7.9-0.6-15.3c-1.3-7.5-9.7-9.5-9.7-9.5l-0.4,0l-8.9-0.3v0l-8.8,0.3  l-0.4,0c0,0-8.4,2.1-9.7,9.5c-1.3,7.4-0.6,15.1-0.6,15.3c0,0,0-0.3,0.3,9.1c0.4,9.8-0.6,34-0.5,37c0.1,2.9-0.2,9.2,0.4,10.8  c0.6,1.6,2.6,9.6,2.6,9.6s3.2,6.2,16.8,5.3v0c13.5,0.9,16.7-5.3,16.7-5.3s2-8,2.6-9.6c0.6-1.6,0.2-7.9,0.4-10.8  C70.5,70,69.5,45.8,69.9,36L69.9,36z\", fill:\"#D14C32\"},\r\n{path: \"M61.7,27.5c-3.2-1.6-11.1-1.8-11.1-1.8v0c0,0-8,0.1-11.1,1.8c-3.2,1.6-4.3,2.4-4.1,3.5c0.2,1.1,2.6,12,2.6,12.3  c0,0.3,0.2,0.7,1.5,0.4c1.2-0.4,11.2-0.8,11.2-0.8v0c0,0,10,0.4,11.2,0.8c1.2,0.4,1.5-0.1,1.5-0.4c0-0.3,2.4-11.2,2.6-12.3  C66,29.9,64.9,29.2,61.7,27.5L61.7,27.5z\", fill: \"#121215\"},\r\n{path: \"M67.4,32.8c0,0,0,12.6,0,16.3c0,3.7,0,8.7-0.3,12.1C66.8,64.7,66.1,80,66.1,80v0.3c0,0-2-5.3-2.4-9.4  c-0.9-4-0.5-14,0-20.1C64,44.8,67,33.9,67.4,32.8z\", fill: \"#101114\"},\r\n{path: \"M62.4,76.1c-0.2-1.4-0.4-1-0.5-1.1c-0.1-0.1-1.5,0.3-2.1,0.4c-4.6,0.8-9.3,0.6-9.3,0.6v0c0,0-4.7,0.2-9.3-0.6  c-0.6-0.1-2-0.5-2.1-0.4c-0.1,0.1-0.3-0.3-0.5,1.1c-0.2,1.4-1.4,9.9-1.3,10c0.1,0.1,2.9,1.8,7.9,2.6c1.1,0.1,5.3,0.2,5.3,0.2v0  c0,0,4.2-0.2,5.3-0.2c5-0.8,7.8-2.5,7.9-2.6C63.8,86.1,62.7,77.5,62.4,76.1L62.4,76.1z\", fill: \"#131417\"},\r\n{path: \"M67,36l1.2,0.7V38H67V36z\", fill: \"#0D0E13\"},\r\n{path: \"M59,2.9c-0.1-0.1-0.2-0.1-0.4-0.2C58.1,2.6,58.3,2.6,59,2.9z\", fill: \"#C2C6C1\"},\r\n{path: \"M67.7,11.8C66.9,6.6,61,3.7,59,2.9c2,1.4,3.4,9.1,4.5,14c1.1,5.2,1.8,13.5,1.8,13.5s2.4,0.4,3.6,7  C69.7,41.5,68.9,18.8,67.7,11.8L67.7,11.8z\", fill: \"#D8684A\"},\r\n{path: \"M42.6,2.8c-0.1,0-0.2,0.1-0.4,0.2C42.9,2.7,43.2,2.6,42.6,2.8z\", fill: \"#C2C6C1\"},\r\n{path: \"M33.5,11.8c-1.2,7-1.9,29.7-1.1,25.5c1.1-6.5,3.6-7,3.6-7s0.6-8.3,1.8-13.5c1.1-4.9,2.5-12.6,4.5-14  C40.3,3.8,34.4,6.6,33.5,11.8z\", fill: \"#D8684A\"},\r\n{path: \"M63.4,56.8l3.8-2.9v3.4l-3.8,2.4V56.8z M37.7,83.9c-0.2,1.3-0.3,2.2-0.2,2.2c0.1,0.1,2.9,1.8,7.9,2.6  c1.1,0.1,5.3,0.2,5.3,0.2v0c0,0,4.2-0.2,5.3-0.2c5-0.8,7.8-2.5,7.9-2.6c0,0-0.3-2.4-0.6-4.9L37.7,83.9L37.7,83.9z\", fill: \"#202226\"},\r\n{path: \"M37.3,40.1l24.4-5.8l3.7-1.2c0.2-1.1,0.4-1.9,0.4-2.1c0.2-1.1-0.9-1.9-4.1-3.5c-3.2-1.6-11.1-1.8-11.1-1.8v0  c0,0-8,0.1-11.1,1.8c-3.2,1.6-4.3,2.4-4.1,3.5C35.5,31.7,36.5,36.7,37.3,40.1L37.3,40.1z\", fill: \"#212428\"},\r\n{path: \"M33.9,32.9c0,0,0,12.6,0,16.3c0,3.7,0,8.7,0.3,12.1c0.3,3.4,0.9,18.7,0.9,18.7v0.3c0,0,2-5.3,2.4-9.4  c0.9-4,0.5-14,0-20.1C37.3,44.8,34.3,33.9,33.9,32.9z\", fill: \"#101114\"},\r\n{path: \"M69.9,36c0.3-9.3,0.3-9.1,0.3-9.1c0-0.2,0.7-7.9-0.6-15.3c-1.3-7.5-9.7-9.5-9.7-9.5l-0.4,0l-8.9-0.3v0l-8.8,0.3  l-0.4,0c0,0-8.4,2.1-9.7,9.5c-1.3,7.4-0.6,15.1-0.6,15.3c0,0,0-0.3,0.3,9.1c0.4,9.8-0.6,34-0.5,37c0.1,2.9-0.2,9.2,0.4,10.8  c0.6,1.6,2.6,9.6,2.6,9.6s3.2,6.2,16.8,5.3v0c13.5,0.9,16.7-5.3,16.7-5.3s2-8,2.6-9.6c0.6-1.6,0.2-7.9,0.4-10.8  C70.5,70,69.5,45.8,69.9,36L69.9,36z M69.3,83.9c-1.6,9.7-4,11.2-6.7,12.7c-2.7,1.4-11.9,1.6-11.9,1.6v0c-0.9,0-9.3-0.3-11.9-1.6  c-2.7-1.5-5.1-3-6.7-12.7c-1.6-9.7,0.6-13.6,0.4-21.9c-0.3-8.3-0.3-29.6-0.2-32c0.1-2.4-0.6-19.1,1.7-21.5c2.3-2.4,5.6-5.7,7.6-5.8  C42.6,2.7,44,2.6,45,2.6V2.6h5.7v0h5.6v0.1c1.2,0,2.3,0,3.5,0.1c2,0.1,5.3,3.4,7.6,5.8c2.3,2.4,1.6,19.1,1.7,21.5  c0.1,2.4,0.1,23.7-0.2,32C68.6,70.3,70.9,74.2,69.3,83.9L69.3,83.9z\", fill: \"#9E4A36\"},\r\n{path: \"M34.3,91c0,0,1.5,3.3,4,4.1c2.4,0.9,4.2,1.3,4.2,1.3s-3.1,0-4.8-1C36.1,94.5,34.2,93.1,34.3,91z\", fill: \"#9E4A36\"},\r\n{path: \"M41.5,2.7c0,0-3.4,1.6-4.4,2.8c-1,1.1-2.5,3-2.6,3.3c0,0.2,0,0.9,0,0.9S40.6,3.1,41.5,2.7z\", fill: \"#FEFDF8\"},\r\n{path: \"M50.6,1.8L50.6,1.8L50.6,1.8L50.6,1.8z M58.4,3c0-0.3-1.7-0.8-2.2-0.9c-0.4-0.1-5.3-0.2-5.6-0.2l0,0  c-0.3,0-5.2,0.2-5.6,0.3c-0.4,0.1-2.1,0.6-2.2,0.9c0,0.3,0.3,0.5,0.7,0.3s1-0.7,1.4-0.8c0.4-0.1,5.7-0.3,5.7-0.3l0,0  c0.4,0,5.2,0.2,5.6,0.3c0.4,0.1,1,0.6,1.4,0.8C58.1,3.5,58.4,3.3,58.4,3L58.4,3z\", fill: \"#1D2021\"},\r\n{path: \"M32.8,36.8c0,0-3.4,1.4-3.6,2.7C29,40.8,29,41,29.2,41s3.8-1.9,3.8-1.9v-2.3L32.8,36.8L32.8,36.8z\", fill: \"#D14C32\"},\r\n{path: \"M29.2,41.3l0-0.3l3.8-1.9v0.3L29.2,41.3z\", fill: \"#0D0E13\"},\r\n{path: \"M34.3,36.1L33,36.8V38h1.2V36.1z\", fill: \"#0D0E13\"},\r\n{path: \"M37.9,56.9L34,54v3.4l3.8,2.4V56.9z\", fill: \"#202226\"},\r\n{path: \"M38.7,76.1c0.2-1.4,0.4-1,0.5-1.1c0.1-0.1,1.5,0.3,2.1,0.4c4.6,0.8,9.3,0.6,9.3,0.6v0c0,0,4.7,0.2,9.3-0.6  c0.6-0.1,2-0.5,2.1-0.4c0.1,0.1,0.3-0.3,0.5,1.1c0.2,1.4,1.4,9.9,1.3,10c-0.1,0.1-2.9,1.8-7.9,2.6c-1.1,0.1-5.3,0.2-5.3,0.2v0  c0,0-4.2-0.2-5.3-0.2c-5-0.8-7.8-2.5-7.9-2.6C37.3,86.1,38.5,77.5,38.7,76.1L38.7,76.1z M39.6,27.5c3.2-1.6,11.1-1.8,11.1-1.8v0  c0,0,8,0.1,11.1,1.8c3.2,1.6,4.3,2.4,4.1,3.5c-0.2,1.1-2.6,12-2.6,12.3c0,0.3-0.2,0.7-1.5,0.4c-1.2-0.4-11.2-0.8-11.2-0.8v0  c0,0-10,0.4-11.2,0.8c-1.2,0.4-1.5-0.1-1.5-0.4c0-0.3-2.4-11.2-2.6-12.3C35.3,29.9,36.4,29.2,39.6,27.5L39.6,27.5z\", fill: \"#343C3E\"},\r\n{path: \"M38.2,28.3c-2.2,1.2-3,1.9-2.8,2.8c0.2,1.1,2.6,12,2.6,12.3c0,0.3,0.2,0.7,1.5,0.4c0.3-0.1,1-0.2,2-0.2  C39.9,39.9,38.7,31.8,38.2,28.3L38.2,28.3z M63.1,28.2c2.2,1.2,3,1.9,2.8,2.8c-0.2,1.1-2.6,12-2.6,12.3c0,0.3-0.2,0.7-1.5,0.4  c-0.3-0.1-1-0.2-2-0.2C61.4,39.9,62.6,31.8,63.1,28.2L63.1,28.2z\", fill: \"#2E3436\"},\r\n{path: \"M65.3,29.7c-0.6-0.6-1.8-1.2-3.6-2.2c-3.2-1.6-11.1-1.8-11.1-1.8v0h0v0c-0.6,0-8.1,0.2-11.1,1.8  c-1.8,0.9-2.9,1.6-3.6,2.2l2.8,2.2c0,0,5.7-0.9,11.9-1v0c6.1,0.1,11.8,0.7,11.8,0.7L65.3,29.7L65.3,29.7z\", fill: \"#202226\"},\r\n{path: \"M59.8,2.7c0,0,3.4,1.6,4.4,2.8c1,1.1,2.5,3,2.6,3.3c0,0.2,0,0.9,0,0.9S60.7,3.1,59.8,2.7z\", fill: \"#FEFDF8\"},\r\n{path: \"M55.4,3.8H44.8c0,0-2.2,0.6-2.9,8.6c-0.7,8-2,14.1,3,12.7c4.9-1.4,7.6-0.2,9.8-0.3c2.2-0.2,5.6,2.3,4.3-8.6  C57.7,5.2,57.6,4.6,55.4,3.8L55.4,3.8z\", fill: \"#D8684A\"},\r\n{path: \"M44.5,24.3l1.8-18.1l-1.3,6.4L44.5,24.3z M56.8,24.2L55,6.2l1.3,6.4L56.8,24.2z M66.9,90.9c0,0-1.5,3.3-4,4.1  c-2.4,0.9-4.2,1.3-4.2,1.3s3.1,0,4.8-1C65.2,94.5,67,93,66.9,90.9L66.9,90.9z\", fill: \"#9E4A36\"},\r\n{path: \"M39.2,75c-0.1,0.1-0.3-0.3-0.5,1.1s-1.4,9.9-1.3,10c0,0,0.7,0.5,2,1L41,75.4C40.3,75.2,39.2,74.9,39.2,75  L39.2,75z M62.4,76.2c-0.2-1.4-0.4-1-0.5-1.1c0-0.1-1.1,0.2-1.8,0.3l1.6,11.8c1.2-0.5,1.9-0.9,2-1C63.8,86.1,62.6,77.6,62.4,76.2  L62.4,76.2z\", fill: \"#2E3436\"},\r\n{path: \"M68.4,36.8c0,0,3.4,1.4,3.6,2.7s0.2,1.5,0,1.5c-0.2,0-3.8-1.9-3.8-1.9v-2.3L68.4,36.8L68.4,36.8z\", fill: \"#D14C32\"},\r\n{path: \"M72,41.3l0-0.3L68.3,39v0.3L72,41.3z\", fill: \"#0D0E13\"},\r\n{path: \"M55.9,88.3H44.7c0,0-6.1-0.8-5.3,1.8c0.8,2.6-0.8,5.8,7.6,5.8h6.5c8.5,0,6.8-3.2,7.6-5.8  C62,87.4,55.9,88.3,55.9,88.3L55.9,88.3z\", fill: \"#D8684A\"},\r\n{path: \"M51,86.9c-5.2,0-9.8-1.1-13.1-3l-0.2,0c-0.3,2.4-0.3,2.2-0.2,2.3c0.1,0.1,2.9,1.8,7.9,2.6  c1.1,0.1,5.3,0.2,5.3,0.2v0c0,0,4.2-0.2,5.3-0.2c5-0.8,7.8-2.5,7.9-2.6c0,0-0.1-0.8-0.2-2C60.4,85.9,55.9,86.9,51,86.9z\", fill: \"#202226\"},\r\n{path: \"M58.3,51.8c1.2-3.8-0.8-5.2-3.1-5.6c-1.8-0.3-6.4-0.2-7.9-0.1c-2.7,0.2-5.6,1.3-4.2,5.7c2.4,7.5-0.1,17.8,0,19  c0.1,0.9,1.4,2.4,4,2.8c0.9,0.1,6.8,0.1,7.9-0.1c2.1-0.5,3.2-1.8,3.3-2.6C58.4,69.6,55.9,59.3,58.3,51.8L58.3,51.8z\", fill: \"#D8684A\"}];\r\n\r\nclass Car extends Component {\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.marker = [];\r\n\t}\r\n\r\n\tcomponentDidUpdate = (prevProps) => {\r\n\t\tlet { map, isCurrentPositionReceived} = this.props;\r\n\t\tlet speed = this.props.trip.currentLocation.speed;\r\n\t\tlet { angle, move } = this.props.trip;\r\n\r\n\t\tif (map !== prevProps.map || isCurrentPositionReceived !== prevProps.isCurrentPositionReceived) {\r\n\t\t\tthis.renderMarker();\r\n\t\t}\r\n\r\n\t\tif ((prevProps.trip.path !== this.props.trip.path && this.props.trip.path.length) && (speed > 5 && (angle !== prevProps.angle || move > 5))) {\r\n\t\t \tthis.renderMarker();\r\n\t\t }\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t    this.removeMarker();\r\n\t}\r\n\r\n\tremoveMarker = () => {\r\n\t\tif (this.marker && this.marker.length > 0) {\r\n\t    \tthis.marker.forEach(i => {\r\n\t    \t\ti.setMap(null);\r\n\t    \t});      \r\n\t    }\r\n\t}\r\n\r\n\trenderMarker = () => {\r\n\t\tthis.removeMarker();\r\n\r\n\t\tlet {map, google, mapCenter } = this.props;\r\n\t\tlet currentLocation = this.props.trip.currentLocation;\r\n\t\tlet position = currentLocation.lat ? {lat: currentLocation.lat, lng: currentLocation.lng} : undefined;\r\n\r\n\t\tlet pos = position || mapCenter;\r\n\t\tposition = new google.maps.LatLng(pos.lat, pos.lng);\r\n\r\n\t\telements.forEach((i, index) => {\r\n\t\t\tvar icon = {\r\n\t\t\t\tpath: i.path,\r\n\t\t\t\tfillColor: i.fill,\r\n\t\t\t\tstrokeColor: i.fill,\r\n                fillOpacity: 1.0,\r\n                scale: 0.4,\r\n                anchor: new google.maps.Point(50, 50),\r\n\t\t\t\trotation: this.props.trip.angle\r\n\t\t\t};\r\n\r\n\t\t\tconst pref = {\r\n\t\t        map: map,\r\n\t\t        position: position,\r\n\t\t        icon\r\n\t\t    };\r\n\r\n\t\t    this.marker[index] = new google.maps.Marker(pref);\r\n\t\t    this.marker[index].setZIndex(100);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Car);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport store from \"../../store/store\";\r\nimport * as menu from \"../../ducks/menu-state\";\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tselectCheckTripView: menu.selectCheckTripView,\r\n\tselectBumpsMapView: menu.selectBumpsMapView,\r\n\tcloseDrawerView: menu.closeDrawerView\r\n});\r\n\r\nclass Drawer extends Component {\r\n\r\n\thandleSelection = action => {\r\n\t\tthis.props[action]();\r\n\t\tthis.props.closeDrawerView();\r\n\t}\r\n\r\n\tmarkActiveTab = id => {\r\n\t\tlet hash = window.location.hash;\r\n\t\treturn (hash.split('#/').pop() === id ) ? \" drawer-item-active\" : \"\";\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet items = [\r\n\t\t\t{id: \"map\", title: \"Report a bump\", action: 'selectBumpsMapView' },\r\n\t\t\t{id: \"checktrip\", title: \"Check your trip\", action: 'selectCheckTripView' },\r\n\t\t\t{id: \"calibrate\", title: \"Calibrate sensors\", action: 'selectBumpsMapView' },\r\n\t\t\t{id: \"settings\", title: \"Settings\", action: 'selectBumpsMapView' }];\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"drawer\">\r\n\t\t\t\t<div className=\"drawer-logo\"></div>\r\n\t\t\t\t<div className=\"drawer-body\">\r\n\t\t\t\t\t{items.map(item => (\r\n\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\tclassName={`drawer-item${this.markActiveTab(item.id)}`} \r\n\t\t\t\t\t\t\texact=\"true\" \r\n\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\tid={item.id} \r\n\t\t\t\t\t\t\tto={`/${item.id}`} \r\n\t\t\t\t\t\t\treplace \r\n\t\t\t\t\t\t\tonClick={this.handleSelection(item.action)}>\r\n\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Drawer);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        selectedTrip: state.selectedTrip,\r\n        dom: state.dom\r\n    };\r\n};\r\n\r\nclass SelectedTripMap extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.mapRef = React.createRef();\r\n\t\tthis.trip = null;\r\n\t\tthis.bumps = [];\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.loadMap();\r\n\t}\r\n\r\n\tcomponentDidUpdate = (prevProps, prevState) => {\r\n\t\tif (prevProps.google !== this.props.google || prevProps.selectedTrip !== this.props.selectedTrip) {\r\n\t\t\tthis.loadMap();\r\n\t\t}\r\n\t}\r\n\r\n\tloadMap = () => {\r\n\t\tif (this.props.google) {\r\n\r\n\t\t\tlet maps = this.props.google.maps;\r\n\t\t\tlet { zoom, path, center, bumps } = this.props.selectedTrip;\r\n\r\n\t\t\tconst mapOptions = {\r\n\t\t\t\tcenter,\r\n\t\t\t\tzoom,\r\n\t\t\t\tzoomControl: false,\r\n    \t\t\tscaleControl: false,\r\n    \t\t\tfullscreenControl: false,\r\n    \t\t\tmapTypeControl: false,\r\n    \t\t\tstreetViewControl: false,\r\n\t\t\t};\r\n\r\n\t\t\tlet tripOptions = {\r\n\t\t\t\tpath,\r\n\t\t        strokeColor: '#4D8FAC',\r\n\t\t        strokeOpacity: 0.8,\r\n\t\t        strokeWeight: 4,\r\n\t\t\t};\r\n\r\n\t\t\tlet bumpOption = {\r\n\t\t\t\tpath: \"M-4,0a4,4 0 1,0 8,0a4,4 0 1,0 -8,0\",\r\n\t\t\t\tfillColor: \"red\",\r\n\t\t\t\tstrokeColor: \"red\",\r\n                fillOpacity: 1.0,\r\n                scale: 0.8,\r\n                anchor: new maps.Point(0, 0)\r\n\t\t\t}\r\n\r\n  \t\t\tthis.map = new maps.Map(this.mapRef.current, mapOptions);\r\n\t\t\tthis.trip = new maps.Polyline(tripOptions);\r\n\t\t\t\r\n\t\t\tif (this.map) {\r\n\t\t\t\tthis.trip.setMap(this.map); \r\n\r\n\t\t\t\tbumps.forEach((bump, index) => {\r\n\t\t\t\t\tthis.bumps.push(new maps.Marker({ position: {lat: bump.lat, lng: bump.lng}, icon: bumpOption, map: this.map, animation: maps.Animation.DROP }));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponenWillUnmount = () => {\r\n\t\tthis.trip.setMap(null);\r\n\t\tthis.bumps.forEach(bump => bump.setMap(null));\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tif (!this.props.selectedTrip) return;\r\n\t\tlet { width, height } = this.props.dom;\r\n\r\n\t  \treturn (\r\n\t  \t\t<div className=\"favorities-map\">\r\n\t  \t\t\t<div ref={this.mapRef} \r\n\t  \t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: width +\"px\", \r\n\t\t\t\t\t\theight: height +\"px\", \r\n\t\t\t\t\t\tposition: \"relative\"\r\n\t\t  \t\t\t}} />\r\n\t  \t\t</div>\r\n        );\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(SelectedTripMap);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { FacebookShareButton, TelegramShareButton, WhatsappShareButton, ViberShareButton, EmailShareButton } from 'react-share';\r\nimport { FacebookIcon, TelegramIcon, WhatsappIcon, ViberIcon, EmailIcon } from 'react-share';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    \tselectedTrip: state.selectedTrip,\r\n    \tmenu: state.menu\r\n    };\r\n};\r\n\r\nclass ShareBlock extends Component {\r\n\trender() {\r\n\t\tif (this.props.selectedTrip === null) return null;\r\n\t\tlet url = `https://alesiagit.github.io/reactjs_accel/#/shared/${this.props.selectedTrip.id}`;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"share-wrapper\">\r\n\t\t\t\t<div className=\"share-buttons-wrapper\">\r\n\t\t\t\t\t<EmailShareButton url={url} className=\"share-social-icon\">\r\n\t\t\t\t\t\t<EmailIcon size={38} round={false} borderRadius={8}/>\r\n\t\t\t\t\t</EmailShareButton>\r\n\t\t\t\t\t<FacebookShareButton url={url} className=\"share-social-icon\">\r\n\t\t\t\t\t\t<FacebookIcon size={38} round={false} borderRadius={8}/>\r\n\t\t\t\t\t</FacebookShareButton>\r\n\t\t\t\t\t<TelegramShareButton url={url} className=\"share-social-icon\">\r\n\t\t\t\t\t\t<TelegramIcon size={38} round={false} borderRadius={8}/>\r\n\t\t\t\t\t</TelegramShareButton>\r\n\t\t\t\t\t<WhatsappShareButton url={url} className=\"share-social-icon\">\r\n\t\t\t\t\t\t<WhatsappIcon size={38} round={false} borderRadius={8}/>\r\n\t\t\t\t\t</WhatsappShareButton>\r\n\t\t\t\t\t<ViberShareButton url={url} className=\"share-social-icon\">\r\n\t\t\t\t\t\t<ViberIcon size={38} round={false} borderRadius={8}/>\r\n\t\t\t\t\t</ViberShareButton>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(ShareBlock);","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport '../../styles/shared.css';\r\nimport '../../styles/shared-trip.css';\r\n\r\nimport { HeaderMenu, HeaderSubmenu, Drawer, NextStepButton, Body } from '../_common/index';\r\nimport * as helpers from '../../helpers/index';\r\nimport ShareBlock from './share-block';\r\n\r\nimport * as trip from \"../../ducks/selected-trip\";\r\nimport * as menu from \"../../ducks/menu-state\";\r\nimport * as mode from \"../../ducks/mode\";\r\nimport * as dom from \"../../ducks/dom\";\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tselectedTrip: state.selectedTrip,\r\n\t\tmenu: state.menu,\r\n\t\tmode: state.mode\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tcloseDrawerView: menu.closeDrawerView,\r\n\tselectDrawerView: menu.selectDrawerView,\r\n\tselectBumpsMapView: menu.selectBumpsMapView,\r\n\tselectFavoritiesListView: menu.selectFavoritiesListView,\r\n\tselectShareView: menu.selectShareView,\r\n\tcloseShareView: menu.closeShareView,\r\n\tstartRecording: mode.startRecording,\r\n\tstopRecording: mode.stopRecording,\r\n\tnoTripsSelected: trip.noTripsSelected,\r\n\tchangeBarColor: dom.changeBarColor\r\n};\r\n\r\nclass ReportBumps extends Component {\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.changeBarColor(\"#4c88b7\");\r\n\t\tthis.props.selectBumpsMapView();\r\n\t\tthis.props.stopRecording();\r\n\t}\r\n\r\n\tonLeftMenuToggle = () => {\r\n\t\tlet { isDrawerView, isSelectedTripView } = this.props.menu;\r\n\t\tif (isDrawerView) return this.props.closeDrawerView();\r\n\t\t\r\n\t\tif (isSelectedTripView) {\r\n\t\t\tthis.props.noTripsSelected();\r\n\t\t\tthis.props.selectFavoritiesListView();\r\n\t\t\treturn;\r\n\t\t} \r\n\r\n\t\treturn this.props.selectDrawerView();\r\n\t}\r\n\r\n\tonRightMenuToggle = () => {\r\n\t\tif (this.props.menu.isShareView) return this.props.closeShareView();\r\n\t\tthis.props.selectShareView();\r\n\t}\r\n\r\n\tonNextStepButtonToggle = () => {\r\n\t\tif (this.props.mode.isRecording) return this.props.stopRecording();\r\n\t\tthis.props.startRecording();\r\n\t}\t\r\n\r\n\tonSubmenuTabSelect = condition => {\r\n\t\tconst handlerName = `select${helpers.camelize(condition)}View`;\r\n\t\tthis.props[handlerName]();\r\n\t}\r\n\r\n\tmarkActiveTab = condition => {\r\n\t\tconst selectedOption = `is${helpers.camelize(condition)}View`;\r\n\t\treturn this.props.menu[selectedOption];\r\n\t}\t\r\n\r\n\trender() {\r\n\t\tlet drawerDisplay = this.props.menu.isDrawerView ? \"block\" : \"none\";\r\n\t\tlet shareDisplay = this.props.menu.isShareView ? \"block\" : \"none\";\r\n\t\tlet { color, text } = this.props.mode;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<div className=\"main\">\r\n\t\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t\t<HeaderMenu \r\n\t\t\t\t\t\t\tonLeftMenuToggle={this.onLeftMenuToggle} \r\n\t\t\t\t\t\t\tonRightMenuToggle={this.onRightMenuToggle} />\r\n\t\t\t\t\t\t<HeaderSubmenu \r\n\t\t\t\t\t\t\tonSubmenuTabSelect={this.onSubmenuTabSelect}\r\n\t\t\t\t\t\t\tmarkActiveTab={this.markActiveTab}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t<Body />\r\n\t\t\t\t<NextStepButton \r\n\t\t\t\t\tcolor={color}\r\n\t\t\t\t\ttext={text}\r\n\t\t\t\t\ttoggleButton={this.onNextStepButtonToggle}\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cover\" style={{display: shareDisplay}}>\r\n\t\t\t\t\t<div className=\"cover-background\" onClick={this.onRightMenuToggle} />\r\n\t\t\t\t\t<ShareBlock />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cover\" style={{display: drawerDisplay}}>\r\n\t\t\t\t\t<div className=\"cover-background\" onClick={this.onLeftMenuToggle} />\r\n\t\t\t\t\t<Drawer />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ReportBumps);","import React, { Component } from 'react';\r\nimport '../../styles/shared-trip.css';\r\n\r\nclass Slider extends Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"slider\">\r\n\t\t\t\t<div className=\"slider-background\"/>\r\n\t\t\t\t<div className=\"slider-foreground\" style={{backgroundColor: this.props.color, width: `${this.props.width}%`}}/>\r\n\t\t\t\t<div className=\"slider-dividers\">\r\n\t\t\t\t\t<div className=\"slider-divider\" />\r\n\t\t\t\t\t<div className=\"slider-divider\" />\r\n\t\t\t\t\t<div className=\"slider-divider\" />\r\n\t\t\t\t\t<div className=\"slider-divider\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Slider;","import React, { Component } from 'react';\r\nimport { db } from '../../helpers/firebase';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport '../../styles/shared-trip.css';\r\nimport { Body } from '../_common/index';\r\nimport Slider from './slider';\r\n\r\nimport * as selectedTrip from \"../../ducks/selected-trip\";\r\nimport * as menu from \"../../ducks/menu-state\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    \tselectedTrip: state.selectedTrip,\r\n        menu: state.menu\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tselectTrip: selectedTrip.selectTrip,\r\n\tselectTripView: menu.selectTripView\r\n};\r\n\r\n\r\nclass SharedTrip extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tisDataReceived: false,\r\n\t\t\tisStatsView: true,\r\n\t\t\tstats: null,\r\n\t\t\ttripQuality: \"low\"\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.getSharedTripData()\r\n\t\t.then(() => this.getAppStatistics())\r\n\t\t.then(() => this.setState({ \r\n\t\t\ttripQuality: this.setTripQuality(),\r\n\t\t\tisDataReceived: true\r\n\t\t}))\r\n\t\t.catch(error => console.log(error))\r\n\t}\r\n\r\n\tgetSharedTripData = () => {\r\n\t\tlet id = window.location.hash.split(\"#/shared/\").pop();\r\n\t\treturn db.collection('shared').doc(id)\r\n\t\t.get()\r\n\t\t.then(doc => {\r\n\t\t\tif (doc.exists) return doc.data().tripdata;\r\n\t\t}).then(trip => {\r\n\t\t\tthis.props.selectTrip(trip);\r\n\t\t\tthis.props.selectTripView();\r\n\t\t})\r\n\t}\r\n\r\n\tgetAppStatistics = () => {\r\n\t\treturn db.collection('stats').doc('totals')\r\n\t\t.get()\r\n\t\t.then(doc => {\r\n\t\t\tif (doc.exists) this.setState({stats: doc.data()})\r\n\t\t})\r\n\t}\r\n\r\n\ttoggleStats = () => {\r\n\t\tthis.setState({isStatsView: !this.state.isStatsView})\r\n\t}\r\n\r\n\tsetTripQuality = () => {\r\n\t\tlet trip = this.props.selectedTrip;\r\n\t\tlet stats = this.state.stats;\r\n\r\n\t\tlet tripQuality = [\"low\", \"moderate\", \"good\"];\r\n\t\tlet quality = (trip.bumps.length/trip.distance) / (stats.bumpsCount/stats.distanceTotal) * 100;\r\n\r\n\t\tif (quality < 30) return tripQuality[0];\r\n\t\tif (quality > 70) return tripQuality[2];\r\n\r\n\t\treturn tripQuality[1];\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet trip = this.props.selectedTrip;\r\n\t\tlet { isDataReceived, isStatsView, stats, tripQuality } = this.state;\r\n\r\n\t\tif (isDataReceived === false) return null; //<div>Retrieving data from database</div>\r\n\r\n\t\tlet bumpsCount = trip.bumps.length;\r\n\t\tlet distance = trip.distance;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"shared-wrapper\">\r\n\t\t\t\t<div className=\"shared-stats\">\r\n\t\t\t\t\t<div className=\"shared-summary-header\">\r\n\t\t\t\t\t\t<div className=\"shared-summary-wrapper\">\r\n\t\t\t\t\t\t\t<div className=\"shared-summary\">Bumpy road informer</div>\r\n\t\t\t\t\t\t\t<div className=\"shared-trip-quality\">Trip quality: {tripQuality} </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"collapse-icon\" onClick={this.toggleStats}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"shared-details-wrapper\" style={{display: isStatsView ? \"flex\" : \"none\"}}>\r\n\t\t\t\t\t<div className=\"shared-endpoints\">\r\n\t\t\t\t\t\t<div className=\"shared-address-line\"><span className=\"shared-address-destination\">From: </span>{trip.start}</div>\r\n\t\t\t\t\t\t<div className=\"shared-address-line\"><span className=\"shared-address-destination\">To: </span>{trip.end}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"shared-slider-wrapper\">\r\n\t\t\t\t\t\t<div className=\"slider-header\"><span className=\"slider-fieldname\">Bumps per trip: </span>{bumpsCount}</div>\r\n\t\t\t\t\t\t<Slider color=\"#7fb8e9\" width={bumpsCount / (stats.bumpsCount / stats.tripsCount) * 100} />\r\n\t\t\t\t\t\t<div className=\"slider-header\"><span className=\"slider-fieldname\">Bumps per km: </span>{(bumpsCount/distance).toFixed(2)}</div>\r\n\t\t\t\t\t\t<Slider color=\"#fbad19\" width={(bumpsCount/distance) / (stats.bumpsCount/stats.distanceTotal) * 100}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"shared-map\"><Body /></div>\r\n\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SharedTrip);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        mode: state.mode\r\n    };\r\n};\r\n\r\nclass SearchMenu extends Component {\r\n\trender() {\r\n\t\tlet displaySearch = (!this.props.mode.isGuidance && !this.props.mode.isBuildingRoute) ? \"flex\" : \"none\";\r\n\t\treturn (\r\n\t\t\t<div className=\"search-menu\" style={{display: displaySearch}} >\r\n\t\t\t\t<div className=\"from-to-icon\"></div>\r\n\t\t\t\t<div className=\"search-form\">\r\n\t\t\t\t\t{[\"start\", \"end\"].map(item => (\r\n\t\t\t\t\t\t<div key={item} className=\"search-input-wrapper\">\r\n\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\t\tname={item} \r\n\t\t\t\t\t\t\t\tvalue={this.props[item]}\r\n\t\t\t\t\t\t\t\tclassName=\"search-input\" \r\n\t\t\t\t\t\t\t\tplaceholder={(item === \"start\") ? \"(Current position)\" : \"\"}\r\n\t\t\t\t\t\t\t\tonFocus={this.props.preventResize}\r\n\t\t\t\t\t\t\t\tonChange={e => this.props.handleChange(e)} />\r\n\t\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\t\tclassName=\"search-cancel-btn\"\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.clearInput(item)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(SearchMenu);\r\n","import React, { Component } from 'react';\r\n\r\nclass Warning extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"warning-wrapper\" style={{display: this.props.display ? \"flex\" : \"none\"}}>\r\n\t\t\t\t<div className=\"warning-inner\">\r\n\t\t\t\t\t<div className=\"warning-title\">Bump ahead</div>\r\n\t\t\t\t\t<div className=\"warning-sign\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Warning;","import React, { Component } from 'react';\r\nimport '../../styles/check-trip.css';\r\nimport { HeaderMenu, Drawer, NextStepButton, Body } from '../_common/index';\r\nimport SearchMenu from './search-menu';\r\nimport Warning from './warning';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as menu from \"../../ducks/menu-state\";\r\nimport * as mode from \"../../ducks/mode\";\r\nimport * as dom from \"../../ducks/dom\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        selectedTrip: state.selectedTrip,\r\n        menu: state.menu,\r\n        mode: state.mode,\r\n        dom: state.dom\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tcloseDrawerView: menu.closeDrawerView,\r\n\tselectDrawerView: menu.selectDrawerView,\r\n\tselectCheckTripView: menu.selectCheckTripView,\r\n\tstartGuidance: mode.startGuidance,\r\n\tstopGuidance: mode.stopGuidance,\r\n\tbuildRoute: mode.buildRoute,\r\n\tchangeBarColor: dom.changeBarColor\r\n};\r\n\r\nclass CheckTrip extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t    this.state = {\r\n\t    \tstart: \"\",\r\n\t    \tend: \"\",\r\n\t    \tisBumpAhead: false\r\n\t    };\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.changeBarColor(\"#4c88b7\");\r\n\t\tthis.props.selectCheckTripView();\r\n\t    this.props.stopGuidance();\r\n\t}\r\n\r\n\tpreventResize = () => {\r\n\t\tlet { width, height, ratio } = this.props.dom;\r\n\t\tlet newHeight = window.innerWidth / ratio;\r\n\t\tdocument.querySelector(\"meta[name=viewport]\")\r\n        .setAttribute(\"content\", `width=device-width, height=${newHeight}, user-scalable=no, initial-scale=1.0, maximum-scale=1.0`);\r\n    }\r\n\r\n\tonLeftMenuToggle = () => {\r\n\t\tlet isDrawerView = this.props.menu.isDrawerView;\r\n\t\tif (isDrawerView) return this.props.closeDrawerView();\r\n\t\tthis.props.selectDrawerView();\r\n\t}\r\n\r\n\tonNextStepButtonToggle = () => {\r\n\t\tlet { isBuildingRoute, isGuidance } = this.props.mode;\r\n\t\tif (isBuildingRoute) return this.props.startGuidance();\r\n\t\tif (isGuidance) return this.props.stopGuidance();\r\n\t\tif (!isGuidance && !isBuildingRoute) return this.props.buildRoute();\r\n\t}\r\n\r\n\tonSearchButtonToggle = () => {\r\n\t\tthis.props.stopGuidance();\r\n\t}\r\n\r\n\thandleInputChange = e => {\r\n\t\tlet { name, value } = e.target;\r\n\t\tthis.setState({\t[name]: value });\r\n\t}\r\n\r\n\tclearInput = item => {\r\n\t\tthis.setState({ [item]: \"\" });\r\n\t}\r\n\r\n\treportBumpAhead = status => {\r\n\t\tthis.setState({isBumpAhead: status});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { start, end } = this.state;\r\n\t\tlet coverDisplay = this.props.menu.isDrawerView ? \"block\" : \"none\";\r\n\t\tlet searchButtonDisplay = (this.props.mode.isBuildingRoute) ? \"flex\" : \"none\";\r\n\t\tlet {color, text} = this.props.mode;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<div className=\"main\">\r\n\t\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t\t<HeaderMenu onLeftMenuToggle={this.onLeftMenuToggle} />\r\n\t\t\t\t\t\t<SearchMenu \r\n\t\t\t\t\t\t\thandleChange={this.handleInputChange} \r\n\t\t\t\t\t\t\tclearInput={this.clearInput}\r\n\t\t\t\t\t\t\tstart={start}\r\n\t\t\t\t\t\t\tend={end}\r\n\t\t\t\t\t\t\tpreventResize={this.preventResize}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className=\"directions-btn\" \r\n\t\t\t\t\t\t\tstyle={{display: searchButtonDisplay}} \r\n\t\t\t\t\t\t\tonClick={this.onSearchButtonToggle} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Body start={start} end={end} reportBumpAhead={this.reportBumpAhead} />\r\n\t\t\t\t\t<NextStepButton \r\n\t\t\t\t\t\tcolor={color} \r\n\t\t\t\t\t\ttoggleButton={this.onNextStepButtonToggle}\r\n\t\t\t\t\t\ttext={text}\t/>\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<Warning display={this.state.isBumpAhead} />\r\n\t\t\t\t<div className=\"cover\" style={{display: coverDisplay}}>\r\n\t\t\t\t\t<div className=\"cover-background\" onClick={this.onLeftMenuToggle}  />\r\n\t\t\t\t\t<Drawer />\r\n\t\t\t\t</div>\r\n\t\t\t</div> \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckTrip);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from 'react-router-dom';\r\nimport '../../styles/start.css';\r\n\r\nimport * as dom from \"../../ducks/dom\";\r\n\r\nconst mapDispatchToProps = {\r\n  changeBarColor: dom.changeBarColor\r\n};\r\n\r\nclass Start extends Component {\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.changeBarColor(\"#fbad19\");\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<div className=\"start-page-main\">\r\n\t\t\t\t\t<div className=\"logo-container\">\r\n\t\t\t\t\t\t<div className=\"logo-txt\">Bumpy</div>\r\n\t\t\t\t\t\t<div className=\"logo-txt\">Roads</div>\r\n\t\t\t\t\t\t<div className=\"logo-txt\">Informer</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link exact=\"true\" to=\"/map\" className=\"bottom-ruler-btn\">\r\n\t\t\t\t\tget started\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Start);\r\n","import React, {Component} from 'react';\nimport './App.css';\nimport { Route, HashRouter } from 'react-router-dom';\nimport { createBrowserHistory } from \"history\";\nimport { connect } from \"react-redux\";\nimport { db } from '../helpers/firebase';\n\nimport ReportBumps from './ReportBumps/index';\nimport SharedTrip from './SharedTrip/index';\nimport CheckTrip from './CheckTrip/index';\nimport Start from './Start/index';\n\nimport * as dom from \"../ducks/dom\";\nimport * as bumps from \"../ducks/bumps-map\";\nimport * as stats from \"../ducks/stats\";\n\nconst mapStateToProps = state => {\n    return {\n        dom: state.dom\n    };\n};\n\nconst mapDispatchToProps = {\n\tsetDimentions: dom.setDimentions,\n\tsetRatio: dom.setRatio,\n\taddBumps: bumps.addBumps,\n\tgetStats: stats.getStats,\n};\n\nconst customHistory = createBrowserHistory();\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t    this.state = {\n\t    \tisFetching: true\n\t    };\n\t}\n\n\tcomponentDidMount = () => {\n\t\twindow.addEventListener('load', () => window.history.pushState({ noBackExitsApp: true }, ''));\n\n\t\twindow.addEventListener('popstate', (event) => {\n\t\t  if (!event.state || !event.state.noBackExitsApp) return;\n\t\t  window.history.pushState({ noBackExitsApp: true }, '')\n\t\t})\n\n\t\tthis.updateStatusbarColor();\n\t\t//this.props.getStats();\n\t\tthis.retrieveBumpsFromDatabase();\n\n\t\tthis.props.setDimentions({ width: window.innerWidth, height: window.innerHeight });\n\t\tthis.props.setRatio({ ratio: window.innerWidth / window.innerHeight });\n\n\t}\n\n\tcomponentDidUpdate = prevProps => {\n\t\tif (prevProps.dom.color !== this.props.dom.color) {\n\t\t\tthis.updateStatusbarColor();\n\t\t}\n\t}\n\n\tupdateStatusbarColor = () => {\n\t\tdocument.querySelector(\"meta[name=theme-color]\").setAttribute(\"content\", this.props.dom.color);\n\t}\n\n\tretrieveBumpsFromDatabase  = () => {\n\t\tdb.collection('bumpsmap').doc('bumps').get().then(doc => { \n\t\t\tif (doc.exists) this.props.addBumps(doc.data().bumps);\n\t\t}).then(() => this.setState({isFetching: false}))\n\t}\n\n\tretrieveAppStatsFromDatabase = () => {\n\t\t\n\t}\n\n\trender() {\n\t\tif (this.state.isFetching) return null; //(<div>Loading</div>);\n\t    return (\n\t\t    <HashRouter history={customHistory} >\n\t\t       \t<Route exact path=\"/\" component={Start} />\n\t\t\t\t<Route exact path=\"/map\" component={ReportBumps} />\n\t\t\t\t<Route exact path=\"/checktrip\" component={CheckTrip} />\n\t\t\t\t<Route path=\"/shared/:number\" component={SharedTrip} />\n  \t\t\t</HashRouter>\n\t    );\n\t}  \n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from \"react-router-dom\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\n\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nserviceWorker.unregister();\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<HashRouter>\n\t\t\t<App />\n\t\t</HashRouter>\n\t</Provider>, document.getElementById('root'));\n\n//serviceWorker.register();\n"],"sourceRoot":""}